(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function lA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var _d={exports:{}},io={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m_;function oA(){if(m_)return io;m_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:h}}return io.Fragment=t,io.jsx=i,io.jsxs=i,io}var g_;function uA(){return g_||(g_=1,_d.exports=oA()),_d.exports}var G=uA(),vd={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function cA(){if(p_)return Ct;p_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.iterator;function N(V){return V===null||typeof V!="object"?null:(V=R&&V[R]||V["@@iterator"],typeof V=="function"?V:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,Y={};function F(V,J,ft){this.props=V,this.context=J,this.refs=Y,this.updater=ft||L}F.prototype.isReactComponent={},F.prototype.setState=function(V,J){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,J,"setState")},F.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function W(){}W.prototype=F.prototype;function rt(V,J,ft){this.props=V,this.context=J,this.refs=Y,this.updater=ft||L}var nt=rt.prototype=new W;nt.constructor=rt,H(nt,F.prototype),nt.isPureReactComponent=!0;var dt=Array.isArray,tt={H:null,A:null,T:null,S:null},_t=Object.prototype.hasOwnProperty;function x(V,J,ft,at,lt,Dt){return ft=Dt.ref,{$$typeof:r,type:V,key:J,ref:ft!==void 0?ft:null,props:Dt}}function w(V,J){return x(V.type,J,void 0,void 0,void 0,V.props)}function b(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function D(V){var J={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ft){return J[ft]})}var I=/\/+/g;function U(V,J){return typeof V=="object"&&V!==null&&V.key!=null?D(""+V.key):J.toString(36)}function C(){}function ce(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(C,C):(V.status="pending",V.then(function(J){V.status==="pending"&&(V.status="fulfilled",V.value=J)},function(J){V.status==="pending"&&(V.status="rejected",V.reason=J)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function me(V,J,ft,at,lt){var Dt=typeof V;(Dt==="undefined"||Dt==="boolean")&&(V=null);var Rt=!1;if(V===null)Rt=!0;else switch(Dt){case"bigint":case"string":case"number":Rt=!0;break;case"object":switch(V.$$typeof){case r:case t:Rt=!0;break;case A:return Rt=V._init,me(Rt(V._payload),J,ft,at,lt)}}if(Rt)return lt=lt(V),Rt=at===""?"."+U(V,0):at,dt(lt)?(ft="",Rt!=null&&(ft=Rt.replace(I,"$&/")+"/"),me(lt,J,ft,"",function(se){return se})):lt!=null&&(b(lt)&&(lt=w(lt,ft+(lt.key==null||V&&V.key===lt.key?"":(""+lt.key).replace(I,"$&/")+"/")+Rt)),J.push(lt)),1;Rt=0;var ge=at===""?".":at+":";if(dt(V))for(var Bt=0;Bt<V.length;Bt++)at=V[Bt],Dt=ge+U(at,Bt),Rt+=me(at,J,ft,Dt,lt);else if(Bt=N(V),typeof Bt=="function")for(V=Bt.call(V),Bt=0;!(at=V.next()).done;)at=at.value,Dt=ge+U(at,Bt++),Rt+=me(at,J,ft,Dt,lt);else if(Dt==="object"){if(typeof V.then=="function")return me(ce(V),J,ft,at,lt);throw J=String(V),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Rt}function st(V,J,ft){if(V==null)return V;var at=[],lt=0;return me(V,at,"","",function(Dt){return J.call(ft,Dt,lt++)}),at}function vt(V){if(V._status===-1){var J=V._result;J=J(),J.then(function(ft){(V._status===0||V._status===-1)&&(V._status=1,V._result=ft)},function(ft){(V._status===0||V._status===-1)&&(V._status=2,V._result=ft)}),V._status===-1&&(V._status=0,V._result=J)}if(V._status===1)return V._result.default;throw V._result}var gt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Gt(){}return Ct.Children={map:st,forEach:function(V,J,ft){st(V,function(){J.apply(this,arguments)},ft)},count:function(V){var J=0;return st(V,function(){J++}),J},toArray:function(V){return st(V,function(J){return J})||[]},only:function(V){if(!b(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ct.Component=F,Ct.Fragment=i,Ct.Profiler=o,Ct.PureComponent=rt,Ct.StrictMode=a,Ct.Suspense=y,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=tt,Ct.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ct.cache=function(V){return function(){return V.apply(null,arguments)}},Ct.cloneElement=function(V,J,ft){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var at=H({},V.props),lt=V.key,Dt=void 0;if(J!=null)for(Rt in J.ref!==void 0&&(Dt=void 0),J.key!==void 0&&(lt=""+J.key),J)!_t.call(J,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&J.ref===void 0||(at[Rt]=J[Rt]);var Rt=arguments.length-2;if(Rt===1)at.children=ft;else if(1<Rt){for(var ge=Array(Rt),Bt=0;Bt<Rt;Bt++)ge[Bt]=arguments[Bt+2];at.children=ge}return x(V.type,lt,void 0,void 0,Dt,at)},Ct.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:h,_context:V},V},Ct.createElement=function(V,J,ft){var at,lt={},Dt=null;if(J!=null)for(at in J.key!==void 0&&(Dt=""+J.key),J)_t.call(J,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(lt[at]=J[at]);var Rt=arguments.length-2;if(Rt===1)lt.children=ft;else if(1<Rt){for(var ge=Array(Rt),Bt=0;Bt<Rt;Bt++)ge[Bt]=arguments[Bt+2];lt.children=ge}if(V&&V.defaultProps)for(at in Rt=V.defaultProps,Rt)lt[at]===void 0&&(lt[at]=Rt[at]);return x(V,Dt,void 0,void 0,null,lt)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(V){return{$$typeof:g,render:V}},Ct.isValidElement=b,Ct.lazy=function(V){return{$$typeof:A,_payload:{_status:-1,_result:V},_init:vt}},Ct.memo=function(V,J){return{$$typeof:p,type:V,compare:J===void 0?null:J}},Ct.startTransition=function(V){var J=tt.T,ft={};tt.T=ft;try{var at=V(),lt=tt.S;lt!==null&&lt(ft,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Gt,gt)}catch(Dt){gt(Dt)}finally{tt.T=J}},Ct.unstable_useCacheRefresh=function(){return tt.H.useCacheRefresh()},Ct.use=function(V){return tt.H.use(V)},Ct.useActionState=function(V,J,ft){return tt.H.useActionState(V,J,ft)},Ct.useCallback=function(V,J){return tt.H.useCallback(V,J)},Ct.useContext=function(V){return tt.H.useContext(V)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(V,J){return tt.H.useDeferredValue(V,J)},Ct.useEffect=function(V,J){return tt.H.useEffect(V,J)},Ct.useId=function(){return tt.H.useId()},Ct.useImperativeHandle=function(V,J,ft){return tt.H.useImperativeHandle(V,J,ft)},Ct.useInsertionEffect=function(V,J){return tt.H.useInsertionEffect(V,J)},Ct.useLayoutEffect=function(V,J){return tt.H.useLayoutEffect(V,J)},Ct.useMemo=function(V,J){return tt.H.useMemo(V,J)},Ct.useOptimistic=function(V,J){return tt.H.useOptimistic(V,J)},Ct.useReducer=function(V,J,ft){return tt.H.useReducer(V,J,ft)},Ct.useRef=function(V){return tt.H.useRef(V)},Ct.useState=function(V){return tt.H.useState(V)},Ct.useSyncExternalStore=function(V,J,ft){return tt.H.useSyncExternalStore(V,J,ft)},Ct.useTransition=function(){return tt.H.useTransition()},Ct.version="19.0.0",Ct}var y_;function gm(){return y_||(y_=1,vd.exports=cA()),vd.exports}var bt=gm();const Cs=lA(bt);var Ed={exports:{}},ro={},Td={exports:{}},Ad={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function hA(){return __||(__=1,function(r){function t(st,vt){var gt=st.length;st.push(vt);t:for(;0<gt;){var Gt=gt-1>>>1,V=st[Gt];if(0<o(V,vt))st[Gt]=vt,st[gt]=V,gt=Gt;else break t}}function i(st){return st.length===0?null:st[0]}function a(st){if(st.length===0)return null;var vt=st[0],gt=st.pop();if(gt!==vt){st[0]=gt;t:for(var Gt=0,V=st.length,J=V>>>1;Gt<J;){var ft=2*(Gt+1)-1,at=st[ft],lt=ft+1,Dt=st[lt];if(0>o(at,gt))lt<V&&0>o(Dt,at)?(st[Gt]=Dt,st[lt]=gt,Gt=lt):(st[Gt]=at,st[ft]=gt,Gt=ft);else if(lt<V&&0>o(Dt,gt))st[Gt]=Dt,st[lt]=gt,Gt=lt;else break t}}return vt}function o(st,vt){var gt=st.sortIndex-vt.sortIndex;return gt!==0?gt:st.id-vt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var y=[],p=[],A=1,R=null,N=3,L=!1,H=!1,Y=!1,F=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,rt=typeof setImmediate<"u"?setImmediate:null;function nt(st){for(var vt=i(p);vt!==null;){if(vt.callback===null)a(p);else if(vt.startTime<=st)a(p),vt.sortIndex=vt.expirationTime,t(y,vt);else break;vt=i(p)}}function dt(st){if(Y=!1,nt(st),!H)if(i(y)!==null)H=!0,ce();else{var vt=i(p);vt!==null&&me(dt,vt.startTime-st)}}var tt=!1,_t=-1,x=5,w=-1;function b(){return!(r.unstable_now()-w<x)}function D(){if(tt){var st=r.unstable_now();w=st;var vt=!0;try{t:{H=!1,Y&&(Y=!1,W(_t),_t=-1),L=!0;var gt=N;try{e:{for(nt(st),R=i(y);R!==null&&!(R.expirationTime>st&&b());){var Gt=R.callback;if(typeof Gt=="function"){R.callback=null,N=R.priorityLevel;var V=Gt(R.expirationTime<=st);if(st=r.unstable_now(),typeof V=="function"){R.callback=V,nt(st),vt=!0;break e}R===i(y)&&a(y),nt(st)}else a(y);R=i(y)}if(R!==null)vt=!0;else{var J=i(p);J!==null&&me(dt,J.startTime-st),vt=!1}}break t}finally{R=null,N=gt,L=!1}vt=void 0}}finally{vt?I():tt=!1}}}var I;if(typeof rt=="function")I=function(){rt(D)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,C=U.port2;U.port1.onmessage=D,I=function(){C.postMessage(null)}}else I=function(){F(D,0)};function ce(){tt||(tt=!0,I())}function me(st,vt){_t=F(function(){st(r.unstable_now())},vt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(st){st.callback=null},r.unstable_continueExecution=function(){H||L||(H=!0,ce())},r.unstable_forceFrameRate=function(st){0>st||125<st?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<st?Math.floor(1e3/st):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_getFirstCallbackNode=function(){return i(y)},r.unstable_next=function(st){switch(N){case 1:case 2:case 3:var vt=3;break;default:vt=N}var gt=N;N=vt;try{return st()}finally{N=gt}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(st,vt){switch(st){case 1:case 2:case 3:case 4:case 5:break;default:st=3}var gt=N;N=st;try{return vt()}finally{N=gt}},r.unstable_scheduleCallback=function(st,vt,gt){var Gt=r.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?Gt+gt:Gt):gt=Gt,st){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=gt+V,st={id:A++,callback:vt,priorityLevel:st,startTime:gt,expirationTime:V,sortIndex:-1},gt>Gt?(st.sortIndex=gt,t(p,st),i(y)===null&&st===i(p)&&(Y?(W(_t),_t=-1):Y=!0,me(dt,gt-Gt))):(st.sortIndex=V,t(y,st),H||L||(H=!0,ce())),st},r.unstable_shouldYield=b,r.unstable_wrapCallback=function(st){var vt=N;return function(){var gt=N;N=vt;try{return st.apply(this,arguments)}finally{N=gt}}}}(Ad)),Ad}var v_;function fA(){return v_||(v_=1,Td.exports=hA()),Td.exports}var bd={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function dA(){if(E_)return Qe;E_=1;var r=gm();function t(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)p+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(y,p,A){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:R==null?null:""+R,children:y,containerInfo:p,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Qe.createPortal=function(y,p){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return h(y,p,null,A)},Qe.flushSync=function(y){var p=d.T,A=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=p,a.p=A,a.d.f()}},Qe.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(y,p))},Qe.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Qe.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var A=p.as,R=g(A,p.crossOrigin),N=typeof p.integrity=="string"?p.integrity:void 0,L=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;A==="style"?a.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:R,integrity:N,fetchPriority:L}):A==="script"&&a.d.X(y,{crossOrigin:R,integrity:N,fetchPriority:L,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Qe.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var A=g(p.as,p.crossOrigin);a.d.M(y,{crossOrigin:A,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(y)},Qe.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var A=p.as,R=g(A,p.crossOrigin);a.d.L(y,A,{crossOrigin:R,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Qe.preloadModule=function(y,p){if(typeof y=="string")if(p){var A=g(p.as,p.crossOrigin);a.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:A,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(y)},Qe.requestFormReset=function(y){a.d.r(y)},Qe.unstable_batchedUpdates=function(y,p){return y(p)},Qe.useFormState=function(y,p,A){return d.H.useFormState(y,p,A)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.0.0",Qe}var T_;function r0(){if(T_)return bd.exports;T_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),bd.exports=dA(),bd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_;function mA(){if(A_)return ro;A_=1;var r=fA(),t=gm(),i=r0();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var h=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),L=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),rt=Symbol.for("react.lazy"),nt=Symbol.for("react.offscreen"),dt=Symbol.for("react.memo_cache_sentinel"),tt=Symbol.iterator;function _t(e){return e===null||typeof e!="object"?null:(e=tt&&e[tt]||e["@@iterator"],typeof e=="function"?e:null)}var x=Symbol.for("react.client.reference");function w(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===x?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case y:return"Fragment";case g:return"Portal";case A:return"Profiler";case p:return"StrictMode";case Y:return"Suspense";case F:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case L:return(e.displayName||"Context")+".Provider";case N:return(e._context.displayName||"Context")+".Consumer";case H:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case W:return n=e.displayName||null,n!==null?n:w(e.type)||"Memo";case rt:n=e._payload,e=e._init;try{return w(e(n))}catch{}}return null}var b=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,I,U;function C(e){if(I===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);I=n&&n[1]||"",U=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+I+e+U}var ce=!1;function me(e,n){if(!e||ce)return"";ce=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(q){var k=q}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(q){k=q}e.call(Z.prototype)}}else{try{throw Error()}catch(q){k=q}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(q){if(q&&k&&typeof q.stack=="string")return[q.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],E=f[1];if(v&&E){var S=v.split(`
`),M=E.split(`
`);for(c=l=0;l<S.length&&!S[l].includes("DetermineComponentFrameRoot");)l++;for(;c<M.length&&!M[c].includes("DetermineComponentFrameRoot");)c++;if(l===S.length||c===M.length)for(l=S.length-1,c=M.length-1;1<=l&&0<=c&&S[l]!==M[c];)c--;for(;1<=l&&0<=c;l--,c--)if(S[l]!==M[c]){if(l!==1||c!==1)do if(l--,c--,0>c||S[l]!==M[c]){var Q=`
`+S[l].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=l&&0<=c);break}}}finally{ce=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?C(s):""}function st(e){switch(e.tag){case 26:case 27:case 5:return C(e.type);case 16:return C("Lazy");case 13:return C("Suspense");case 19:return C("SuspenseList");case 0:case 15:return e=me(e.type,!1),e;case 11:return e=me(e.type.render,!1),e;case 1:return e=me(e.type,!0),e;default:return""}}function vt(e){try{var n="";do n+=st(e),e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function gt(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function Gt(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function V(e){if(gt(e)!==e)throw Error(a(188))}function J(e){var n=e.alternate;if(!n){if(n=gt(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,l=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return V(c),e;if(f===l)return V(c),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=c,l=f;else{for(var v=!1,E=c.child;E;){if(E===s){v=!0,s=c,l=f;break}if(E===l){v=!0,l=c,s=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===s){v=!0,s=f,l=c;break}if(E===l){v=!0,l=f,s=c;break}E=E.sibling}if(!v)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function ft(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=ft(e),n!==null)return n;e=e.sibling}return null}var at=Array.isArray,lt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Dt={pending:!1,data:null,method:null,action:null},Rt=[],ge=-1;function Bt(e){return{current:e}}function se(e){0>ge||(e.current=Rt[ge],Rt[ge]=null,ge--)}function Kt(e,n){ge++,Rt[ge]=e.current,e.current=n}var $e=Bt(null),pi=Bt(null),yn=Bt(null),Ki=Bt(null);function Xi(e,n){switch(Kt(yn,n),Kt(pi,e),Kt($e,null),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?Hy(n):0;break;default:if(e=e===8?n.parentNode:n,n=e.tagName,e=e.namespaceURI)e=Hy(e),n=Fy(e,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}se($e),Kt($e,n)}function yi(){se($e),se(pi),se(yn)}function Ja(e){e.memoizedState!==null&&Kt(Ki,e);var n=$e.current,s=Fy(n,e.type);n!==s&&(Kt(pi,e),Kt($e,s))}function Ls(e){pi.current===e&&(se($e),se(pi)),Ki.current===e&&(se(Ki),Jl._currentValue=Dt)}var js=Object.prototype.hasOwnProperty,Qr=r.unstable_scheduleCallback,ks=r.unstable_cancelCallback,vh=r.unstable_shouldYield,Wa=r.unstable_requestPaint,nn=r.unstable_now,Ko=r.unstable_getCurrentPriorityLevel,Ae=r.unstable_ImmediatePriority,Ve=r.unstable_UserBlockingPriority,_i=r.unstable_NormalPriority,Xo=r.unstable_LowPriority,tl=r.unstable_IdlePriority,Eh=r.log,Yr=r.unstable_setDisableYieldValue,$i=null,Fe=null;function el(e){if(Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot($i,e,void 0,(e.current.flags&128)===128)}catch{}}function Kn(e){if(typeof Eh=="function"&&Yr(e),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode($i,e)}catch{}}var Ze=Math.clz32?Math.clz32:Zo,nl=Math.log,$o=Math.LN2;function Zo(e){return e>>>=0,e===0?32:31-(nl(e)/$o|0)|0}var Xn=128,Zi=4194304;function Pn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function _n(e,n){var s=e.pendingLanes;if(s===0)return 0;var l=0,c=e.suspendedLanes,f=e.pingedLanes,v=e.warmLanes;e=e.finishedLanes!==0;var E=s&134217727;return E!==0?(s=E&~c,s!==0?l=Pn(s):(f&=E,f!==0?l=Pn(f):e||(v=E&~v,v!==0&&(l=Pn(v))))):(E=s&~c,E!==0?l=Pn(E):f!==0?l=Pn(f):e||(v=s&~v,v!==0&&(l=Pn(v)))),l===0?0:n!==0&&n!==l&&(n&c)===0&&(c=l&-l,v=n&-n,c>=v||c===32&&(v&4194176)!==0)?n:l}function Ji(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Bs(e,n){switch(e){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function il(){var e=Xn;return Xn<<=1,(Xn&4194176)===0&&(Xn=128),e}function Wi(){var e=Zi;return Zi<<=1,(Zi&62914560)===0&&(Zi=4194304),e}function qs(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function he(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Jo(e,n,s,l,c,f){var v=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,S=e.expirationTimes,M=e.hiddenUpdates;for(s=v&~s;0<s;){var Q=31-Ze(s),Z=1<<Q;E[Q]=0,S[Q]=-1;var k=M[Q];if(k!==null)for(M[Q]=null,Q=0;Q<k.length;Q++){var q=k[Q];q!==null&&(q.lane&=-536870913)}s&=~Z}l!==0&&tr(e,l,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(v&~n))}function tr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-Ze(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&4194218}function er(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-Ze(s),c=1<<l;c&n|e[l]&n&&(e[l]|=n),s&=~c}}function Wo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function tu(){var e=lt.p;return e!==0?e:(e=window.event,e===void 0?32:o_(e.type))}function nr(e,n){var s=lt.p;try{return lt.p=e,n()}finally{lt.p=s}}var $n=Math.random().toString(36).slice(2),xe="__reactFiber$"+$n,be="__reactProps$"+$n,vi="__reactContainer$"+$n,Kr="__reactEvents$"+$n,Hs="__reactListeners$"+$n,Zn="__reactHandles$"+$n,rl="__reactResources$"+$n,ir="__reactMarker$"+$n;function Xr(e){delete e[xe],delete e[be],delete e[Kr],delete e[Hs],delete e[Zn]}function Ln(e){var n=e[xe];if(n)return n;for(var s=e.parentNode;s;){if(n=s[vi]||s[xe]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Yy(e);e!==null;){if(s=e[xe])return s;e=Yy(e)}return n}e=s,s=e.parentNode}return null}function Ei(e){if(e=e[xe]||e[vi]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function rr(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function sr(e){var n=e[rl];return n||(n=e[rl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ee(e){e[ir]=!0}var sl=new Set,Fs={};function on(e,n){rn(e,n),rn(e+"Capture",n)}function rn(e,n){for(Fs[e]=n,e=0;e<n.length;e++)sl.add(n[e])}var un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Th=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),al={},ll={};function eu(e){return js.call(ll,e)?!0:js.call(al,e)?!1:Th.test(e)?ll[e]=!0:(al[e]=!0,!1)}function ar(e,n,s){if(eu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function lr(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function vn(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function Je(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function nu(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ah(e){var n=nu(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,f=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function $r(e){e._valueTracker||(e._valueTracker=Ah(e))}function ol(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=nu(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function Gs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ti=/[\n"\\]/g;function ae(e){return e.replace(Ti,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function or(e,n,s,l,c,f,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),n!=null?v==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Je(n)):e.value!==""+Je(n)&&(e.value=""+Je(n)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),n!=null?Qs(e,v,Je(n)):s!=null?Qs(e,v,Je(s)):l!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Je(E):e.removeAttribute("name")}function Zr(e,n,s,l,c,f,v,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;s=s!=null?""+Je(s):"",n=n!=null?""+Je(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Qs(e,n,s){n==="number"&&Gs(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function qt(e,n,s,l){if(e=e.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=n.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&l&&(e[s].defaultSelected=!0)}else{for(s=""+Je(s),n=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Jr(e,n,s){if(n!=null&&(n=""+Je(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Je(s):""}function ur(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(at(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Je(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l)}function En(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var bh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ul(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||bh.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function iu(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&s[c]!==l&&ul(e,c,l)}else for(var f in n)n.hasOwnProperty(f)&&ul(e,f,n[f])}function cl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jn(e){return wh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Tn=null;function Ys(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ai=null,bi=null;function Si(e){var n=Ei(e);if(n&&(e=n.stateNode)){var s=e[be]||null;t:switch(e=n.stateNode,n.type){case"input":if(or(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+ae(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var c=l[be]||null;if(!c)throw Error(a(90));or(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&ol(l)}break t;case"textarea":Jr(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&qt(e,!!s.multiple,n,!1)}}}var hl=!1;function ru(e,n,s){if(hl)return e(n,s);hl=!0;try{var l=e(n);return l}finally{if(hl=!1,(Ai!==null||bi!==null)&&(Xu(),Ai&&(n=Ai,e=bi,bi=Ai=null,Si(n),e)))for(n=0;n<e.length;n++)Si(e[n])}}function Wr(e,n){var s=e.stateNode;if(s===null)return null;var l=s[be]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var An=!1;if(un)try{var ts={};Object.defineProperty(ts,"passive",{get:function(){An=!0}}),window.addEventListener("test",ts,ts),window.removeEventListener("test",ts,ts)}catch{An=!1}var Wn=null,cr=null,wi=null;function fl(){if(wi)return wi;var e,n=cr,s=n.length,l,c="value"in Wn?Wn.value:Wn.textContent,f=c.length;for(e=0;e<s&&n[e]===c[e];e++);var v=s-e;for(l=1;l<=v&&n[s-l]===c[f-l];l++);return wi=c.slice(e,1<l?1-l:void 0)}function ti(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ei(){return!0}function dl(){return!1}function Ie(e){function n(s,l,c,f,v){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ei:dl,this.isPropagationStopped=dl,this}return D(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ei)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ei)},persist:function(){},isPersistent:ei}),n}var Qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ks=Ie(Qt),es=D({},Qt,{view:0,detail:0}),su=Ie(es),Xs,$s,ni,ns=D({},es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ss,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ni&&(ni&&e.type==="mousemove"?(Xs=e.screenX-ni.screenX,$s=e.screenY-ni.screenY):$s=Xs=0,ni=e),Xs)},movementY:function(e){return"movementY"in e?e.movementY:$s}}),bn=Ie(ns),au=D({},ns,{dataTransfer:0}),Rh=Ie(au),is=D({},es,{relatedTarget:0}),Zs=Ie(is),ml=D({},Qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Js=Ie(ml),lu=D({},Qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ws=Ie(lu),Ch=D({},Qt,{data:0}),gl=Ie(Ch),rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pl(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=uu[e])?!!n[e]:!1}function ss(){return pl}var cu=D({},es,{key:function(e){if(e.key){var n=rs[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ti(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ou[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ss,charCode:function(e){return e.type==="keypress"?ti(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ti(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ta=Ie(cu),hu=D({},ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yl=Ie(hu),Ri=D({},es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ss}),fu=Ie(Ri),du=D({},Qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),mu=Ie(du),gu=D({},ns,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ea=Ie(gu),We=D({},Qt,{newState:0,oldState:0}),pu=Ie(We),yu=[9,13,27,32],ii=un&&"CompositionEvent"in window,u=null;un&&"documentMode"in document&&(u=document.documentMode);var m=un&&"TextEvent"in window&&!u,_=un&&(!ii||u&&8<u&&11>=u),T=" ",P=!1;function B(e,n){switch(e){case"keyup":return yu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function it(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zt=!1;function Se(e,n){switch(e){case"compositionend":return it(n);case"keypress":return n.which!==32?null:(P=!0,T);case"textInput":return e=n.data,e===T&&P?null:e;default:return null}}function Pt(e,n){if(zt)return e==="compositionend"||!ii&&B(e,n)?(e=fl(),wi=cr=Wn=null,zt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Ne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function we(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ne[e.type]:n==="textarea"}function Ci(e,n,s,l){Ai?bi?bi.push(l):bi=[l]:Ai=l,n=tc(n,"onChange"),0<n.length&&(s=new Ks("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var Pe=null,ri=null;function _l(e){Ly(e,0)}function _u(e){var n=rr(e);if(ol(n))return e}function dg(e,n){if(e==="change")return n}var mg=!1;if(un){var Dh;if(un){var Vh="oninput"in document;if(!Vh){var gg=document.createElement("div");gg.setAttribute("oninput","return;"),Vh=typeof gg.oninput=="function"}Dh=Vh}else Dh=!1;mg=Dh&&(!document.documentMode||9<document.documentMode)}function pg(){Pe&&(Pe.detachEvent("onpropertychange",yg),ri=Pe=null)}function yg(e){if(e.propertyName==="value"&&_u(ri)){var n=[];Ci(n,ri,e,Ys(e)),ru(_l,n)}}function PT(e,n,s){e==="focusin"?(pg(),Pe=n,ri=s,Pe.attachEvent("onpropertychange",yg)):e==="focusout"&&pg()}function LT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _u(ri)}function jT(e,n){if(e==="click")return _u(n)}function kT(e,n){if(e==="input"||e==="change")return _u(n)}function BT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var cn=typeof Object.is=="function"?Object.is:BT;function vl(e,n){if(cn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!js.call(n,c)||!cn(e[c],n[c]))return!1}return!0}function _g(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vg(e,n){var s=_g(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=_g(s)}}function Eg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Eg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Tg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Gs(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Gs(e.document)}return n}function xh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function qT(e,n){var s=Tg(n);n=e.focusedElem;var l=e.selectionRange;if(s!==n&&n&&n.ownerDocument&&Eg(n.ownerDocument.documentElement,n)){if(l!==null&&xh(n)){if(e=l.start,s=l.end,s===void 0&&(s=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(s,n.value.length);else if(s=(e=n.ownerDocument||document)&&e.defaultView||window,s.getSelection){s=s.getSelection();var c=n.textContent.length,f=Math.min(l.start,c);l=l.end===void 0?f:Math.min(l.end,c),!s.extend&&f>l&&(c=l,l=f,f=c),c=vg(n,f);var v=vg(n,l);c&&v&&(s.rangeCount!==1||s.anchorNode!==c.node||s.anchorOffset!==c.offset||s.focusNode!==v.node||s.focusOffset!==v.offset)&&(e=e.createRange(),e.setStart(c.node,c.offset),s.removeAllRanges(),f>l?(s.addRange(e),s.extend(v.node,v.offset)):(e.setEnd(v.node,v.offset),s.addRange(e)))}}for(e=[],s=n;s=s.parentNode;)s.nodeType===1&&e.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)s=e[n],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var HT=un&&"documentMode"in document&&11>=document.documentMode,na=null,Ih=null,El=null,Nh=!1;function Ag(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Nh||na==null||na!==Gs(l)||(l=na,"selectionStart"in l&&xh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),El&&vl(El,l)||(El=l,l=tc(Ih,"onSelect"),0<l.length&&(n=new Ks("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=na)))}function as(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ia={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionrun:as("Transition","TransitionRun"),transitionstart:as("Transition","TransitionStart"),transitioncancel:as("Transition","TransitionCancel"),transitionend:as("Transition","TransitionEnd")},Oh={},bg={};un&&(bg=document.createElement("div").style,"AnimationEvent"in window||(delete ia.animationend.animation,delete ia.animationiteration.animation,delete ia.animationstart.animation),"TransitionEvent"in window||delete ia.transitionend.transition);function ls(e){if(Oh[e])return Oh[e];if(!ia[e])return e;var n=ia[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in bg)return Oh[e]=n[s];return e}var Sg=ls("animationend"),wg=ls("animationiteration"),Rg=ls("animationstart"),FT=ls("transitionrun"),GT=ls("transitionstart"),QT=ls("transitioncancel"),Cg=ls("transitionend"),Dg=new Map,Vg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function jn(e,n){Dg.set(e,n),on(n,[e])}var Sn=[],ra=0,Mh=0;function vu(){for(var e=ra,n=Mh=ra=0;n<e;){var s=Sn[n];Sn[n++]=null;var l=Sn[n];Sn[n++]=null;var c=Sn[n];Sn[n++]=null;var f=Sn[n];if(Sn[n++]=null,l!==null&&c!==null){var v=l.pending;v===null?c.next=c:(c.next=v.next,v.next=c),l.pending=c}f!==0&&xg(s,c,f)}}function Eu(e,n,s,l){Sn[ra++]=e,Sn[ra++]=n,Sn[ra++]=s,Sn[ra++]=l,Mh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Uh(e,n,s,l){return Eu(e,n,s,l),Tu(e)}function hr(e,n){return Eu(e,null,null,n),Tu(e)}function xg(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var c=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;c&&n!==null&&e.tag===3&&(f=e.stateNode,c=31-Ze(s),f=f.hiddenUpdates,e=f[c],e===null?f[c]=[n]:e.push(n),n.lane=s|536870912)}function Tu(e){if(50<Gl)throw Gl=0,qf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var sa={},Ig=new WeakMap;function wn(e,n){if(typeof e=="object"&&e!==null){var s=Ig.get(e);return s!==void 0?s:(n={value:e,source:n,stack:vt(n)},Ig.set(e,n),n)}return{value:e,source:n,stack:vt(n)}}var aa=[],la=0,Au=null,bu=0,Rn=[],Cn=0,os=null,Di=1,Vi="";function us(e,n){aa[la++]=bu,aa[la++]=Au,Au=e,bu=n}function Ng(e,n,s){Rn[Cn++]=Di,Rn[Cn++]=Vi,Rn[Cn++]=os,os=e;var l=Di;e=Vi;var c=32-Ze(l)-1;l&=~(1<<c),s+=1;var f=32-Ze(n)+c;if(30<f){var v=c-c%5;f=(l&(1<<v)-1).toString(32),l>>=v,c-=v,Di=1<<32-Ze(n)+c|s<<c|l,Vi=f+e}else Di=1<<f|s<<c|l,Vi=e}function zh(e){e.return!==null&&(us(e,1),Ng(e,1,0))}function Ph(e){for(;e===Au;)Au=aa[--la],aa[la]=null,bu=aa[--la],aa[la]=null;for(;e===os;)os=Rn[--Cn],Rn[Cn]=null,Vi=Rn[--Cn],Rn[Cn]=null,Di=Rn[--Cn],Rn[Cn]=null}var tn=null,Le=null,Ht=!1,kn=null,si=!1,Lh=Error(a(519));function cs(e){var n=Error(a(418,""));throw bl(wn(n,e)),Lh}function Og(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[xe]=e,n[be]=l,s){case"dialog":Mt("cancel",n),Mt("close",n);break;case"iframe":case"object":case"embed":Mt("load",n);break;case"video":case"audio":for(s=0;s<Yl.length;s++)Mt(Yl[s],n);break;case"source":Mt("error",n);break;case"img":case"image":case"link":Mt("error",n),Mt("load",n);break;case"details":Mt("toggle",n);break;case"input":Mt("invalid",n),Zr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),$r(n);break;case"select":Mt("invalid",n);break;case"textarea":Mt("invalid",n),ur(n,l.value,l.defaultValue,l.children),$r(n)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||qy(n.textContent,s)?(l.popover!=null&&(Mt("beforetoggle",n),Mt("toggle",n)),l.onScroll!=null&&Mt("scroll",n),l.onScrollEnd!=null&&Mt("scrollend",n),l.onClick!=null&&(n.onclick=ec),n=!0):n=!1,n||cs(e)}function Mg(e){for(tn=e.return;tn;)switch(tn.tag){case 3:case 27:si=!0;return;case 5:case 13:si=!1;return;default:tn=tn.return}}function Tl(e){if(e!==tn)return!1;if(!Ht)return Mg(e),Ht=!0,!1;var n=!1,s;if((s=e.tag!==3&&e.tag!==27)&&((s=e.tag===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||sd(e.type,e.memoizedProps)),s=!s),s&&(n=!0),n&&Le&&cs(e),Mg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(n===0){Le=qn(e.nextSibling);break t}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;e=e.nextSibling}Le=null}}else Le=tn?qn(e.stateNode.nextSibling):null;return!0}function Al(){Le=tn=null,Ht=!1}function bl(e){kn===null?kn=[e]:kn.push(e)}var Sl=Error(a(460)),Ug=Error(a(474)),jh={then:function(){}};function zg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Su(){}function Pg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Su,Su),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===Sl?Error(a(483)):e;default:if(typeof n.status=="string")n.then(Su,Su);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===Sl?Error(a(483)):e}throw wl=n,Sl}}var wl=null;function Lg(){if(wl===null)throw Error(a(459));var e=wl;return wl=null,e}var oa=null,Rl=0;function wu(e){var n=Rl;return Rl+=1,oa===null&&(oa=[]),Pg(oa,e,n)}function Cl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ru(e,n){throw n.$$typeof===h?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function jg(e){var n=e._init;return n(e._payload)}function kg(e){function n(z,O){if(e){var j=z.deletions;j===null?(z.deletions=[O],z.flags|=16):j.push(O)}}function s(z,O){if(!e)return null;for(;O!==null;)n(z,O),O=O.sibling;return null}function l(z){for(var O=new Map;z!==null;)z.key!==null?O.set(z.key,z):O.set(z.index,z),z=z.sibling;return O}function c(z,O){return z=br(z,O),z.index=0,z.sibling=null,z}function f(z,O,j){return z.index=j,e?(j=z.alternate,j!==null?(j=j.index,j<O?(z.flags|=33554434,O):j):(z.flags|=33554434,O)):(z.flags|=1048576,O)}function v(z){return e&&z.alternate===null&&(z.flags|=33554434),z}function E(z,O,j,K){return O===null||O.tag!==6?(O=Mf(j,z.mode,K),O.return=z,O):(O=c(O,j),O.return=z,O)}function S(z,O,j,K){var ut=j.type;return ut===y?Q(z,O,j.props.children,K,j.key):O!==null&&(O.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===rt&&jg(ut)===O.type)?(O=c(O,j.props),Cl(O,j),O.return=z,O):(O=Fu(j.type,j.key,j.props,null,z.mode,K),Cl(O,j),O.return=z,O)}function M(z,O,j,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==j.containerInfo||O.stateNode.implementation!==j.implementation?(O=Uf(j,z.mode,K),O.return=z,O):(O=c(O,j.children||[]),O.return=z,O)}function Q(z,O,j,K,ut){return O===null||O.tag!==7?(O=Es(j,z.mode,K,ut),O.return=z,O):(O=c(O,j),O.return=z,O)}function Z(z,O,j){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Mf(""+O,z.mode,j),O.return=z,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case d:return j=Fu(O.type,O.key,O.props,null,z.mode,j),Cl(j,O),j.return=z,j;case g:return O=Uf(O,z.mode,j),O.return=z,O;case rt:var K=O._init;return O=K(O._payload),Z(z,O,j)}if(at(O)||_t(O))return O=Es(O,z.mode,j,null),O.return=z,O;if(typeof O.then=="function")return Z(z,wu(O),j);if(O.$$typeof===L)return Z(z,Bu(z,O),j);Ru(z,O)}return null}function k(z,O,j,K){var ut=O!==null?O.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ut!==null?null:E(z,O,""+j,K);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case d:return j.key===ut?S(z,O,j,K):null;case g:return j.key===ut?M(z,O,j,K):null;case rt:return ut=j._init,j=ut(j._payload),k(z,O,j,K)}if(at(j)||_t(j))return ut!==null?null:Q(z,O,j,K,null);if(typeof j.then=="function")return k(z,O,wu(j),K);if(j.$$typeof===L)return k(z,O,Bu(z,j),K);Ru(z,j)}return null}function q(z,O,j,K,ut){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return z=z.get(j)||null,E(O,z,""+K,ut);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case d:return z=z.get(K.key===null?j:K.key)||null,S(O,z,K,ut);case g:return z=z.get(K.key===null?j:K.key)||null,M(O,z,K,ut);case rt:var It=K._init;return K=It(K._payload),q(z,O,j,K,ut)}if(at(K)||_t(K))return z=z.get(j)||null,Q(O,z,K,ut,null);if(typeof K.then=="function")return q(z,O,j,wu(K),ut);if(K.$$typeof===L)return q(z,O,j,Bu(O,K),ut);Ru(O,K)}return null}function ht(z,O,j,K){for(var ut=null,It=null,mt=O,yt=O=0,Ue=null;mt!==null&&yt<j.length;yt++){mt.index>yt?(Ue=mt,mt=null):Ue=mt.sibling;var Ft=k(z,mt,j[yt],K);if(Ft===null){mt===null&&(mt=Ue);break}e&&mt&&Ft.alternate===null&&n(z,mt),O=f(Ft,O,yt),It===null?ut=Ft:It.sibling=Ft,It=Ft,mt=Ue}if(yt===j.length)return s(z,mt),Ht&&us(z,yt),ut;if(mt===null){for(;yt<j.length;yt++)mt=Z(z,j[yt],K),mt!==null&&(O=f(mt,O,yt),It===null?ut=mt:It.sibling=mt,It=mt);return Ht&&us(z,yt),ut}for(mt=l(mt);yt<j.length;yt++)Ue=q(mt,z,yt,j[yt],K),Ue!==null&&(e&&Ue.alternate!==null&&mt.delete(Ue.key===null?yt:Ue.key),O=f(Ue,O,yt),It===null?ut=Ue:It.sibling=Ue,It=Ue);return e&&mt.forEach(function(xr){return n(z,xr)}),Ht&&us(z,yt),ut}function At(z,O,j,K){if(j==null)throw Error(a(151));for(var ut=null,It=null,mt=O,yt=O=0,Ue=null,Ft=j.next();mt!==null&&!Ft.done;yt++,Ft=j.next()){mt.index>yt?(Ue=mt,mt=null):Ue=mt.sibling;var xr=k(z,mt,Ft.value,K);if(xr===null){mt===null&&(mt=Ue);break}e&&mt&&xr.alternate===null&&n(z,mt),O=f(xr,O,yt),It===null?ut=xr:It.sibling=xr,It=xr,mt=Ue}if(Ft.done)return s(z,mt),Ht&&us(z,yt),ut;if(mt===null){for(;!Ft.done;yt++,Ft=j.next())Ft=Z(z,Ft.value,K),Ft!==null&&(O=f(Ft,O,yt),It===null?ut=Ft:It.sibling=Ft,It=Ft);return Ht&&us(z,yt),ut}for(mt=l(mt);!Ft.done;yt++,Ft=j.next())Ft=q(mt,z,yt,Ft.value,K),Ft!==null&&(e&&Ft.alternate!==null&&mt.delete(Ft.key===null?yt:Ft.key),O=f(Ft,O,yt),It===null?ut=Ft:It.sibling=Ft,It=Ft);return e&&mt.forEach(function(aA){return n(z,aA)}),Ht&&us(z,yt),ut}function ue(z,O,j,K){if(typeof j=="object"&&j!==null&&j.type===y&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case d:t:{for(var ut=j.key;O!==null;){if(O.key===ut){if(ut=j.type,ut===y){if(O.tag===7){s(z,O.sibling),K=c(O,j.props.children),K.return=z,z=K;break t}}else if(O.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===rt&&jg(ut)===O.type){s(z,O.sibling),K=c(O,j.props),Cl(K,j),K.return=z,z=K;break t}s(z,O);break}else n(z,O);O=O.sibling}j.type===y?(K=Es(j.props.children,z.mode,K,j.key),K.return=z,z=K):(K=Fu(j.type,j.key,j.props,null,z.mode,K),Cl(K,j),K.return=z,z=K)}return v(z);case g:t:{for(ut=j.key;O!==null;){if(O.key===ut)if(O.tag===4&&O.stateNode.containerInfo===j.containerInfo&&O.stateNode.implementation===j.implementation){s(z,O.sibling),K=c(O,j.children||[]),K.return=z,z=K;break t}else{s(z,O);break}else n(z,O);O=O.sibling}K=Uf(j,z.mode,K),K.return=z,z=K}return v(z);case rt:return ut=j._init,j=ut(j._payload),ue(z,O,j,K)}if(at(j))return ht(z,O,j,K);if(_t(j)){if(ut=_t(j),typeof ut!="function")throw Error(a(150));return j=ut.call(j),At(z,O,j,K)}if(typeof j.then=="function")return ue(z,O,wu(j),K);if(j.$$typeof===L)return ue(z,O,Bu(z,j),K);Ru(z,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,O!==null&&O.tag===6?(s(z,O.sibling),K=c(O,j),K.return=z,z=K):(s(z,O),K=Mf(j,z.mode,K),K.return=z,z=K),v(z)):s(z,O)}return function(z,O,j,K){try{Rl=0;var ut=ue(z,O,j,K);return oa=null,ut}catch(mt){if(mt===Sl)throw mt;var It=In(29,mt,null,z.mode);return It.lanes=K,It.return=z,It}finally{}}}var hs=kg(!0),Bg=kg(!1),ua=Bt(null),Cu=Bt(0);function qg(e,n){e=ki,Kt(Cu,e),Kt(ua,n),ki=e|n.baseLanes}function kh(){Kt(Cu,ki),Kt(ua,ua.current)}function Bh(){ki=Cu.current,se(ua),se(Cu)}var Dn=Bt(null),ai=null;function fr(e){var n=e.alternate;Kt(Re,Re.current&1),Kt(Dn,e),ai===null&&(n===null||ua.current!==null||n.memoizedState!==null)&&(ai=e)}function Hg(e){if(e.tag===22){if(Kt(Re,Re.current),Kt(Dn,e),ai===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(ai=e)}}else dr()}function dr(){Kt(Re,Re.current),Kt(Dn,Dn.current)}function xi(e){se(Dn),ai===e&&(ai=null),se(Re)}var Re=Bt(0);function Du(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var YT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},KT=r.unstable_scheduleCallback,XT=r.unstable_NormalPriority,Ce={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qh(){return{controller:new YT,data:new Map,refCount:0}}function Dl(e){e.refCount--,e.refCount===0&&KT(XT,function(){e.controller.abort()})}var Vl=null,Hh=0,ca=0,ha=null;function $T(e,n){if(Vl===null){var s=Vl=[];Hh=0,ca=$f(),ha={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Hh++,n.then(Fg,Fg),n}function Fg(){if(--Hh===0&&Vl!==null){ha!==null&&(ha.status="fulfilled");var e=Vl;Vl=null,ca=0,ha=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function ZT(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var Gg=b.S;b.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&$T(e,n),Gg!==null&&Gg(e,n)};var fs=Bt(null);function Fh(){var e=fs.current;return e!==null?e:Jt.pooledCache}function Vu(e,n){n===null?Kt(fs,fs.current):Kt(fs,n.pool)}function Qg(){var e=Fh();return e===null?null:{parent:Ce._currentValue,pool:e}}var mr=0,Vt=null,Xt=null,pe=null,xu=!1,fa=!1,ds=!1,Iu=0,xl=0,da=null,JT=0;function fe(){throw Error(a(321))}function Gh(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!cn(e[s],n[s]))return!1;return!0}function Qh(e,n,s,l,c,f){return mr=f,Vt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,b.H=e===null||e.memoizedState===null?ms:gr,ds=!1,f=s(l,c),ds=!1,fa&&(f=Kg(n,s,l,c)),Yg(e),f}function Yg(e){b.H=li;var n=Xt!==null&&Xt.next!==null;if(mr=0,pe=Xt=Vt=null,xu=!1,xl=0,da=null,n)throw Error(a(300));e===null||Oe||(e=e.dependencies,e!==null&&ku(e)&&(Oe=!0))}function Kg(e,n,s,l){Vt=e;var c=0;do{if(fa&&(da=null),xl=0,fa=!1,25<=c)throw Error(a(301));if(c+=1,pe=Xt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}b.H=gs,f=n(s,l)}while(fa);return f}function WT(){var e=b.H,n=e.useState()[0];return n=typeof n.then=="function"?Il(n):n,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(Vt.flags|=1024),n}function Yh(){var e=Iu!==0;return Iu=0,e}function Kh(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Xh(e){if(xu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}xu=!1}mr=0,pe=Xt=Vt=null,fa=!1,xl=Iu=0,da=null}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?Vt.memoizedState=pe=e:pe=pe.next=e,pe}function ye(){if(Xt===null){var e=Vt.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var n=pe===null?Vt.memoizedState:pe.next;if(n!==null)pe=n,Xt=e;else{if(e===null)throw Vt.alternate===null?Error(a(467)):Error(a(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},pe===null?Vt.memoizedState=pe=e:pe=pe.next=e}return pe}var Nu;Nu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Il(e){var n=xl;return xl+=1,da===null&&(da=[]),e=Pg(da,e,n),n=Vt,(pe===null?n.memoizedState:pe.next)===null&&(n=n.alternate,b.H=n===null||n.memoizedState===null?ms:gr),e}function Ou(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Il(e);if(e.$$typeof===L)return Ge(e)}throw Error(a(438,String(e)))}function $h(e){var n=null,s=Vt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Vt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Nu(),Vt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=dt;return n.index++,s}function Ii(e,n){return typeof n=="function"?n(e):n}function Mu(e){var n=ye();return Zh(n,Xt,e)}function Zh(e,n,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var c=e.baseQueue,f=l.pending;if(f!==null){if(c!==null){var v=c.next;c.next=f.next,f.next=v}n.baseQueue=c=f,l.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var E=v=null,S=null,M=n,Q=!1;do{var Z=M.lane&-536870913;if(Z!==M.lane?(Lt&Z)===Z:(mr&Z)===Z){var k=M.revertLane;if(k===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),Z===ca&&(Q=!0);else if((mr&k)===k){M=M.next,k===ca&&(Q=!0);continue}else Z={lane:0,revertLane:M.revertLane,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},S===null?(E=S=Z,v=f):S=S.next=Z,Vt.lanes|=k,Sr|=k;Z=M.action,ds&&s(f,Z),f=M.hasEagerState?M.eagerState:s(f,Z)}else k={lane:Z,revertLane:M.revertLane,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},S===null?(E=S=k,v=f):S=S.next=k,Vt.lanes|=Z,Sr|=Z;M=M.next}while(M!==null&&M!==n);if(S===null?v=f:S.next=E,!cn(f,e.memoizedState)&&(Oe=!0,Q&&(s=ha,s!==null)))throw s;e.memoizedState=f,e.baseState=v,e.baseQueue=S,l.lastRenderedState=f}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Jh(e){var n=ye(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var v=c=c.next;do f=e(f,v.action),v=v.next;while(v!==c);cn(f,n.memoizedState)||(Oe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Xg(e,n,s){var l=Vt,c=ye(),f=Ht;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var v=!cn((Xt||c).memoizedState,s);if(v&&(c.memoizedState=s,Oe=!0),c=c.queue,ef(Jg.bind(null,l,c,e),[e]),c.getSnapshot!==n||v||pe!==null&&pe.memoizedState.tag&1){if(l.flags|=2048,ma(9,Zg.bind(null,l,c,s,n),{destroy:void 0},null),Jt===null)throw Error(a(349));f||(mr&60)!==0||$g(l,n,s)}return s}function $g(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Vt.updateQueue,n===null?(n=Nu(),Vt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Zg(e,n,s,l){n.value=s,n.getSnapshot=l,Wg(n)&&tp(e)}function Jg(e,n,s){return s(function(){Wg(n)&&tp(e)})}function Wg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!cn(e,s)}catch{return!0}}function tp(e){var n=hr(e,2);n!==null&&en(n,e,2)}function Wh(e){var n=sn();if(typeof e=="function"){var s=e;if(e=s(),ds){Kn(!0);try{s()}finally{Kn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:e},n}function ep(e,n,s,l){return e.baseState=s,Zh(e,Xt,typeof l=="function"?l:Ii)}function t1(e,n,s,l,c){if(Pu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};b.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,np(n,f)):(f.next=s.next,n.pending=s.next=f)}}function np(e,n){var s=n.action,l=n.payload,c=e.state;if(n.isTransition){var f=b.T,v={};b.T=v;try{var E=s(c,l),S=b.S;S!==null&&S(v,E),ip(e,n,E)}catch(M){tf(e,n,M)}finally{b.T=f}}else try{f=s(c,l),ip(e,n,f)}catch(M){tf(e,n,M)}}function ip(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){rp(e,n,l)},function(l){return tf(e,n,l)}):rp(e,n,s)}function rp(e,n,s){n.status="fulfilled",n.value=s,sp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,np(e,s)))}function tf(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,sp(n),n=n.next;while(n!==l)}e.action=null}function sp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function ap(e,n){return n}function lp(e,n){if(Ht){var s=Jt.formState;if(s!==null){t:{var l=Vt;if(Ht){if(Le){e:{for(var c=Le,f=si;c.nodeType!==8;){if(!f){c=null;break e}if(c=qn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Le=qn(c.nextSibling),l=c.data==="F!";break t}}cs(l)}l=!1}l&&(n=s[0])}}return s=sn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ap,lastRenderedState:n},s.queue=l,s=wp.bind(null,Vt,l),l.dispatch=s,l=Wh(!1),f=lf.bind(null,Vt,!1,l.queue),l=sn(),c={state:n,dispatch:null,action:e,pending:null},l.queue=c,s=t1.bind(null,Vt,c,f,s),c.dispatch=s,l.memoizedState=e,[n,s,!1]}function op(e){var n=ye();return up(n,Xt,e)}function up(e,n,s){n=Zh(e,n,ap)[0],e=Mu(Ii)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?Il(n):n;var l=ye(),c=l.queue,f=c.dispatch;return s!==l.memoizedState&&(Vt.flags|=2048,ma(9,e1.bind(null,c,s),{destroy:void 0},null)),[n,f,e]}function e1(e,n){e.action=n}function cp(e){var n=ye(),s=Xt;if(s!==null)return up(n,s,e);ye(),n=n.memoizedState,s=ye();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function ma(e,n,s,l){return e={tag:e,create:n,inst:s,deps:l,next:null},n=Vt.updateQueue,n===null&&(n=Nu(),Vt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function hp(){return ye().memoizedState}function Uu(e,n,s,l){var c=sn();Vt.flags|=e,c.memoizedState=ma(1|n,s,{destroy:void 0},l===void 0?null:l)}function zu(e,n,s,l){var c=ye();l=l===void 0?null:l;var f=c.memoizedState.inst;Xt!==null&&l!==null&&Gh(l,Xt.memoizedState.deps)?c.memoizedState=ma(n,s,f,l):(Vt.flags|=e,c.memoizedState=ma(1|n,s,f,l))}function fp(e,n){Uu(8390656,8,e,n)}function ef(e,n){zu(2048,8,e,n)}function dp(e,n){return zu(4,2,e,n)}function mp(e,n){return zu(4,4,e,n)}function gp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function pp(e,n,s){s=s!=null?s.concat([e]):null,zu(4,4,gp.bind(null,n,e),s)}function nf(){}function yp(e,n){var s=ye();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&Gh(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function _p(e,n){var s=ye();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&Gh(n,l[1]))return l[0];if(l=e(),ds){Kn(!0);try{e()}finally{Kn(!1)}}return s.memoizedState=[l,n],l}function rf(e,n,s){return s===void 0||(mr&1073741824)!==0?e.memoizedState=n:(e.memoizedState=s,e=Ey(),Vt.lanes|=e,Sr|=e,s)}function vp(e,n,s,l){return cn(s,n)?s:ua.current!==null?(e=rf(e,s,l),cn(e,n)||(Oe=!0),e):(mr&42)===0?(Oe=!0,e.memoizedState=s):(e=Ey(),Vt.lanes|=e,Sr|=e,n)}function Ep(e,n,s,l,c){var f=lt.p;lt.p=f!==0&&8>f?f:8;var v=b.T,E={};b.T=E,lf(e,!1,n,s);try{var S=c(),M=b.S;if(M!==null&&M(E,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var Q=ZT(S,l);Nl(e,n,Q,mn(e))}else Nl(e,n,l,mn(e))}catch(Z){Nl(e,n,{then:function(){},status:"rejected",reason:Z},mn())}finally{lt.p=f,b.T=v}}function n1(){}function sf(e,n,s,l){if(e.tag!==5)throw Error(a(476));var c=Tp(e).queue;Ep(e,c,n,Dt,s===null?n1:function(){return Ap(e),s(l)})}function Tp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Dt,baseState:Dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:Dt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Ap(e){var n=Tp(e).next.queue;Nl(e,n,{},mn())}function af(){return Ge(Jl)}function bp(){return ye().memoizedState}function Sp(){return ye().memoizedState}function i1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=mn();e=_r(s);var l=vr(n,e,s);l!==null&&(en(l,n,s),Ul(l,n,s)),n={cache:qh()},e.payload=n;return}n=n.return}}function r1(e,n,s){var l=mn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Pu(e)?Rp(n,s):(s=Uh(e,n,s,l),s!==null&&(en(s,e,l),Cp(s,n,l)))}function wp(e,n,s){var l=mn();Nl(e,n,s,l)}function Nl(e,n,s,l){var c={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Pu(e))Rp(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,E=f(v,s);if(c.hasEagerState=!0,c.eagerState=E,cn(E,v))return Eu(e,n,c,0),Jt===null&&vu(),!1}catch{}finally{}if(s=Uh(e,n,c,l),s!==null)return en(s,e,l),Cp(s,n,l),!0}return!1}function lf(e,n,s,l){if(l={lane:2,revertLane:$f(),action:l,hasEagerState:!1,eagerState:null,next:null},Pu(e)){if(n)throw Error(a(479))}else n=Uh(e,s,l,2),n!==null&&en(n,e,2)}function Pu(e){var n=e.alternate;return e===Vt||n!==null&&n===Vt}function Rp(e,n){fa=xu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Cp(e,n,s){if((s&4194176)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,er(e,s)}}var li={readContext:Ge,use:Ou,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe};li.useCacheRefresh=fe,li.useMemoCache=fe,li.useHostTransitionStatus=fe,li.useFormState=fe,li.useActionState=fe,li.useOptimistic=fe;var ms={readContext:Ge,use:Ou,useCallback:function(e,n){return sn().memoizedState=[e,n===void 0?null:n],e},useContext:Ge,useEffect:fp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Uu(4194308,4,gp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Uu(4194308,4,e,n)},useInsertionEffect:function(e,n){Uu(4,2,e,n)},useMemo:function(e,n){var s=sn();n=n===void 0?null:n;var l=e();if(ds){Kn(!0);try{e()}finally{Kn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=sn();if(s!==void 0){var c=s(n);if(ds){Kn(!0);try{s(n)}finally{Kn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=r1.bind(null,Vt,e),[l.memoizedState,e]},useRef:function(e){var n=sn();return e={current:e},n.memoizedState=e},useState:function(e){e=Wh(e);var n=e.queue,s=wp.bind(null,Vt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:nf,useDeferredValue:function(e,n){var s=sn();return rf(s,e,n)},useTransition:function(){var e=Wh(!1);return e=Ep.bind(null,Vt,e.queue,!0,!1),sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=Vt,c=sn();if(Ht){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Jt===null)throw Error(a(349));(Lt&60)!==0||$g(l,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,fp(Jg.bind(null,l,f,e),[e]),l.flags|=2048,ma(9,Zg.bind(null,l,f,s,n),{destroy:void 0},null),s},useId:function(){var e=sn(),n=Jt.identifierPrefix;if(Ht){var s=Vi,l=Di;s=(l&~(1<<32-Ze(l)-1)).toString(32)+s,n=":"+n+"R"+s,s=Iu++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=JT++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},useCacheRefresh:function(){return sn().memoizedState=i1.bind(null,Vt)}};ms.useMemoCache=$h,ms.useHostTransitionStatus=af,ms.useFormState=lp,ms.useActionState=lp,ms.useOptimistic=function(e){var n=sn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=lf.bind(null,Vt,!0,s),s.dispatch=n,[e,n]};var gr={readContext:Ge,use:Ou,useCallback:yp,useContext:Ge,useEffect:ef,useImperativeHandle:pp,useInsertionEffect:dp,useLayoutEffect:mp,useMemo:_p,useReducer:Mu,useRef:hp,useState:function(){return Mu(Ii)},useDebugValue:nf,useDeferredValue:function(e,n){var s=ye();return vp(s,Xt.memoizedState,e,n)},useTransition:function(){var e=Mu(Ii)[0],n=ye().memoizedState;return[typeof e=="boolean"?e:Il(e),n]},useSyncExternalStore:Xg,useId:bp};gr.useCacheRefresh=Sp,gr.useMemoCache=$h,gr.useHostTransitionStatus=af,gr.useFormState=op,gr.useActionState=op,gr.useOptimistic=function(e,n){var s=ye();return ep(s,Xt,e,n)};var gs={readContext:Ge,use:Ou,useCallback:yp,useContext:Ge,useEffect:ef,useImperativeHandle:pp,useInsertionEffect:dp,useLayoutEffect:mp,useMemo:_p,useReducer:Jh,useRef:hp,useState:function(){return Jh(Ii)},useDebugValue:nf,useDeferredValue:function(e,n){var s=ye();return Xt===null?rf(s,e,n):vp(s,Xt.memoizedState,e,n)},useTransition:function(){var e=Jh(Ii)[0],n=ye().memoizedState;return[typeof e=="boolean"?e:Il(e),n]},useSyncExternalStore:Xg,useId:bp};gs.useCacheRefresh=Sp,gs.useMemoCache=$h,gs.useHostTransitionStatus=af,gs.useFormState=cp,gs.useActionState=cp,gs.useOptimistic=function(e,n){var s=ye();return Xt!==null?ep(s,Xt,e,n):(s.baseState=e,[e,s.queue.dispatch])};function of(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:D({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var uf={isMounted:function(e){return(e=e._reactInternals)?gt(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var l=mn(),c=_r(l);c.payload=n,s!=null&&(c.callback=s),n=vr(e,c,l),n!==null&&(en(n,e,l),Ul(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=mn(),c=_r(l);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=vr(e,c,l),n!==null&&(en(n,e,l),Ul(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=mn(),l=_r(s);l.tag=2,n!=null&&(l.callback=n),n=vr(e,l,s),n!==null&&(en(n,e,s),Ul(n,e,s))}};function Dp(e,n,s,l,c,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!vl(s,l)||!vl(c,f):!0}function Vp(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&uf.enqueueReplaceState(n,n.state,null)}function ps(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=D({},s));for(var c in e)s[c]===void 0&&(s[c]=e[c])}return s}var Lu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function xp(e){Lu(e)}function Ip(e){console.error(e)}function Np(e){Lu(e)}function ju(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Op(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function cf(e,n,s){return s=_r(s),s.tag=3,s.payload={element:null},s.callback=function(){ju(e,n)},s}function Mp(e){return e=_r(e),e.tag=3,e}function Up(e,n,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;e.payload=function(){return c(f)},e.callback=function(){Op(n,s,l)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Op(n,s,l),typeof c!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function s1(e,n,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&Ml(n,s,c,!0),s=Dn.current,s!==null){switch(s.tag){case 13:return ai===null?Gf():s.alternate===null&&oe===0&&(oe=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===jh?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Yf(e,l,c)),!1;case 22:return s.flags|=65536,l===jh?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Yf(e,l,c)),!1}throw Error(a(435,s.tag))}return Yf(e,l,c),Gf(),!1}if(Ht)return n=Dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Lh&&(e=Error(a(422),{cause:l}),bl(wn(e,s)))):(l!==Lh&&(n=Error(a(423),{cause:l}),bl(wn(n,s))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=wn(l,s),c=cf(e.stateNode,l,c),wf(e,c),oe!==4&&(oe=2)),!1;var f=Error(a(520),{cause:l});if(f=wn(f,s),Hl===null?Hl=[f]:Hl.push(f),oe!==4&&(oe=2),n===null)return!0;l=wn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=c&-c,s.lanes|=e,e=cf(s.stateNode,l,e),wf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(wr===null||!wr.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Mp(c),Up(c,e,s,l),wf(s,c),!1}s=s.return}while(s!==null);return!1}var zp=Error(a(461)),Oe=!1;function je(e,n,s,l){n.child=e===null?Bg(n,null,s,l):hs(n,e.child,s,l)}function Pp(e,n,s,l,c){s=s.render;var f=n.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return _s(n),l=Qh(e,n,s,v,f,c),E=Yh(),e!==null&&!Oe?(Kh(e,n,c),Ni(e,n,c)):(Ht&&E&&zh(n),n.flags|=1,je(e,n,l,c),n.child)}function Lp(e,n,s,l,c){if(e===null){var f=s.type;return typeof f=="function"&&!Of(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,jp(e,n,f,l,c)):(e=Fu(s.type,null,l,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!vf(e,c)){var v=f.memoizedProps;if(s=s.compare,s=s!==null?s:vl,s(v,l)&&e.ref===n.ref)return Ni(e,n,c)}return n.flags|=1,e=br(f,l),e.ref=n.ref,e.return=n,n.child=e}function jp(e,n,s,l,c){if(e!==null){var f=e.memoizedProps;if(vl(f,l)&&e.ref===n.ref)if(Oe=!1,n.pendingProps=l=f,vf(e,c))(e.flags&131072)!==0&&(Oe=!0);else return n.lanes=e.lanes,Ni(e,n,c)}return hf(e,n,s,l,c)}function kp(e,n,s){var l=n.pendingProps,c=l.children,f=(n.stateNode._pendingVisibility&2)!==0,v=e!==null?e.memoizedState:null;if(Ol(e,n),l.mode==="hidden"||f){if((n.flags&128)!==0){if(l=v!==null?v.baseLanes|s:s,e!==null){for(c=n.child=e.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Bp(e,n,l,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vu(n,v!==null?v.cachePool:null),v!==null?qg(n,v):kh(),Hg(n);else return n.lanes=n.childLanes=536870912,Bp(e,n,v!==null?v.baseLanes|s:s,s)}else v!==null?(Vu(n,v.cachePool),qg(n,v),dr(),n.memoizedState=null):(e!==null&&Vu(n,null),kh(),dr());return je(e,n,c,s),n.child}function Bp(e,n,s,l){var c=Fh();return c=c===null?null:{parent:Ce._currentValue,pool:c},n.memoizedState={baseLanes:s,cachePool:c},e!==null&&Vu(n,null),kh(),Hg(n),e!==null&&Ml(e,n,l,!0),null}function Ol(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=2097664);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=2097664)}}function hf(e,n,s,l,c){return _s(n),s=Qh(e,n,s,l,void 0,c),l=Yh(),e!==null&&!Oe?(Kh(e,n,c),Ni(e,n,c)):(Ht&&l&&zh(n),n.flags|=1,je(e,n,s,c),n.child)}function qp(e,n,s,l,c,f){return _s(n),n.updateQueue=null,s=Kg(n,l,s,c),Yg(e),l=Yh(),e!==null&&!Oe?(Kh(e,n,f),Ni(e,n,f)):(Ht&&l&&zh(n),n.flags|=1,je(e,n,s,f),n.child)}function Hp(e,n,s,l,c){if(_s(n),n.stateNode===null){var f=sa,v=s.contextType;typeof v=="object"&&v!==null&&(f=Ge(v)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=uf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},bf(n),v=s.contextType,f.context=typeof v=="object"&&v!==null?Ge(v):sa,f.state=n.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(of(n,s,v,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&uf.enqueueReplaceState(f,f.state,null),Pl(n,l,f,c),zl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,S=ps(s,E);f.props=S;var M=f.context,Q=s.contextType;v=sa,typeof Q=="object"&&Q!==null&&(v=Ge(Q));var Z=s.getDerivedStateFromProps;Q=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||M!==v)&&Vp(n,f,l,v),yr=!1;var k=n.memoizedState;f.state=k,Pl(n,l,f,c),zl(),M=n.memoizedState,E||k!==M||yr?(typeof Z=="function"&&(of(n,s,Z,l),M=n.memoizedState),(S=yr||Dp(n,s,S,l,k,M,v))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=M),f.props=l,f.state=M,f.context=v,l=S):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Sf(e,n),v=n.memoizedProps,Q=ps(s,v),f.props=Q,Z=n.pendingProps,k=f.context,M=s.contextType,S=sa,typeof M=="object"&&M!==null&&(S=Ge(M)),E=s.getDerivedStateFromProps,(M=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==Z||k!==S)&&Vp(n,f,l,S),yr=!1,k=n.memoizedState,f.state=k,Pl(n,l,f,c),zl();var q=n.memoizedState;v!==Z||k!==q||yr||e!==null&&e.dependencies!==null&&ku(e.dependencies)?(typeof E=="function"&&(of(n,s,E,l),q=n.memoizedState),(Q=yr||Dp(n,s,Q,l,k,q,S)||e!==null&&e.dependencies!==null&&ku(e.dependencies))?(M||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,S),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,S)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&k===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&k===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=S,l=Q):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&k===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&k===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Ol(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=hs(n,e.child,null,c),n.child=hs(n,null,s,c)):je(e,n,s,c),n.memoizedState=f.state,e=n.child):e=Ni(e,n,c),e}function Fp(e,n,s,l){return Al(),n.flags|=256,je(e,n,s,l),n.child}var ff={dehydrated:null,treeContext:null,retryLane:0};function df(e){return{baseLanes:e,cachePool:Qg()}}function mf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Nn),e}function Gp(e,n,s){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(Re.current&2)!==0),v&&(c=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ht){if(c?fr(n):dr(),Ht){var E=Le,S;if(S=E){t:{for(S=E,E=si;S.nodeType!==8;){if(!E){E=null;break t}if(S=qn(S.nextSibling),S===null){E=null;break t}}E=S}E!==null?(n.memoizedState={dehydrated:E,treeContext:os!==null?{id:Di,overflow:Vi}:null,retryLane:536870912},S=In(18,null,null,0),S.stateNode=E,S.return=n,n.child=S,tn=n,Le=null,S=!0):S=!1}S||cs(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?n.lanes=16:n.lanes=536870912,null;xi(n)}return E=l.children,l=l.fallback,c?(dr(),c=n.mode,E=pf({mode:"hidden",children:E},c),l=Es(l,c,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=df(s),c.childLanes=mf(e,v,s),n.memoizedState=ff,l):(fr(n),gf(n,E))}if(S=e.memoizedState,S!==null&&(E=S.dehydrated,E!==null)){if(f)n.flags&256?(fr(n),n.flags&=-257,n=yf(e,n,s)):n.memoizedState!==null?(dr(),n.child=e.child,n.flags|=128,n=null):(dr(),c=l.fallback,E=n.mode,l=pf({mode:"visible",children:l.children},E),c=Es(c,E,s,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,hs(n,e.child,null,s),l=n.child,l.memoizedState=df(s),l.childLanes=mf(e,v,s),n.memoizedState=ff,n=c);else if(fr(n),E.data==="$!"){if(v=E.nextSibling&&E.nextSibling.dataset,v)var M=v.dgst;v=M,l=Error(a(419)),l.stack="",l.digest=v,bl({value:l,source:null,stack:null}),n=yf(e,n,s)}else if(Oe||Ml(e,n,s,!1),v=(s&e.childLanes)!==0,Oe||v){if(v=Jt,v!==null){if(l=s&-s,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(v.suspendedLanes|s))!==0?0:l,l!==0&&l!==S.retryLane)throw S.retryLane=l,hr(e,l),en(v,e,l),zp}E.data==="$?"||Gf(),n=yf(e,n,s)}else E.data==="$?"?(n.flags|=128,n.child=e.child,n=E1.bind(null,e),E._reactRetry=n,n=null):(e=S.treeContext,Le=qn(E.nextSibling),tn=n,Ht=!0,kn=null,si=!1,e!==null&&(Rn[Cn++]=Di,Rn[Cn++]=Vi,Rn[Cn++]=os,Di=e.id,Vi=e.overflow,os=n),n=gf(n,l.children),n.flags|=4096);return n}return c?(dr(),c=l.fallback,E=n.mode,S=e.child,M=S.sibling,l=br(S,{mode:"hidden",children:l.children}),l.subtreeFlags=S.subtreeFlags&31457280,M!==null?c=br(M,c):(c=Es(c,E,s,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=e.child.memoizedState,E===null?E=df(s):(S=E.cachePool,S!==null?(M=Ce._currentValue,S=S.parent!==M?{parent:M,pool:M}:S):S=Qg(),E={baseLanes:E.baseLanes|s,cachePool:S}),c.memoizedState=E,c.childLanes=mf(e,v,s),n.memoizedState=ff,l):(fr(n),s=e.child,e=s.sibling,s=br(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(v=n.deletions,v===null?(n.deletions=[e],n.flags|=16):v.push(e)),n.child=s,n.memoizedState=null,s)}function gf(e,n){return n=pf({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function pf(e,n){return yy(e,n,0,null)}function yf(e,n,s){return hs(n,e.child,null,s),e=gf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Qp(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Tf(e.return,n,s)}function _f(e,n,s,l,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=s,f.tailMode=c)}function Yp(e,n,s){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(je(e,n,l.children,s),l=Re.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qp(e,s,n);else if(e.tag===19)Qp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(Kt(Re,l),c){case"forwards":for(s=n.child,c=null;s!==null;)e=s.alternate,e!==null&&Du(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),_f(n,!1,c,s,f);break;case"backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Du(e)===null){n.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}_f(n,!0,s,null,f);break;case"together":_f(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ni(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Sr|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Ml(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=br(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=br(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function vf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ku(e)))}function a1(e,n,s){switch(n.tag){case 3:Xi(n,n.stateNode.containerInfo),pr(n,Ce,e.memoizedState.cache),Al();break;case 27:case 5:Ja(n);break;case 4:Xi(n,n.stateNode.containerInfo);break;case 10:pr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(fr(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Gp(e,n,s):(fr(n),e=Ni(e,n,s),e!==null?e.sibling:null);fr(n);break;case 19:var c=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(Ml(e,n,s,!1),l=(s&n.childLanes)!==0),c){if(l)return Yp(e,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Kt(Re,Re.current),l)break;return null;case 22:case 23:return n.lanes=0,kp(e,n,s);case 24:pr(n,Ce,e.memoizedState.cache)}return Ni(e,n,s)}function Kp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Oe=!0;else{if(!vf(e,s)&&(n.flags&128)===0)return Oe=!1,a1(e,n,s);Oe=(e.flags&131072)!==0}else Oe=!1,Ht&&(n.flags&1048576)!==0&&Ng(n,bu,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Of(l)?(e=ps(l,e),n.tag=1,n=Hp(null,n,l,e,s)):(n.tag=0,n=hf(null,n,l,e,s));else{if(l!=null){if(c=l.$$typeof,c===H){n.tag=11,n=Pp(null,n,l,e,s);break t}else if(c===W){n.tag=14,n=Lp(null,n,l,e,s);break t}}throw n=w(l)||l,Error(a(306,n,""))}}return n;case 0:return hf(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,c=ps(l,n.pendingProps),Hp(e,n,l,c,s);case 3:t:{if(Xi(n,n.stateNode.containerInfo),e===null)throw Error(a(387));var f=n.pendingProps;c=n.memoizedState,l=c.element,Sf(e,n),Pl(n,f,null,s);var v=n.memoizedState;if(f=v.cache,pr(n,Ce,f),f!==c.cache&&Af(n,[Ce],s,!0),zl(),f=v.element,c.isDehydrated)if(c={element:f,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=Fp(e,n,f,s);break t}else if(f!==l){l=wn(Error(a(424)),n),bl(l),n=Fp(e,n,f,s);break t}else for(Le=qn(n.stateNode.containerInfo.firstChild),tn=n,Ht=!0,kn=null,si=!0,s=Bg(n,null,f,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Al(),f===l){n=Ni(e,n,s);break t}je(e,n,f,s)}n=n.child}return n;case 26:return Ol(e,n),e===null?(s=Zy(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ht||(s=n.type,e=n.pendingProps,l=nc(yn.current).createElement(s),l[xe]=n,l[be]=e,ke(l,s,e),ee(l),n.stateNode=l):n.memoizedState=Zy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ja(n),e===null&&Ht&&(l=n.stateNode=Ky(n.type,n.pendingProps,yn.current),tn=n,si=!0,Le=qn(l.firstChild)),l=n.pendingProps.children,e!==null||Ht?je(e,n,l,s):n.child=hs(n,null,l,s),Ol(e,n),n.child;case 5:return e===null&&Ht&&((c=l=Le)&&(l=z1(l,n.type,n.pendingProps,si),l!==null?(n.stateNode=l,tn=n,Le=qn(l.firstChild),si=!1,c=!0):c=!1),c||cs(n)),Ja(n),c=n.type,f=n.pendingProps,v=e!==null?e.memoizedProps:null,l=f.children,sd(c,f)?l=null:v!==null&&sd(c,v)&&(n.flags|=32),n.memoizedState!==null&&(c=Qh(e,n,WT,null,null,s),Jl._currentValue=c),Ol(e,n),je(e,n,l,s),n.child;case 6:return e===null&&Ht&&((e=s=Le)&&(s=P1(s,n.pendingProps,si),s!==null?(n.stateNode=s,tn=n,Le=null,e=!0):e=!1),e||cs(n)),null;case 13:return Gp(e,n,s);case 4:return Xi(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=hs(n,null,l,s):je(e,n,l,s),n.child;case 11:return Pp(e,n,n.type,n.pendingProps,s);case 7:return je(e,n,n.pendingProps,s),n.child;case 8:return je(e,n,n.pendingProps.children,s),n.child;case 12:return je(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,pr(n,n.type,l.value),je(e,n,l.children,s),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,_s(n),c=Ge(c),l=l(c),n.flags|=1,je(e,n,l,s),n.child;case 14:return Lp(e,n,n.type,n.pendingProps,s);case 15:return jp(e,n,n.type,n.pendingProps,s);case 19:return Yp(e,n,s);case 22:return kp(e,n,s);case 24:return _s(n),l=Ge(Ce),e===null?(c=Fh(),c===null&&(c=Jt,f=qh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:l,cache:c},bf(n),pr(n,Ce,c)):((e.lanes&s)!==0&&(Sf(e,n),Pl(n,null,null,s),zl()),c=e.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),pr(n,Ce,l)):(l=f.cache,pr(n,Ce,l),l!==c.cache&&Af(n,[Ce],s,!0))),je(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}var Ef=Bt(null),ys=null,Oi=null;function pr(e,n,s){Kt(Ef,n._currentValue),n._currentValue=s}function Mi(e){e._currentValue=Ef.current,se(Ef)}function Tf(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Af(e,n,s,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var v=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var S=0;S<n.length;S++)if(E.context===n[S]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Tf(f.return,s,e),l||(v=null);break t}f=E.next}}else if(c.tag===18){if(v=c.return,v===null)throw Error(a(341));v.lanes|=s,f=v.alternate,f!==null&&(f.lanes|=s),Tf(v,s,e),v=null}else v=c.child;if(v!==null)v.return=c;else for(v=c;v!==null;){if(v===e){v=null;break}if(c=v.sibling,c!==null){c.return=v.return,v=c;break}v=v.return}c=v}}function Ml(e,n,s,l){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var v=c.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var E=c.type;cn(c.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(c===Ki.current){if(v=c.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Jl):e=[Jl])}c=c.return}e!==null&&Af(n,e,s,l),n.flags|=262144}function ku(e){for(e=e.firstContext;e!==null;){if(!cn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _s(e){ys=e,Oi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ge(e){return Xp(ys,e)}function Bu(e,n){return ys===null&&_s(e),Xp(e,n)}function Xp(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Oi===null){if(e===null)throw Error(a(308));Oi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Oi=Oi.next=n;return s}var yr=!1;function bf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _r(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function vr(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(ie&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Tu(e),xg(e,null,s),n}return Eu(e,l,n,s),Tu(e)}function Ul(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194176)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,er(e,s)}}function wf(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=v:f=f.next=v,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Rf=!1;function zl(){if(Rf){var e=ha;if(e!==null)throw e}}function Pl(e,n,s,l){Rf=!1;var c=e.updateQueue;yr=!1;var f=c.firstBaseUpdate,v=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var S=E,M=S.next;S.next=null,v===null?f=M:v.next=M,v=S;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==v&&(E===null?Q.firstBaseUpdate=M:E.next=M,Q.lastBaseUpdate=S))}if(f!==null){var Z=c.baseState;v=0,Q=M=S=null,E=f;do{var k=E.lane&-536870913,q=k!==E.lane;if(q?(Lt&k)===k:(l&k)===k){k!==0&&k===ca&&(Rf=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ht=e,At=E;k=n;var ue=s;switch(At.tag){case 1:if(ht=At.payload,typeof ht=="function"){Z=ht.call(ue,Z,k);break t}Z=ht;break t;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=At.payload,k=typeof ht=="function"?ht.call(ue,Z,k):ht,k==null)break t;Z=D({},Z,k);break t;case 2:yr=!0}}k=E.callback,k!==null&&(e.flags|=64,q&&(e.flags|=8192),q=c.callbacks,q===null?c.callbacks=[k]:q.push(k))}else q={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(M=Q=q,S=Z):Q=Q.next=q,v|=k;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);Q===null&&(S=Z),c.baseState=S,c.firstBaseUpdate=M,c.lastBaseUpdate=Q,f===null&&(c.shared.lanes=0),Sr|=v,e.lanes=v,e.memoizedState=Z}}function $p(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Zp(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)$p(s[e],n)}function Ll(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&e)===e){l=void 0;var f=s.create,v=s.inst;l=f(),v.destroy=l}s=s.next}while(s!==c)}}catch(E){Zt(n,n.return,E)}}function Er(e,n,s){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&e)===e){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,c=n;var S=s;try{E()}catch(M){Zt(c,S,M)}}}l=l.next}while(l!==f)}}catch(M){Zt(n,n.return,M)}}function Jp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Zp(n,s)}catch(l){Zt(e,e.return,l)}}}function Wp(e,n,s){s.props=ps(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){Zt(e,n,l)}}function vs(e,n){try{var s=e.ref;if(s!==null){var l=e.stateNode;switch(e.tag){case 26:case 27:case 5:var c=l;break;default:c=l}typeof s=="function"?e.refCleanup=s(c):s.current=c}}catch(f){Zt(e,n,f)}}function hn(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){Zt(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Zt(e,n,c)}else s.current=null}function ty(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){Zt(e,e.return,c)}}function ey(e,n,s){try{var l=e.stateNode;I1(l,e.type,s,n),l[be]=n}catch(c){Zt(e,e.return,c)}}function ny(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function Cf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ny(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Df(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ec));else if(l!==4&&l!==27&&(e=e.child,e!==null))for(Df(e,n,s),e=e.sibling;e!==null;)Df(e,n,s),e=e.sibling}function qu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&l!==27&&(e=e.child,e!==null))for(qu(e,n,s),e=e.sibling;e!==null;)qu(e,n,s),e=e.sibling}var Ui=!1,le=!1,Vf=!1,iy=typeof WeakSet=="function"?WeakSet:Set,Me=null,ry=!1;function l1(e,n){if(e=e.containerInfo,id=oc,e=Tg(e),xh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var v=0,E=-1,S=-1,M=0,Q=0,Z=e,k=null;e:for(;;){for(var q;Z!==s||c!==0&&Z.nodeType!==3||(E=v+c),Z!==f||l!==0&&Z.nodeType!==3||(S=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(q=Z.firstChild)!==null;)k=Z,Z=q;for(;;){if(Z===e)break e;if(k===s&&++M===c&&(E=v),k===f&&++Q===l&&(S=v),(q=Z.nextSibling)!==null)break;Z=k,k=Z.parentNode}Z=q}s=E===-1||S===-1?null:{start:E,end:S}}else s=null}s=s||{start:0,end:0}}else s=null;for(rd={focusedElem:e,selectionRange:s},oc=!1,Me=n;Me!==null;)if(n=Me,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Me=e;else for(;Me!==null;){switch(n=Me,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var ht=ps(s.type,c,s.elementType===s.type);e=l.getSnapshotBeforeUpdate(ht,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(At){Zt(s,s.return,At)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)od(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":od(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Me=e;break}Me=n.return}return ht=ry,ry=!1,ht}function sy(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Pi(e,s),l&4&&Ll(5,s);break;case 1:if(Pi(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(E){Zt(s,s.return,E)}else{var c=ps(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(E){Zt(s,s.return,E)}}l&64&&Jp(s),l&512&&vs(s,s.return);break;case 3:if(Pi(e,s),l&64&&(l=s.updateQueue,l!==null)){if(e=null,s.child!==null)switch(s.child.tag){case 27:case 5:e=s.child.stateNode;break;case 1:e=s.child.stateNode}try{Zp(l,e)}catch(E){Zt(s,s.return,E)}}break;case 26:Pi(e,s),l&512&&vs(s,s.return);break;case 27:case 5:Pi(e,s),n===null&&l&4&&ty(s),l&512&&vs(s,s.return);break;case 12:Pi(e,s);break;case 13:Pi(e,s),l&4&&oy(e,s);break;case 22:if(c=s.memoizedState!==null||Ui,!c){n=n!==null&&n.memoizedState!==null||le;var f=Ui,v=le;Ui=c,(le=n)&&!v?Tr(e,s,(s.subtreeFlags&8772)!==0):Pi(e,s),Ui=f,le=v}l&512&&(s.memoizedProps.mode==="manual"?vs(s,s.return):hn(s,s.return));break;default:Pi(e,s)}}function ay(e){var n=e.alternate;n!==null&&(e.alternate=null,ay(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Xr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var _e=null,fn=!1;function zi(e,n,s){for(s=s.child;s!==null;)ly(e,n,s),s=s.sibling}function ly(e,n,s){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount($i,s)}catch{}switch(s.tag){case 26:le||hn(s,n),zi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:le||hn(s,n);var l=_e,c=fn;for(_e=s.stateNode,zi(e,n,s),s=s.stateNode,n=s.attributes;n.length;)s.removeAttributeNode(n[0]);Xr(s),_e=l,fn=c;break;case 5:le||hn(s,n);case 6:c=_e;var f=fn;if(_e=null,zi(e,n,s),_e=c,fn=f,_e!==null)if(fn)try{e=_e,l=s.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)}catch(v){Zt(s,n,v)}else try{_e.removeChild(s.stateNode)}catch(v){Zt(s,n,v)}break;case 18:_e!==null&&(fn?(n=_e,s=s.stateNode,n.nodeType===8?ld(n.parentNode,s):n.nodeType===1&&ld(n,s),no(n)):ld(_e,s.stateNode));break;case 4:l=_e,c=fn,_e=s.stateNode.containerInfo,fn=!0,zi(e,n,s),_e=l,fn=c;break;case 0:case 11:case 14:case 15:le||Er(2,s,n),le||Er(4,s,n),zi(e,n,s);break;case 1:le||(hn(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Wp(s,n,l)),zi(e,n,s);break;case 21:zi(e,n,s);break;case 22:le||hn(s,n),le=(l=le)||s.memoizedState!==null,zi(e,n,s),le=l;break;default:zi(e,n,s)}}function oy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{no(e)}catch(s){Zt(n,n.return,s)}}function o1(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new iy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new iy),n;default:throw Error(a(435,e.tag))}}function xf(e,n){var s=o1(e);n.forEach(function(l){var c=T1.bind(null,e,l);s.has(l)||(s.add(l),l.then(c,c))})}function Vn(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],f=e,v=n,E=v;t:for(;E!==null;){switch(E.tag){case 27:case 5:_e=E.stateNode,fn=!1;break t;case 3:_e=E.stateNode.containerInfo,fn=!0;break t;case 4:_e=E.stateNode.containerInfo,fn=!0;break t}E=E.return}if(_e===null)throw Error(a(160));ly(f,v,c),_e=null,fn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)uy(n,e),n=n.sibling}var Bn=null;function uy(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Vn(n,e),xn(e),l&4&&(Er(3,e,e.return),Ll(3,e),Er(5,e,e.return));break;case 1:Vn(n,e),xn(e),l&512&&(le||s===null||hn(s,s.return)),l&64&&Ui&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=Bn;if(Vn(n,e),xn(e),l&512&&(le||s===null||hn(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ir]||f[xe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ke(f,l,s),f[xe]=e,ee(f),l=f;break t;case"link":var v=t_("link","href",c).get(l+(s.href||""));if(v){for(var E=0;E<v.length;E++)if(f=v[E],f.getAttribute("href")===(s.href==null?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(E,1);break e}}f=c.createElement(l),ke(f,l,s),c.head.appendChild(f);break;case"meta":if(v=t_("meta","content",c).get(l+(s.content||""))){for(E=0;E<v.length;E++)if(f=v[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(E,1);break e}}f=c.createElement(l),ke(f,l,s),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[xe]=e,ee(f),l=f}e.stateNode=l}else e_(c,e.type,e.stateNode);else e.stateNode=Wy(c,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?e_(c,e.type,e.stateNode):Wy(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&ey(e,e.memoizedProps,s.memoizedProps)}break;case 27:if(l&4&&e.alternate===null){c=e.stateNode,f=e.memoizedProps;try{for(var S=c.firstChild;S;){var M=S.nextSibling,Q=S.nodeName;S[ir]||Q==="HEAD"||Q==="BODY"||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&S.rel.toLowerCase()==="stylesheet"||c.removeChild(S),S=M}for(var Z=e.type,k=c.attributes;k.length;)c.removeAttributeNode(k[0]);ke(c,Z,f),c[xe]=e,c[be]=f}catch(ht){Zt(e,e.return,ht)}}case 5:if(Vn(n,e),xn(e),l&512&&(le||s===null||hn(s,s.return)),e.flags&32){c=e.stateNode;try{En(c,"")}catch(ht){Zt(e,e.return,ht)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,ey(e,c,s!==null?s.memoizedProps:c)),l&1024&&(Vf=!0);break;case 6:if(Vn(n,e),xn(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(ht){Zt(e,e.return,ht)}}break;case 3:if(sc=null,c=Bn,Bn=ic(n.containerInfo),Vn(n,e),Bn=c,xn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{no(n.containerInfo)}catch(ht){Zt(e,e.return,ht)}Vf&&(Vf=!1,cy(e));break;case 4:l=Bn,Bn=ic(e.stateNode.containerInfo),Vn(n,e),xn(e),Bn=l;break;case 12:Vn(n,e),xn(e);break;case 13:Vn(n,e),xn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(jf=nn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,xf(e,l)));break;case 22:if(l&512&&(le||s===null||hn(s,s.return)),S=e.memoizedState!==null,M=s!==null&&s.memoizedState!==null,Q=Ui,Z=le,Ui=Q||S,le=Z||M,Vn(n,e),le=Z,Ui=Q,xn(e),n=e.stateNode,n._current=e,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=S?n._visibility&-2:n._visibility|1,S&&(n=Ui||le,s===null||M||n||ga(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(s=null,n=e;;){if(n.tag===5||n.tag===26||n.tag===27){if(s===null){M=s=n;try{if(c=M.stateNode,S)f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{v=M.stateNode,E=M.memoizedProps.style;var q=E!=null&&E.hasOwnProperty("display")?E.display:null;v.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ht){Zt(M,M.return,ht)}}}else if(n.tag===6){if(s===null){M=n;try{M.stateNode.nodeValue=S?"":M.memoizedProps}catch(ht){Zt(M,M.return,ht)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,xf(e,s))));break;case 19:Vn(n,e),xn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,xf(e,l)));break;case 21:break;default:Vn(n,e),xn(e)}}function xn(e){var n=e.flags;if(n&2){try{if(e.tag!==27){t:{for(var s=e.return;s!==null;){if(ny(s)){var l=s;break t}s=s.return}throw Error(a(160))}switch(l.tag){case 27:var c=l.stateNode,f=Cf(e);qu(e,f,c);break;case 5:var v=l.stateNode;l.flags&32&&(En(v,""),l.flags&=-33);var E=Cf(e);qu(e,E,v);break;case 3:case 4:var S=l.stateNode.containerInfo,M=Cf(e);Df(e,M,S);break;default:throw Error(a(161))}}}catch(Q){Zt(e,e.return,Q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function cy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;cy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Pi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)sy(e,n.alternate,n),n=n.sibling}function ga(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Er(4,n,n.return),ga(n);break;case 1:hn(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Wp(n,n.return,s),ga(n);break;case 26:case 27:case 5:hn(n,n.return),ga(n);break;case 22:hn(n,n.return),n.memoizedState===null&&ga(n);break;default:ga(n)}e=e.sibling}}function Tr(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=e,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:Tr(c,f,s),Ll(4,f);break;case 1:if(Tr(c,f,s),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(M){Zt(l,l.return,M)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var S=c.shared.hiddenCallbacks;if(S!==null)for(c.shared.hiddenCallbacks=null,c=0;c<S.length;c++)$p(S[c],E)}catch(M){Zt(l,l.return,M)}}s&&v&64&&Jp(f),vs(f,f.return);break;case 26:case 27:case 5:Tr(c,f,s),s&&l===null&&v&4&&ty(f),vs(f,f.return);break;case 12:Tr(c,f,s);break;case 13:Tr(c,f,s),s&&v&4&&oy(c,f);break;case 22:f.memoizedState===null&&Tr(c,f,s),vs(f,f.return);break;default:Tr(c,f,s)}n=n.sibling}}function If(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Dl(s))}function Nf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Dl(e))}function Ar(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)hy(e,n,s,l),n=n.sibling}function hy(e,n,s,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Ar(e,n,s,l),c&2048&&Ll(9,n);break;case 3:Ar(e,n,s,l),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Dl(e)));break;case 12:if(c&2048){Ar(e,n,s,l),e=n.stateNode;try{var f=n.memoizedProps,v=f.id,E=f.onPostCommit;typeof E=="function"&&E(v,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){Zt(n,n.return,S)}}else Ar(e,n,s,l);break;case 23:break;case 22:f=n.stateNode,n.memoizedState!==null?f._visibility&4?Ar(e,n,s,l):jl(e,n):f._visibility&4?Ar(e,n,s,l):(f._visibility|=4,pa(e,n,s,l,(n.subtreeFlags&10256)!==0)),c&2048&&If(n.alternate,n);break;case 24:Ar(e,n,s,l),c&2048&&Nf(n.alternate,n);break;default:Ar(e,n,s,l)}}function pa(e,n,s,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,v=n,E=s,S=l,M=v.flags;switch(v.tag){case 0:case 11:case 15:pa(f,v,E,S,c),Ll(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&4?pa(f,v,E,S,c):jl(f,v):(Q._visibility|=4,pa(f,v,E,S,c)),c&&M&2048&&If(v.alternate,v);break;case 24:pa(f,v,E,S,c),c&&M&2048&&Nf(v.alternate,v);break;default:pa(f,v,E,S,c)}n=n.sibling}}function jl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,c=l.flags;switch(l.tag){case 22:jl(s,l),c&2048&&If(l.alternate,l);break;case 24:jl(s,l),c&2048&&Nf(l.alternate,l);break;default:jl(s,l)}n=n.sibling}}var kl=8192;function ya(e){if(e.subtreeFlags&kl)for(e=e.child;e!==null;)fy(e),e=e.sibling}function fy(e){switch(e.tag){case 26:ya(e),e.flags&kl&&e.memoizedState!==null&&$1(Bn,e.memoizedState,e.memoizedProps);break;case 5:ya(e);break;case 3:case 4:var n=Bn;Bn=ic(e.stateNode.containerInfo),ya(e),Bn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=kl,kl=16777216,ya(e),kl=n):ya(e));break;default:ya(e)}}function dy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Bl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Me=l,gy(l,e)}dy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)my(e),e=e.sibling}function my(e){switch(e.tag){case 0:case 11:case 15:Bl(e),e.flags&2048&&Er(9,e,e.return);break;case 3:Bl(e);break;case 12:Bl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&4&&(e.return===null||e.return.tag!==13)?(n._visibility&=-5,Hu(e)):Bl(e);break;default:Bl(e)}}function Hu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Me=l,gy(l,e)}dy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Er(8,n,n.return),Hu(n);break;case 22:s=n.stateNode,s._visibility&4&&(s._visibility&=-5,Hu(n));break;default:Hu(n)}e=e.sibling}}function gy(e,n){for(;Me!==null;){var s=Me;switch(s.tag){case 0:case 11:case 15:Er(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Dl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Me=l;else t:for(s=e;Me!==null;){l=Me;var c=l.sibling,f=l.return;if(ay(l),l===s){Me=null;break t}if(c!==null){c.return=f,Me=c;break t}Me=f}}}function u1(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(e,n,s,l){return new u1(e,n,s,l)}function Of(e){return e=e.prototype,!(!e||!e.isReactComponent)}function br(e,n){var s=e.alternate;return s===null?(s=In(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&31457280,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function py(e,n){e.flags&=31457282;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Fu(e,n,s,l,c,f){var v=0;if(l=e,typeof e=="function")Of(e)&&(v=1);else if(typeof e=="string")v=K1(e,s,$e.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case y:return Es(s.children,c,f,n);case p:v=8,c|=24;break;case A:return e=In(12,s,n,c|2),e.elementType=A,e.lanes=f,e;case Y:return e=In(13,s,n,c),e.elementType=Y,e.lanes=f,e;case F:return e=In(19,s,n,c),e.elementType=F,e.lanes=f,e;case nt:return yy(s,c,f,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case R:case L:v=10;break t;case N:v=9;break t;case H:v=11;break t;case W:v=14;break t;case rt:v=16,l=null;break t}v=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=In(v,s,n,c),n.elementType=e,n.type=l,n.lanes=f,n}function Es(e,n,s,l){return e=In(7,e,l,n),e.lanes=s,e}function yy(e,n,s,l){e=In(22,e,l,n),e.elementType=nt,e.lanes=s;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=c._current;if(f===null)throw Error(a(456));if((c._pendingVisibility&2)===0){var v=hr(f,2);v!==null&&(c._pendingVisibility|=2,en(v,f,2))}},attach:function(){var f=c._current;if(f===null)throw Error(a(456));if((c._pendingVisibility&2)!==0){var v=hr(f,2);v!==null&&(c._pendingVisibility&=-3,en(v,f,2))}}};return e.stateNode=c,e}function Mf(e,n,s){return e=In(6,e,null,n),e.lanes=s,e}function Uf(e,n,s){return n=In(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Li(e){e.flags|=4}function _y(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!n_(n)){if(n=Dn.current,n!==null&&((Lt&4194176)===Lt?ai!==null:(Lt&62914560)!==Lt&&(Lt&536870912)===0||n!==ai))throw wl=jh,Ug;e.flags|=8192}}function Gu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Wi():536870912,e.lanes|=n,va|=n)}function ql(e,n){if(!Ht)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ne(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&31457280,l|=c.flags&31457280,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function c1(e,n,s){var l=n.pendingProps;switch(Ph(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Mi(Ce),yi(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Tl(n)?Li(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,kn!==null&&(Hf(kn),kn=null))),ne(n),null;case 26:return s=n.memoizedState,e===null?(Li(n),s!==null?(ne(n),_y(n,s)):(ne(n),n.flags&=-16777217)):s?s!==e.memoizedState?(Li(n),ne(n),_y(n,s)):(ne(n),n.flags&=-16777217):(e.memoizedProps!==l&&Li(n),ne(n),n.flags&=-16777217),null;case 27:Ls(n),s=yn.current;var c=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Li(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ne(n),null}e=$e.current,Tl(n)?Og(n):(e=Ky(c,l,s),n.stateNode=e,Li(n))}return ne(n),null;case 5:if(Ls(n),s=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Li(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ne(n),null}if(e=$e.current,Tl(n))Og(n);else{switch(c=nc(yn.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?c.createElement(s,{is:l.is}):c.createElement(s)}}e[xe]=n,e[be]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=e;t:switch(ke(e,s,l),s){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Li(n)}}return ne(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Li(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=yn.current,Tl(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,c=tn,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[xe]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||qy(e.nodeValue,s)),e||cs(n)}else e=nc(e).createTextNode(l),e[xe]=n,n.stateNode=e}return ne(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Tl(n),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[xe]=n}else Al(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),c=!1}else kn!==null&&(Hf(kn),kn=null),c=!0;if(!c)return n.flags&256?(xi(n),n):(xi(n),null)}if(xi(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=l!==null,e=e!==null&&e.memoizedState!==null,s){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return s!==e&&s&&(n.child.flags|=8192),Gu(n,n.updateQueue),ne(n),null;case 4:return yi(),e===null&&td(n.stateNode.containerInfo),ne(n),null;case 10:return Mi(n.type),ne(n),null;case 19:if(se(Re),c=n.memoizedState,c===null)return ne(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)ql(c,!1);else{if(oe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Du(e),f!==null){for(n.flags|=128,ql(c,!1),e=f.updateQueue,n.updateQueue=e,Gu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)py(s,e),s=s.sibling;return Kt(Re,Re.current&1|2),n.child}e=e.sibling}c.tail!==null&&nn()>Qu&&(n.flags|=128,l=!0,ql(c,!1),n.lanes=4194304)}else{if(!l)if(e=Du(f),e!==null){if(n.flags|=128,l=!0,e=e.updateQueue,n.updateQueue=e,Gu(n,e),ql(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Ht)return ne(n),null}else 2*nn()-c.renderingStartTime>Qu&&s!==536870912&&(n.flags|=128,l=!0,ql(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(e=c.last,e!==null?e.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=nn(),n.sibling=null,e=Re.current,Kt(Re,l?e&1|2:e&1),n):(ne(n),null);case 22:case 23:return xi(n),Bh(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),s=n.updateQueue,s!==null&&Gu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&se(fs),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Mi(Ce),ne(n),null;case 25:return null}throw Error(a(156,n.tag))}function h1(e,n){switch(Ph(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Mi(Ce),yi(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ls(n),null;case 13:if(xi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Al()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return se(Re),null;case 4:return yi(),null;case 10:return Mi(n.type),null;case 22:case 23:return xi(n),Bh(),e!==null&&se(fs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Mi(Ce),null;case 25:return null;default:return null}}function vy(e,n){switch(Ph(n),n.tag){case 3:Mi(Ce),yi();break;case 26:case 27:case 5:Ls(n);break;case 4:yi();break;case 13:xi(n);break;case 19:se(Re);break;case 10:Mi(n.type);break;case 22:case 23:xi(n),Bh(),e!==null&&se(fs);break;case 24:Mi(Ce)}}var f1={getCacheForType:function(e){var n=Ge(Ce),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s}},d1=typeof WeakMap=="function"?WeakMap:Map,ie=0,Jt=null,Nt=null,Lt=0,Wt=0,dn=null,ji=!1,_a=!1,zf=!1,ki=0,oe=0,Sr=0,Ts=0,Pf=0,Nn=0,va=0,Hl=null,oi=null,Lf=!1,jf=0,Qu=1/0,Yu=null,wr=null,Ku=!1,As=null,Fl=0,kf=0,Bf=null,Gl=0,qf=null;function mn(){if((ie&2)!==0&&Lt!==0)return Lt&-Lt;if(b.T!==null){var e=ca;return e!==0?e:$f()}return tu()}function Ey(){Nn===0&&(Nn=(Lt&536870912)===0||Ht?il():536870912);var e=Dn.current;return e!==null&&(e.flags|=32),Nn}function en(e,n,s){(e===Jt&&Wt===2||e.cancelPendingCommit!==null)&&(Ea(e,0),Bi(e,Lt,Nn,!1)),he(e,s),((ie&2)===0||e!==Jt)&&(e===Jt&&((ie&2)===0&&(Ts|=s),oe===4&&Bi(e,Lt,Nn,!1)),ui(e))}function Ty(e,n,s){if((ie&6)!==0)throw Error(a(327));var l=!s&&(n&60)===0&&(n&e.expiredLanes)===0||Ji(e,n),c=l?p1(e,n):Qf(e,n,!0),f=l;do{if(c===0){_a&&!l&&Bi(e,n,0,!1);break}else if(c===6)Bi(e,n,0,!ji);else{if(s=e.current.alternate,f&&!m1(s)){c=Qf(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var E=e;c=Hl;var S=E.current.memoizedState.isDehydrated;if(S&&(Ea(E,v).flags|=256),v=Qf(E,v,!1),v!==2){if(zf&&!S){E.errorRecoveryDisabledLanes|=f,Ts|=f,c=4;break t}f=oi,oi=c,f!==null&&Hf(f)}c=v}if(f=!1,c!==2)continue}}if(c===1){Ea(e,0),Bi(e,n,0,!0);break}t:{switch(l=e,c){case 0:case 1:throw Error(a(345));case 4:if((n&4194176)===n){Bi(l,n,Nn,!ji);break t}break;case 2:oi=null;break;case 3:case 5:break;default:throw Error(a(329))}if(l.finishedWork=s,l.finishedLanes=n,(n&62914560)===n&&(f=jf+300-nn(),10<f)){if(Bi(l,n,Nn,!ji),_n(l,0)!==0)break t;l.timeoutHandle=Gy(Ay.bind(null,l,s,oi,Yu,Lf,n,Nn,Ts,va,ji,2,-0,0),f);break t}Ay(l,s,oi,Yu,Lf,n,Nn,Ts,va,ji,0,-0,0)}}break}while(!0);ui(e)}function Hf(e){oi===null?oi=e:oi.push.apply(oi,e)}function Ay(e,n,s,l,c,f,v,E,S,M,Q,Z,k){var q=n.subtreeFlags;if((q&8192||(q&16785408)===16785408)&&(Zl={stylesheets:null,count:0,unsuspend:X1},fy(n),n=Z1(),n!==null)){e.cancelPendingCommit=n(Vy.bind(null,e,s,l,c,v,E,S,1,Z,k)),Bi(e,f,v,!M);return}Vy(e,s,l,c,v,E,S,Q,Z,k)}function m1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],f=c.getSnapshot;c=c.value;try{if(!cn(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Bi(e,n,s,l){n&=~Pf,n&=~Ts,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var c=n;0<c;){var f=31-Ze(c),v=1<<f;l[f]=-1,c&=~v}s!==0&&tr(e,s,n)}function Xu(){return(ie&6)===0?(Ql(0),!1):!0}function Ff(){if(Nt!==null){if(Wt===0)var e=Nt.return;else e=Nt,Oi=ys=null,Xh(e),oa=null,Rl=0,e=Nt;for(;e!==null;)vy(e.alternate,e),e=e.return;Nt=null}}function Ea(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,O1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Ff(),Jt=e,Nt=s=br(e.current,null),Lt=n,Wt=0,dn=null,ji=!1,_a=Ji(e,n),zf=!1,va=Nn=Pf=Ts=Sr=oe=0,oi=Hl=null,Lf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var c=31-Ze(l),f=1<<c;n|=e[c],l&=~f}return ki=n,vu(),s}function by(e,n){Vt=null,b.H=li,n===Sl?(n=Lg(),Wt=3):n===Ug?(n=Lg(),Wt=4):Wt=n===zp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,dn=n,Nt===null&&(oe=1,ju(e,wn(n,e.current)))}function Sy(){var e=b.H;return b.H=li,e===null?li:e}function wy(){var e=b.A;return b.A=f1,e}function Gf(){oe=4,ji||(Lt&4194176)!==Lt&&Dn.current!==null||(_a=!0),(Sr&134217727)===0&&(Ts&134217727)===0||Jt===null||Bi(Jt,Lt,Nn,!1)}function Qf(e,n,s){var l=ie;ie|=2;var c=Sy(),f=wy();(Jt!==e||Lt!==n)&&(Yu=null,Ea(e,n)),n=!1;var v=oe;t:do try{if(Wt!==0&&Nt!==null){var E=Nt,S=dn;switch(Wt){case 8:Ff(),v=6;break t;case 3:case 2:case 6:Dn.current===null&&(n=!0);var M=Wt;if(Wt=0,dn=null,Ta(e,E,S,M),s&&_a){v=0;break t}break;default:M=Wt,Wt=0,dn=null,Ta(e,E,S,M)}}g1(),v=oe;break}catch(Q){by(e,Q)}while(!0);return n&&e.shellSuspendCounter++,Oi=ys=null,ie=l,b.H=c,b.A=f,Nt===null&&(Jt=null,Lt=0,vu()),v}function g1(){for(;Nt!==null;)Ry(Nt)}function p1(e,n){var s=ie;ie|=2;var l=Sy(),c=wy();Jt!==e||Lt!==n?(Yu=null,Qu=nn()+500,Ea(e,n)):_a=Ji(e,n);t:do try{if(Wt!==0&&Nt!==null){n=Nt;var f=dn;e:switch(Wt){case 1:Wt=0,dn=null,Ta(e,n,f,1);break;case 2:if(zg(f)){Wt=0,dn=null,Cy(n);break}n=function(){Wt===2&&Jt===e&&(Wt=7),ui(e)},f.then(n,n);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:zg(f)?(Wt=0,dn=null,Cy(n)):(Wt=0,dn=null,Ta(e,n,f,7));break;case 5:var v=null;switch(Nt.tag){case 26:v=Nt.memoizedState;case 5:case 27:var E=Nt;if(!v||n_(v)){Wt=0,dn=null;var S=E.sibling;if(S!==null)Nt=S;else{var M=E.return;M!==null?(Nt=M,$u(M)):Nt=null}break e}}Wt=0,dn=null,Ta(e,n,f,5);break;case 6:Wt=0,dn=null,Ta(e,n,f,6);break;case 8:Ff(),oe=6;break t;default:throw Error(a(462))}}y1();break}catch(Q){by(e,Q)}while(!0);return Oi=ys=null,b.H=l,b.A=c,ie=s,Nt!==null?0:(Jt=null,Lt=0,vu(),oe)}function y1(){for(;Nt!==null&&!vh();)Ry(Nt)}function Ry(e){var n=Kp(e.alternate,e,ki);e.memoizedProps=e.pendingProps,n===null?$u(e):Nt=n}function Cy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=qp(s,n,n.pendingProps,n.type,void 0,Lt);break;case 11:n=qp(s,n,n.pendingProps,n.type.render,n.ref,Lt);break;case 5:Xh(n);default:vy(s,n),n=Nt=py(n,ki),n=Kp(s,n,ki)}e.memoizedProps=e.pendingProps,n===null?$u(e):Nt=n}function Ta(e,n,s,l){Oi=ys=null,Xh(n),oa=null,Rl=0;var c=n.return;try{if(s1(e,c,n,s,Lt)){oe=1,ju(e,wn(s,e.current)),Nt=null;return}}catch(f){if(c!==null)throw Nt=c,f;oe=1,ju(e,wn(s,e.current)),Nt=null;return}n.flags&32768?(Ht||l===1?e=!0:_a||(Lt&536870912)!==0?e=!1:(ji=e=!0,(l===2||l===3||l===6)&&(l=Dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Dy(n,e)):$u(n)}function $u(e){var n=e;do{if((n.flags&32768)!==0){Dy(n,ji);return}e=n.return;var s=c1(n.alternate,n,ki);if(s!==null){Nt=s;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=e}while(n!==null);oe===0&&(oe=5)}function Dy(e,n){do{var s=h1(e.alternate,e);if(s!==null){s.flags&=32767,Nt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=s}while(e!==null);oe=6,Nt=null}function Vy(e,n,s,l,c,f,v,E,S,M){var Q=b.T,Z=lt.p;try{lt.p=2,b.T=null,_1(e,n,s,l,Z,c,f,v,E,S,M)}finally{b.T=Q,lt.p=Z}}function _1(e,n,s,l,c,f,v,E){do Aa();while(As!==null);if((ie&6)!==0)throw Error(a(327));var S=e.finishedWork;if(l=e.finishedLanes,S===null)return null;if(e.finishedWork=null,e.finishedLanes=0,S===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var M=S.lanes|S.childLanes;if(M|=Mh,Jo(e,l,M,f,v,E),e===Jt&&(Nt=Jt=null,Lt=0),(S.subtreeFlags&10256)===0&&(S.flags&10256)===0||Ku||(Ku=!0,kf=M,Bf=s,A1(_i,function(){return Aa(),null})),s=(S.flags&15990)!==0,(S.subtreeFlags&15990)!==0||s?(s=b.T,b.T=null,f=lt.p,lt.p=2,v=ie,ie|=4,l1(e,S),uy(S,e),qT(rd,e.containerInfo),oc=!!id,rd=id=null,e.current=S,sy(e,S.alternate,S),Wa(),ie=v,lt.p=f,b.T=s):e.current=S,Ku?(Ku=!1,As=e,Fl=l):xy(e,M),M=e.pendingLanes,M===0&&(wr=null),el(S.stateNode),ui(e),n!==null)for(c=e.onRecoverableError,S=0;S<n.length;S++)M=n[S],c(M.value,{componentStack:M.stack});return(Fl&3)!==0&&Aa(),M=e.pendingLanes,(l&4194218)!==0&&(M&42)!==0?e===qf?Gl++:(Gl=0,qf=e):Gl=0,Ql(0),null}function xy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Dl(n)))}function Aa(){if(As!==null){var e=As,n=kf;kf=0;var s=Wo(Fl),l=b.T,c=lt.p;try{if(lt.p=32>s?32:s,b.T=null,As===null)var f=!1;else{s=Bf,Bf=null;var v=As,E=Fl;if(As=null,Fl=0,(ie&6)!==0)throw Error(a(331));var S=ie;if(ie|=4,my(v.current),hy(v,v.current,E,s),ie=S,Ql(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot($i,v)}catch{}f=!0}return f}finally{lt.p=c,b.T=l,xy(e,n)}}return!1}function Iy(e,n,s){n=wn(s,n),n=cf(e.stateNode,n,2),e=vr(e,n,2),e!==null&&(he(e,2),ui(e))}function Zt(e,n,s){if(e.tag===3)Iy(e,e,s);else for(;n!==null;){if(n.tag===3){Iy(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(wr===null||!wr.has(l))){e=wn(s,e),s=Mp(2),l=vr(n,s,2),l!==null&&(Up(s,l,n,e),he(l,2),ui(l));break}}n=n.return}}function Yf(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new d1;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||(zf=!0,c.add(s),e=v1.bind(null,e,n,s),n.then(e,e))}function v1(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Jt===e&&(Lt&s)===s&&(oe===4||oe===3&&(Lt&62914560)===Lt&&300>nn()-jf?(ie&2)===0&&Ea(e,0):Pf|=s,va===Lt&&(va=0)),ui(e)}function Ny(e,n){n===0&&(n=Wi()),e=hr(e,n),e!==null&&(he(e,n),ui(e))}function E1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Ny(e,s)}function T1(e,n){var s=0;switch(e.tag){case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Ny(e,s)}function A1(e,n){return Qr(e,n)}var Zu=null,ba=null,Kf=!1,Ju=!1,Xf=!1,bs=0;function ui(e){e!==ba&&e.next===null&&(ba===null?Zu=ba=e:ba=ba.next=e),Ju=!0,Kf||(Kf=!0,S1(b1))}function Ql(e,n){if(!Xf&&Ju){Xf=!0;do for(var s=!1,l=Zu;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var v=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Ze(42|e)+1)-1,f&=c&~(v&~E),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(s=!0,Uy(l,f))}else f=Lt,f=_n(l,l===Jt?f:0),(f&3)===0||Ji(l,f)||(s=!0,Uy(l,f));l=l.next}while(s);Xf=!1}}function b1(){Ju=Kf=!1;var e=0;bs!==0&&(N1()&&(e=bs),bs=0);for(var n=nn(),s=null,l=Zu;l!==null;){var c=l.next,f=Oy(l,n);f===0?(l.next=null,s===null?Zu=c:s.next=c,c===null&&(ba=s)):(s=l,(e!==0||(f&3)!==0)&&(Ju=!0)),l=c}Ql(e)}function Oy(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var v=31-Ze(f),E=1<<v,S=c[v];S===-1?((E&s)===0||(E&l)!==0)&&(c[v]=Bs(E,n)):S<=n&&(e.expiredLanes|=E),f&=~E}if(n=Jt,s=Lt,s=_n(e,e===n?s:0),l=e.callbackNode,s===0||e===n&&Wt===2||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ks(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Ji(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&ks(l),Wo(s)){case 2:case 8:s=Ve;break;case 32:s=_i;break;case 268435456:s=tl;break;default:s=_i}return l=My.bind(null,e),s=Qr(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&ks(l),e.callbackPriority=2,e.callbackNode=null,2}function My(e,n){var s=e.callbackNode;if(Aa()&&e.callbackNode!==s)return null;var l=Lt;return l=_n(e,e===Jt?l:0),l===0?null:(Ty(e,l,n),Oy(e,nn()),e.callbackNode!=null&&e.callbackNode===s?My.bind(null,e):null)}function Uy(e,n){if(Aa())return null;Ty(e,n,!0)}function S1(e){M1(function(){(ie&6)!==0?Qr(Ae,e):e()})}function $f(){return bs===0&&(bs=il()),bs}function zy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Jn(""+e)}function Py(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function w1(e,n,s,l,c){if(n==="submit"&&s&&s.stateNode===c){var f=zy((c[be]||null).action),v=l.submitter;v&&(n=(n=v[be]||null)?zy(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var E=new Ks("action","action",null,l,c);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(bs!==0){var S=v?Py(c,v):new FormData(c);sf(s,{pending:!0,data:S,method:c.method,action:f},null,S)}}else typeof f=="function"&&(E.preventDefault(),S=v?Py(c,v):new FormData(c),sf(s,{pending:!0,data:S,method:c.method,action:f},f,S))},currentTarget:c}]})}}for(var Zf=0;Zf<Vg.length;Zf++){var Jf=Vg[Zf],R1=Jf.toLowerCase(),C1=Jf[0].toUpperCase()+Jf.slice(1);jn(R1,"on"+C1)}jn(Sg,"onAnimationEnd"),jn(wg,"onAnimationIteration"),jn(Rg,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(FT,"onTransitionRun"),jn(GT,"onTransitionStart"),jn(QT,"onTransitionCancel"),jn(Cg,"onTransitionEnd"),rn("onMouseEnter",["mouseout","mouseover"]),rn("onMouseLeave",["mouseout","mouseover"]),rn("onPointerEnter",["pointerout","pointerover"]),rn("onPointerLeave",["pointerout","pointerover"]),on("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),on("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),on("onBeforeInput",["compositionend","keypress","textInput","paste"]),on("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),on("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),on("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yl));function Ly(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var E=l[v],S=E.instance,M=E.currentTarget;if(E=E.listener,S!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=M;try{f(c)}catch(Q){Lu(Q)}c.currentTarget=null,f=S}else for(v=0;v<l.length;v++){if(E=l[v],S=E.instance,M=E.currentTarget,E=E.listener,S!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=M;try{f(c)}catch(Q){Lu(Q)}c.currentTarget=null,f=S}}}}function Mt(e,n){var s=n[Kr];s===void 0&&(s=n[Kr]=new Set);var l=e+"__bubble";s.has(l)||(jy(n,e,2,!1),s.add(l))}function Wf(e,n,s){var l=0;n&&(l|=4),jy(s,e,l,n)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function td(e){if(!e[Wu]){e[Wu]=!0,sl.forEach(function(s){s!=="selectionchange"&&(D1.has(s)||Wf(s,!1,e),Wf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Wu]||(n[Wu]=!0,Wf("selectionchange",!1,n))}}function jy(e,n,s,l){switch(o_(n)){case 2:var c=tA;break;case 8:c=eA;break;default:c=dd}s=c.bind(null,n,s,e),c=void 0,!An||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(n,s,{capture:!0,passive:c}):e.addEventListener(n,s,!0):c!==void 0?e.addEventListener(n,s,{passive:c}):e.addEventListener(n,s,!1)}function ed(e,n,s,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===c||E.nodeType===8&&E.parentNode===c)break;if(v===4)for(v=l.return;v!==null;){var S=v.tag;if((S===3||S===4)&&(S=v.stateNode.containerInfo,S===c||S.nodeType===8&&S.parentNode===c))return;v=v.return}for(;E!==null;){if(v=Ln(E),v===null)return;if(S=v.tag,S===5||S===6||S===26||S===27){l=f=v;continue t}E=E.parentNode}}l=l.return}ru(function(){var M=f,Q=Ys(s),Z=[];t:{var k=Dg.get(e);if(k!==void 0){var q=Ks,ht=e;switch(e){case"keypress":if(ti(s)===0)break t;case"keydown":case"keyup":q=ta;break;case"focusin":ht="focus",q=Zs;break;case"focusout":ht="blur",q=Zs;break;case"beforeblur":case"afterblur":q=Zs;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Rh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=fu;break;case Sg:case wg:case Rg:q=Js;break;case Cg:q=mu;break;case"scroll":case"scrollend":q=su;break;case"wheel":q=ea;break;case"copy":case"cut":case"paste":q=Ws;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=yl;break;case"toggle":case"beforetoggle":q=pu}var At=(n&4)!==0,ue=!At&&(e==="scroll"||e==="scrollend"),z=At?k!==null?k+"Capture":null:k;At=[];for(var O=M,j;O!==null;){var K=O;if(j=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||j===null||z===null||(K=Wr(O,z),K!=null&&At.push(Kl(O,K,j))),ue)break;O=O.return}0<At.length&&(k=new q(k,ht,null,s,Q),Z.push({event:k,listeners:At}))}}if((n&7)===0){t:{if(k=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",k&&s!==Tn&&(ht=s.relatedTarget||s.fromElement)&&(Ln(ht)||ht[vi]))break t;if((q||k)&&(k=Q.window===Q?Q:(k=Q.ownerDocument)?k.defaultView||k.parentWindow:window,q?(ht=s.relatedTarget||s.toElement,q=M,ht=ht?Ln(ht):null,ht!==null&&(ue=gt(ht),At=ht.tag,ht!==ue||At!==5&&At!==27&&At!==6)&&(ht=null)):(q=null,ht=M),q!==ht)){if(At=bn,K="onMouseLeave",z="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(At=yl,K="onPointerLeave",z="onPointerEnter",O="pointer"),ue=q==null?k:rr(q),j=ht==null?k:rr(ht),k=new At(K,O+"leave",q,s,Q),k.target=ue,k.relatedTarget=j,K=null,Ln(Q)===M&&(At=new At(z,O+"enter",ht,s,Q),At.target=j,At.relatedTarget=ue,K=At),ue=K,q&&ht)e:{for(At=q,z=ht,O=0,j=At;j;j=Sa(j))O++;for(j=0,K=z;K;K=Sa(K))j++;for(;0<O-j;)At=Sa(At),O--;for(;0<j-O;)z=Sa(z),j--;for(;O--;){if(At===z||z!==null&&At===z.alternate)break e;At=Sa(At),z=Sa(z)}At=null}else At=null;q!==null&&ky(Z,k,q,At,!1),ht!==null&&ue!==null&&ky(Z,ue,ht,At,!0)}}t:{if(k=M?rr(M):window,q=k.nodeName&&k.nodeName.toLowerCase(),q==="select"||q==="input"&&k.type==="file")var ut=dg;else if(we(k))if(mg)ut=kT;else{ut=LT;var It=PT}else q=k.nodeName,!q||q.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?M&&cl(M.elementType)&&(ut=dg):ut=jT;if(ut&&(ut=ut(e,M))){Ci(Z,ut,s,Q);break t}It&&It(e,k,M),e==="focusout"&&M&&k.type==="number"&&M.memoizedProps.value!=null&&Qs(k,"number",k.value)}switch(It=M?rr(M):window,e){case"focusin":(we(It)||It.contentEditable==="true")&&(na=It,Ih=M,El=null);break;case"focusout":El=Ih=na=null;break;case"mousedown":Nh=!0;break;case"contextmenu":case"mouseup":case"dragend":Nh=!1,Ag(Z,s,Q);break;case"selectionchange":if(HT)break;case"keydown":case"keyup":Ag(Z,s,Q)}var mt;if(ii)t:{switch(e){case"compositionstart":var yt="onCompositionStart";break t;case"compositionend":yt="onCompositionEnd";break t;case"compositionupdate":yt="onCompositionUpdate";break t}yt=void 0}else zt?B(e,s)&&(yt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(yt="onCompositionStart");yt&&(_&&s.locale!=="ko"&&(zt||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&zt&&(mt=fl()):(Wn=Q,cr="value"in Wn?Wn.value:Wn.textContent,zt=!0)),It=tc(M,yt),0<It.length&&(yt=new gl(yt,e,null,s,Q),Z.push({event:yt,listeners:It}),mt?yt.data=mt:(mt=it(s),mt!==null&&(yt.data=mt)))),(mt=m?Se(e,s):Pt(e,s))&&(yt=tc(M,"onBeforeInput"),0<yt.length&&(It=new gl("onBeforeInput","beforeinput",null,s,Q),Z.push({event:It,listeners:yt}),It.data=mt)),w1(Z,e,M,s,Q)}Ly(Z,n)})}function Kl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function tc(e,n){for(var s=n+"Capture",l=[];e!==null;){var c=e,f=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Wr(e,s),c!=null&&l.unshift(Kl(e,c,f)),c=Wr(e,n),c!=null&&l.push(Kl(e,c,f))),e=e.return}return l}function Sa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ky(e,n,s,l,c){for(var f=n._reactName,v=[];s!==null&&s!==l;){var E=s,S=E.alternate,M=E.stateNode;if(E=E.tag,S!==null&&S===l)break;E!==5&&E!==26&&E!==27||M===null||(S=M,c?(M=Wr(s,f),M!=null&&v.unshift(Kl(s,M,S))):c||(M=Wr(s,f),M!=null&&v.push(Kl(s,M,S)))),s=s.return}v.length!==0&&e.push({event:n,listeners:v})}var V1=/\r\n?/g,x1=/\u0000|\uFFFD/g;function By(e){return(typeof e=="string"?e:""+e).replace(V1,`
`).replace(x1,"")}function qy(e,n){return n=By(n),By(e)===n}function ec(){}function $t(e,n,s,l,c,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||En(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&En(e,""+l);break;case"className":lr(e,"class",l);break;case"tabIndex":lr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":lr(e,s,l);break;case"style":iu(e,l,f);break;case"data":if(n!=="object"){lr(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Jn(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&$t(e,n,"name",c.name,c,null),$t(e,n,"formEncType",c.formEncType,c,null),$t(e,n,"formMethod",c.formMethod,c,null),$t(e,n,"formTarget",c.formTarget,c,null)):($t(e,n,"encType",c.encType,c,null),$t(e,n,"method",c.method,c,null),$t(e,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Jn(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=ec);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=Jn(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),ar(e,"popover",l);break;case"xlinkActuate":vn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":vn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":vn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":vn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":vn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":vn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":vn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":vn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":vn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ar(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Sh.get(s)||s,ar(e,s,l))}}function nd(e,n,s,l,c,f){switch(s){case"style":iu(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?En(e,l):(typeof l=="number"||typeof l=="bigint")&&En(e,""+l);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ec);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fs.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=e[be]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,c);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):ar(e,s,l)}}}function ke(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var l=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var v=s[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$t(e,n,f,v,s,null)}}c&&$t(e,n,"srcSet",s.srcSet,s,null),l&&$t(e,n,"src",s.src,s,null);return;case"input":Mt("invalid",e);var E=f=v=c=null,S=null,M=null;for(l in s)if(s.hasOwnProperty(l)){var Q=s[l];if(Q!=null)switch(l){case"name":c=Q;break;case"type":v=Q;break;case"checked":S=Q;break;case"defaultChecked":M=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:$t(e,n,l,Q,s,null)}}Zr(e,f,E,S,M,v,c,!1),$r(e);return;case"select":Mt("invalid",e),l=v=f=null;for(c in s)if(s.hasOwnProperty(c)&&(E=s[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:$t(e,n,c,E,s,null)}n=f,s=v,e.multiple=!!l,n!=null?qt(e,!!l,n,!1):s!=null&&qt(e,!!l,s,!0);return;case"textarea":Mt("invalid",e),f=c=l=null;for(v in s)if(s.hasOwnProperty(v)&&(E=s[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:$t(e,n,v,E,s,null)}ur(e,l,c,f),$r(e);return;case"option":for(S in s)if(s.hasOwnProperty(S)&&(l=s[S],l!=null))switch(S){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$t(e,n,S,l,s,null)}return;case"dialog":Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(l=0;l<Yl.length;l++)Mt(Yl[l],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in s)if(s.hasOwnProperty(M)&&(l=s[M],l!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$t(e,n,M,l,s,null)}return;default:if(cl(n)){for(Q in s)s.hasOwnProperty(Q)&&(l=s[Q],l!==void 0&&nd(e,n,Q,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&$t(e,n,E,l,s,null))}function I1(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,v=null,E=null,S=null,M=null,Q=null;for(q in s){var Z=s[q];if(s.hasOwnProperty(q)&&Z!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":S=Z;default:l.hasOwnProperty(q)||$t(e,n,q,null,l,Z)}}for(var k in l){var q=l[k];if(Z=s[k],l.hasOwnProperty(k)&&(q!=null||Z!=null))switch(k){case"type":f=q;break;case"name":c=q;break;case"checked":M=q;break;case"defaultChecked":Q=q;break;case"value":v=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Z&&$t(e,n,k,q,l,Z)}}or(e,v,E,S,M,Q,f,c);return;case"select":q=v=E=k=null;for(f in s)if(S=s[f],s.hasOwnProperty(f)&&S!=null)switch(f){case"value":break;case"multiple":q=S;default:l.hasOwnProperty(f)||$t(e,n,f,null,l,S)}for(c in l)if(f=l[c],S=s[c],l.hasOwnProperty(c)&&(f!=null||S!=null))switch(c){case"value":k=f;break;case"defaultValue":E=f;break;case"multiple":v=f;default:f!==S&&$t(e,n,c,f,l,S)}n=E,s=v,l=q,k!=null?qt(e,!!s,k,!1):!!l!=!!s&&(n!=null?qt(e,!!s,n,!0):qt(e,!!s,s?[]:"",!1));return;case"textarea":q=k=null;for(E in s)if(c=s[E],s.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$t(e,n,E,null,l,c)}for(v in l)if(c=l[v],f=s[v],l.hasOwnProperty(v)&&(c!=null||f!=null))switch(v){case"value":k=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&$t(e,n,v,c,l,f)}Jr(e,k,q);return;case"option":for(var ht in s)if(k=s[ht],s.hasOwnProperty(ht)&&k!=null&&!l.hasOwnProperty(ht))switch(ht){case"selected":e.selected=!1;break;default:$t(e,n,ht,null,l,k)}for(S in l)if(k=l[S],q=s[S],l.hasOwnProperty(S)&&k!==q&&(k!=null||q!=null))switch(S){case"selected":e.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:$t(e,n,S,k,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in s)k=s[At],s.hasOwnProperty(At)&&k!=null&&!l.hasOwnProperty(At)&&$t(e,n,At,null,l,k);for(M in l)if(k=l[M],q=s[M],l.hasOwnProperty(M)&&k!==q&&(k!=null||q!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,n));break;default:$t(e,n,M,k,l,q)}return;default:if(cl(n)){for(var ue in s)k=s[ue],s.hasOwnProperty(ue)&&k!==void 0&&!l.hasOwnProperty(ue)&&nd(e,n,ue,void 0,l,k);for(Q in l)k=l[Q],q=s[Q],!l.hasOwnProperty(Q)||k===q||k===void 0&&q===void 0||nd(e,n,Q,k,l,q);return}}for(var z in s)k=s[z],s.hasOwnProperty(z)&&k!=null&&!l.hasOwnProperty(z)&&$t(e,n,z,null,l,k);for(Z in l)k=l[Z],q=s[Z],!l.hasOwnProperty(Z)||k===q||k==null&&q==null||$t(e,n,Z,k,l,q)}var id=null,rd=null;function nc(e){return e.nodeType===9?e:e.ownerDocument}function Hy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function sd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ad=null;function N1(){var e=window.event;return e&&e.type==="popstate"?e===ad?!1:(ad=e,!0):(ad=null,!1)}var Gy=typeof setTimeout=="function"?setTimeout:void 0,O1=typeof clearTimeout=="function"?clearTimeout:void 0,Qy=typeof Promise=="function"?Promise:void 0,M1=typeof queueMicrotask=="function"?queueMicrotask:typeof Qy<"u"?function(e){return Qy.resolve(null).then(e).catch(U1)}:Gy;function U1(e){setTimeout(function(){throw e})}function ld(e,n){var s=n,l=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(l===0){e.removeChild(c),no(n);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=c}while(s);no(n)}function od(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":od(s),Xr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function z1(e,n,s,l){for(;e.nodeType===1;){var c=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ir])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=qn(e.nextSibling),e===null)break}return null}function P1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=qn(e.nextSibling),e===null))return null;return e}function qn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}function Yy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}function Ky(e,n,s){switch(n=nc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}var On=new Map,Xy=new Set;function ic(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var qi=lt.d;lt.d={f:L1,r:j1,D:k1,C:B1,L:q1,m:H1,X:G1,S:F1,M:Q1};function L1(){var e=qi.f(),n=Xu();return e||n}function j1(e){var n=Ei(e);n!==null&&n.tag===5&&n.type==="form"?Ap(n):qi.r(e)}var wa=typeof document>"u"?null:document;function $y(e,n,s){var l=wa;if(l&&typeof n=="string"&&n){var c=ae(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Xy.has(c)||(Xy.add(c),e={rel:e,crossOrigin:s,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ke(n,"link",e),ee(n),l.head.appendChild(n)))}}function k1(e){qi.D(e),$y("dns-prefetch",e,null)}function B1(e,n){qi.C(e,n),$y("preconnect",e,n)}function q1(e,n,s){qi.L(e,n,s);var l=wa;if(l&&e&&n){var c='link[rel="preload"][as="'+ae(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+ae(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+ae(s.imageSizes)+'"]')):c+='[href="'+ae(e)+'"]';var f=c;switch(n){case"style":f=Ra(e);break;case"script":f=Ca(e)}On.has(f)||(e=D({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),On.set(f,e),l.querySelector(c)!==null||n==="style"&&l.querySelector(Xl(f))||n==="script"&&l.querySelector($l(f))||(n=l.createElement("link"),ke(n,"link",e),ee(n),l.head.appendChild(n)))}}function H1(e,n){qi.m(e,n);var s=wa;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+ae(l)+'"][href="'+ae(e)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ca(e)}if(!On.has(f)&&(e=D({rel:"modulepreload",href:e},n),On.set(f,e),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector($l(f)))return}l=s.createElement("link"),ke(l,"link",e),ee(l),s.head.appendChild(l)}}}function F1(e,n,s){qi.S(e,n,s);var l=wa;if(l&&e){var c=sr(l).hoistableStyles,f=Ra(e);n=n||"default";var v=c.get(f);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(Xl(f)))E.loading=5;else{e=D({rel:"stylesheet",href:e,"data-precedence":n},s),(s=On.get(f))&&ud(e,s);var S=v=l.createElement("link");ee(S),ke(S,"link",e),S._p=new Promise(function(M,Q){S.onload=M,S.onerror=Q}),S.addEventListener("load",function(){E.loading|=1}),S.addEventListener("error",function(){E.loading|=2}),E.loading|=4,rc(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:E},c.set(f,v)}}}function G1(e,n){qi.X(e,n);var s=wa;if(s&&e){var l=sr(s).hoistableScripts,c=Ca(e),f=l.get(c);f||(f=s.querySelector($l(c)),f||(e=D({src:e,async:!0},n),(n=On.get(c))&&cd(e,n),f=s.createElement("script"),ee(f),ke(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Q1(e,n){qi.M(e,n);var s=wa;if(s&&e){var l=sr(s).hoistableScripts,c=Ca(e),f=l.get(c);f||(f=s.querySelector($l(c)),f||(e=D({src:e,async:!0,type:"module"},n),(n=On.get(c))&&cd(e,n),f=s.createElement("script"),ee(f),ke(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Zy(e,n,s,l){var c=(c=yn.current)?ic(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ra(s.href),s=sr(c).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ra(s.href);var f=sr(c).hoistableStyles,v=f.get(e);if(v||(c=c.ownerDocument||c,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,v),(f=c.querySelector(Xl(e)))&&!f._p&&(v.instance=f,v.state.loading=5),On.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},On.set(e,s),f||Y1(c,e,s,v.state))),n&&l===null)throw Error(a(528,""));return v}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ca(s),s=sr(c).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ra(e){return'href="'+ae(e)+'"'}function Xl(e){return'link[rel="stylesheet"]['+e+"]"}function Jy(e){return D({},e,{"data-precedence":e.precedence,precedence:null})}function Y1(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ke(n,"link",s),ee(n),e.head.appendChild(n))}function Ca(e){return'[src="'+ae(e)+'"]'}function $l(e){return"script[async]"+e}function Wy(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+ae(s.href)+'"]');if(l)return n.instance=l,ee(l),l;var c=D({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ee(l),ke(l,"style",c),rc(l,s.precedence,e),n.instance=l;case"stylesheet":c=Ra(s.href);var f=e.querySelector(Xl(c));if(f)return n.state.loading|=4,n.instance=f,ee(f),f;l=Jy(s),(c=On.get(c))&&ud(l,c),f=(e.ownerDocument||e).createElement("link"),ee(f);var v=f;return v._p=new Promise(function(E,S){v.onload=E,v.onerror=S}),ke(f,"link",l),n.state.loading|=4,rc(f,s.precedence,e),n.instance=f;case"script":return f=Ca(s.src),(c=e.querySelector($l(f)))?(n.instance=c,ee(c),c):(l=s,(c=On.get(f))&&(l=D({},s),cd(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),ee(c),ke(c,"link",l),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,rc(l,s.precedence,e));return n.instance}function rc(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function ud(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function cd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var sc=null;function t_(e,n,s){if(sc===null){var l=new Map,c=sc=new Map;c.set(s,l)}else c=sc,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),c=0;c<s.length;c++){var f=s[c];if(!(f[ir]||f[xe]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=e+v;var E=l.get(v);E?E.push(f):l.set(v,[f])}}return l}function e_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function K1(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function n_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Zl=null;function X1(){}function $1(e,n,s){if(Zl===null)throw Error(a(475));var l=Zl;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Ra(s.href),f=e.querySelector(Xl(c));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=ac.bind(l),e.then(l,l)),n.state.loading|=4,n.instance=f,ee(f);return}f=e.ownerDocument||e,s=Jy(s),(c=On.get(c))&&ud(s,c),f=f.createElement("link"),ee(f);var v=f;v._p=new Promise(function(E,S){v.onload=E,v.onerror=S}),ke(f,"link",s),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=ac.bind(l),e.addEventListener("load",n),e.addEventListener("error",n))}}function Z1(){if(Zl===null)throw Error(a(475));var e=Zl;return e.stylesheets&&e.count===0&&hd(e,e.stylesheets),0<e.count?function(n){var s=setTimeout(function(){if(e.stylesheets&&hd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s)}}:null}function ac(){if(this.count--,this.count===0){if(this.stylesheets)hd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var lc=null;function hd(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,lc=new Map,n.forEach(J1,e),lc=null,ac.call(e))}function J1(e,n){if(!(n.state.loading&4)){var s=lc.get(e);if(s)var l=s.get(null);else{s=new Map,lc.set(e,s);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var v=c[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),l=v)}l&&s.set(null,l)}c=n.instance,v=c.getAttribute("data-precedence"),f=s.get(v)||l,f===l&&s.set(null,c),s.set(v,c),this.count++,l=ac.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var Jl={$$typeof:L,Provider:null,Consumer:null,_currentValue:Dt,_currentValue2:Dt,_threadCount:0};function W1(e,n,s,l,c,f,v,E){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qs(0),this.hiddenUpdates=qs(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function i_(e,n,s,l,c,f,v,E,S,M,Q,Z){return e=new W1(e,n,s,v,E,S,M,Z),n=1,f===!0&&(n|=24),f=In(3,null,null,n),e.current=f,f.stateNode=e,n=qh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},bf(f),e}function r_(e){return e?(e=sa,e):sa}function s_(e,n,s,l,c,f){c=r_(c),l.context===null?l.context=c:l.pendingContext=c,l=_r(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=vr(e,l,n),s!==null&&(en(s,e,n),Ul(s,e,n))}function a_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function fd(e,n){a_(e,n),(e=e.alternate)&&a_(e,n)}function l_(e){if(e.tag===13){var n=hr(e,67108864);n!==null&&en(n,e,67108864),fd(e,67108864)}}var oc=!0;function tA(e,n,s,l){var c=b.T;b.T=null;var f=lt.p;try{lt.p=2,dd(e,n,s,l)}finally{lt.p=f,b.T=c}}function eA(e,n,s,l){var c=b.T;b.T=null;var f=lt.p;try{lt.p=8,dd(e,n,s,l)}finally{lt.p=f,b.T=c}}function dd(e,n,s,l){if(oc){var c=md(l);if(c===null)ed(e,n,l,uc,s),u_(e,l);else if(iA(c,e,n,s,l))l.stopPropagation();else if(u_(e,l),n&4&&-1<nA.indexOf(e)){for(;c!==null;){var f=Ei(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Pn(f.pendingLanes);if(v!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var S=1<<31-Ze(v);E.entanglements[1]|=S,v&=~S}ui(f),(ie&6)===0&&(Qu=nn()+500,Ql(0))}}break;case 13:E=hr(f,2),E!==null&&en(E,f,2),Xu(),fd(f,2)}if(f=md(l),f===null&&ed(e,n,l,uc,s),f===c)break;c=f}c!==null&&l.stopPropagation()}else ed(e,n,l,null,s)}}function md(e){return e=Ys(e),gd(e)}var uc=null;function gd(e){if(uc=null,e=Ln(e),e!==null){var n=gt(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=Gt(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return uc=e,null}function o_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ko()){case Ae:return 2;case Ve:return 8;case _i:case Xo:return 32;case tl:return 268435456;default:return 32}default:return 32}}var pd=!1,Rr=null,Cr=null,Dr=null,Wl=new Map,to=new Map,Vr=[],nA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function u_(e,n){switch(e){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":Wl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":to.delete(n.pointerId)}}function eo(e,n,s,l,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Ei(n),n!==null&&l_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function iA(e,n,s,l,c){switch(n){case"focusin":return Rr=eo(Rr,e,n,s,l,c),!0;case"dragenter":return Cr=eo(Cr,e,n,s,l,c),!0;case"mouseover":return Dr=eo(Dr,e,n,s,l,c),!0;case"pointerover":var f=c.pointerId;return Wl.set(f,eo(Wl.get(f)||null,e,n,s,l,c)),!0;case"gotpointercapture":return f=c.pointerId,to.set(f,eo(to.get(f)||null,e,n,s,l,c)),!0}return!1}function c_(e){var n=Ln(e.target);if(n!==null){var s=gt(n);if(s!==null){if(n=s.tag,n===13){if(n=Gt(s),n!==null){e.blockedOn=n,nr(e.priority,function(){if(s.tag===13){var l=mn(),c=hr(s,l);c!==null&&en(c,s,l),fd(s,l)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=md(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Tn=l,s.target.dispatchEvent(l),Tn=null}else return n=Ei(s),n!==null&&l_(n),e.blockedOn=s,!1;n.shift()}return!0}function h_(e,n,s){cc(e)&&s.delete(n)}function rA(){pd=!1,Rr!==null&&cc(Rr)&&(Rr=null),Cr!==null&&cc(Cr)&&(Cr=null),Dr!==null&&cc(Dr)&&(Dr=null),Wl.forEach(h_),to.forEach(h_)}function hc(e,n){e.blockedOn===n&&(e.blockedOn=null,pd||(pd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,rA)))}var fc=null;function f_(e){fc!==e&&(fc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){fc===e&&(fc=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],c=e[n+2];if(typeof l!="function"){if(gd(l||s)===null)continue;break}var f=Ei(s);f!==null&&(e.splice(n,3),n-=3,sf(f,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function no(e){function n(S){return hc(S,e)}Rr!==null&&hc(Rr,e),Cr!==null&&hc(Cr,e),Dr!==null&&hc(Dr,e),Wl.forEach(n),to.forEach(n);for(var s=0;s<Vr.length;s++){var l=Vr[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Vr.length&&(s=Vr[0],s.blockedOn===null);)c_(s),s.blockedOn===null&&Vr.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],f=s[l+1],v=c[be]||null;if(typeof f=="function")v||f_(s);else if(v){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,v=f[be]||null)E=v.formAction;else if(gd(c)!==null)continue}else E=v.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),f_(s)}}}function yd(e){this._internalRoot=e}dc.prototype.render=yd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=mn();s_(s,l,e,n,null,null)},dc.prototype.unmount=yd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;e.tag===0&&Aa(),s_(e.current,2,null,e,null,null),Xu(),n[vi]=null}};function dc(e){this._internalRoot=e}dc.prototype.unstable_scheduleHydration=function(e){if(e){var n=tu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Vr.length&&n!==0&&n<Vr[s].priority;s++);Vr.splice(s,0,e),s===0&&c_(e)}};var d_=t.version;if(d_!=="19.0.0")throw Error(a(527,d_,"19.0.0"));lt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=J(n),e=e!==null?ft(e):null,e=e===null?null:e.stateNode,e};var sA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:b,findFiberByHostInstance:Ln,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mc.isDisabled&&mc.supportsFiber)try{$i=mc.inject(sA),Fe=mc}catch{}}return ro.createRoot=function(e,n){if(!o(e))throw Error(a(299));var s=!1,l="",c=xp,f=Ip,v=Np,E=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=i_(e,1,!1,null,null,s,l,c,f,v,E,null),e[vi]=n.current,td(e.nodeType===8?e.parentNode:e),new yd(n)},ro.hydrateRoot=function(e,n,s){if(!o(e))throw Error(a(299));var l=!1,c="",f=xp,v=Ip,E=Np,S=null,M=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(S=s.unstable_transitionCallbacks),s.formState!==void 0&&(M=s.formState)),n=i_(e,1,!0,n,s??null,l,c,f,v,E,S,M),n.context=r_(null),s=n.current,l=mn(),c=_r(l),c.callback=null,vr(s,c,l),n.current.lanes=l,he(n,l),ui(n),e[vi]=n.current,td(e),new dc(n)},ro.version="19.0.0",ro}var b_;function gA(){if(b_)return Ed.exports;b_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ed.exports=mA(),Ed.exports}var pA=gA(),s0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},S_=Cs.createContext&&Cs.createContext(s0),yA=["attr","size","title"];function _A(r,t){if(r==null)return{};var i=vA(r,t),a,o;if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(r);for(o=0;o<h.length;o++)a=h[o],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(i[a]=r[a])}return i}function vA(r,t){if(r==null)return{};var i={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(t.indexOf(a)>=0)continue;i[a]=r[a]}return i}function xc(){return xc=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])}return r},xc.apply(this,arguments)}function w_(r,t){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),i.push.apply(i,a)}return i}function Ic(r){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?w_(Object(i),!0).forEach(function(a){EA(r,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):w_(Object(i)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(i,a))})}return r}function EA(r,t,i){return t=TA(t),t in r?Object.defineProperty(r,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[t]=i,r}function TA(r){var t=AA(r,"string");return typeof t=="symbol"?t:t+""}function AA(r,t){if(typeof r!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var a=i.call(r,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function a0(r){return r&&r.map((t,i)=>Cs.createElement(t.tag,Ic({key:i},t.attr),a0(t.child)))}function pm(r){return t=>Cs.createElement(bA,xc({attr:Ic({},r.attr)},t),a0(r.child))}function bA(r){var t=i=>{var{attr:a,size:o,title:h}=r,d=_A(r,yA),g=o||i.size||"1em",y;return i.className&&(y=i.className),r.className&&(y=(y?y+" ":"")+r.className),Cs.createElement("svg",xc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,a,d,{className:y,style:Ic(Ic({color:r.color||i.color},i.style),r.style),height:g,width:g,xmlns:"http://www.w3.org/2000/svg"}),h&&Cs.createElement("title",null,h),r.children)};return S_!==void 0?Cs.createElement(S_.Consumer,null,i=>t(i)):t(s0)}function SA(r){return pm({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(r)}function wA(r){return pm({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(r)}function l0(r){return pm({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(r)}function RA(){return G.jsxs("div",{className:"bg-[#C1ADFF] my-10 pt-5 rounded-2xl",children:[G.jsx("h3",{id:"Contact",className:"text-3xl text-center text-[#784390] font-semibold tracking-tight sm:max-md:text-center",children:"Contact US"}),G.jsx("p",{className:"py-3 text-center text-grey font-semibold px-3",children:"Have questions, want to see more, or just say hi? Reach out to us on Instagram, give us a call, or connect with us on Facebook, we're always here for you!"}),G.jsxs("div",{className:"flex justify-center gap-6 py-4",children:[G.jsx("a",{href:"https://www.instagram.com/dmvfood.us/",target:"_blank",rel:"noopener noreferrer",className:"bg-[#784390] text-white p-3 rounded-full hover:opacity-80 transition",children:G.jsx(wA,{size:24})}),G.jsx("a",{href:"tel:+15712596992",className:"bg-[#784390] text-white p-3 rounded-full hover:opacity-80 transition",children:G.jsx(l0,{size:24})}),G.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"bg-[#784390] text-white p-3 rounded-full hover:opacity-80 transition",children:G.jsx(SA,{size:24})})]})]})}const CA="/assets/MainDishes-DJLrZoPz.jpg",DA="/assets/Sandwiches2-B9n9M8Xb.jpg",VA="/assets/Juices-Cqq0nm9Q.jpg",xA="/assets/Desserts-C5TNwvBF.jpg";function IA(){return G.jsxs("div",{children:[G.jsx(gc,{title:"Main Dishes",myimage:CA,subtitle:"Taste the best of chicken, lamb, and melt-in-your-mouth fish"}),G.jsx(gc,{title:"Sandwiches",myimage:DA,subtitle:"From crispy falafel to juicy burgers. we've got your cravings covered"}),G.jsx(gc,{title:"Jucies",myimage:VA,subtitle:"From hibiscus to minty lemonade — cool down the classic way"}),G.jsx(gc,{title:"Desserts",myimage:xA,subtitle:"From classic comfort to rich indulgence, our desserts have it all"})]})}function gc(r){return G.jsxs("div",{className:"bg-[#C1ADFF] my-10 pt-5 rounded-2xl",id:"Explore",children:[G.jsx("h3",{className:"text-3xl text-center text-[#784390] font-semibold tracking-tight sm:max-md:text-center",children:r.title}),G.jsx("p",{className:"py-3 text-center text-grey text-sm font-mono",children:r.subtitle}),G.jsx("img",{src:r.myimage,className:"rounded-xl",alt:r.title}),G.jsx("div",{className:"flex justify-center py-4",children:G.jsx("a",{href:"#menu",children:G.jsx("button",{className:"bg-[#784390] rounded-3xl font-semibold text-white px-6 py-2",children:"Explore Menu"})})})]})}const NA="/assets/loc-BPqW8158.jpg";function OA(){return G.jsxs("div",{id:"Location",className:"rounded-2xl my-10 py-5 m-3 bg-green-50",children:[G.jsx("h1",{className:"text-center text-2xl pb-3 font-bold",children:"Delivery Locations"}),G.jsx("h1",{className:"text-center text-black font-serif",children:"Here is a map covering our Delivery Locations"}),G.jsx("img",{className:"rounded py-3",src:NA,alt:"Delivery locations map"}),G.jsx("p",{className:"text-center text-sm",children:"Just Drop Your Location after Order To Check For Availability"})]})}function MA(){return G.jsxs("div",{className:"bg-[#C1ADFF] p-5 rounded-t-2xl",children:[G.jsxs("p",{id:"footer",className:"text-center text-sm",children:["“ Good food is all the sweeter when shared with good friends ”",G.jsx("br",{}),"We're here to turn meals into memories."]}),G.jsx("p",{className:"font-bold text-black text-sm font-mono text-center",children:"Served with ❤️ & built by KenStudios © 2025"})]})}const o0="/assets/image%20(1)-D1zBBNxH.jpg",u0="/assets/image%20(2)-DnAuizco.jpg",c0="/assets/image%20(3)-BRfGimgF.jpg",h0="/assets/image%20(4)-DVHb57LB.jpg",f0="/assets/image%20(5)-QUzFIoPE.jpg";function UA(){const r=[o0,u0,c0,h0,f0],[t,i]=bt.useState(0);return bt.useEffect(()=>{const a=setInterval(()=>{i(o=>(o+1)%r.length)},2e3);return()=>clearInterval(a)},[r.length]),G.jsx("div",{className:"bg-[#C1ADFF] rounded-3xl pb-5",children:G.jsxs("section",{className:"max-w-screen-2xl mt-0 m-auto w-full grid grow gap-0 px-0 sm:px-0 md:grid-cols-2 md:flex-row lg:gap-6 lg:px-0 xl:px-0",children:[G.jsxs("div",{className:"flex flex-1 flex-col items-start gap-12 pb-1 md:my-20 lg:my-44 lg:pb-0 pl-3 sm:pl-8 lg:pl-16 xl:pl-32",children:[G.jsxs("div",{className:"flex max-w-lg flex-col gap-3",children:[G.jsx("h3",{className:"text-4xl font-bold text-black md:text-6xl pt-5",children:"DMV Homemade Food Delivery Service"}),G.jsx("p",{className:"text-lg font-normal leading-7 text-grey",children:"Indulge in a wide range of mouthwatering dishes, prepared with care and designed to satisfy every craving. Enjoy convenient food delivery right to your door, with exceptional meals and a seamless ordering experience every time."})]}),G.jsx("div",{className:"flex gap-4",children:G.jsx("button",{type:"button",onClick:()=>window.location.href="#menu",className:"group inline-flex items-center ml-30 whitespace-nowrap rounded-2xl py-2 align-middle text-sm font-semibold leading-none transition-all duration-300 ease-in-out bg-[#784390] text-white hover:bg-blue-950 h-[42px] min-w-[42px] px-6",children:"Order Now!"})})]}),G.jsx("div",{className:"order-first flex w-full flex-1 items-center justify-center bg-slate-50 py-0 md:order-last lg:py-0 h-[300px] sm:h-[400px] md:h-[500px] lg:h-[600px] my-0",children:G.jsx("img",{className:"rounded object-cover w-full h-full",src:r[t],alt:"Local Image"})})]})})}const zA="/assets/Juice1-B9OsYAda.jpg",PA="/assets/Juice2-BM9Or6Lg.jpg",LA="/assets/Juice3-BgiOhOHh.jpg",jA="/assets/waterBottle-DFBBdgaF.jpg",kA="/assets/softdrinks-DeVLsSKn.jpg",BA="/assets/RicePudding-D7IjcFv4.jpg",qA="/assets/FruitSalad-DxlpIfjV.jpg",HA="/assets/ChocolateCake-H-I3Nmfv.jpg",FA="/assets/YemeniMasoub-BIuv_eHs.jpg",GA="/assets/ChickenSandwich-DOwf81NT.jpg",Ld={Drinks:[{title:"Traditional Hibiscus",subtitle:"Freshly brewed hibiscus tea ($3.99)",img:PA},{title:"Lemonade with Mint",subtitle:"Refreshing lemonade infused with fresh mint leaves ($3.99)",img:LA},{title:"Tamarind Drink",subtitle:"Sweet and tangy tamarind drink ($3.99)",img:zA},{title:"Soft Drinks",subtitle:"($2.00)",img:kA},{title:"Water Bottle",subtitle:"Fresh and cold bottled water ($1.00)",img:jA}],Desserts:[{title:"Creamy Rice Pudding",subtitle:"($5.00)",img:BA},{title:"Fresh Fruit Salad",subtitle:"($5.00)",img:qA},{title:"Moist Chocolate Cake",subtitle:"($5.00)",img:HA},{title:"Yemeni Masoub",subtitle:"($6.00)",img:FA}],"Main Dishes":[{title:"Chicken with Rice & Salad",subtitle:"Tender chicken with rice and fresh green salad ($15)",img:o0},{title:"Lamb with Rice & Salad",subtitle:"Slow-cooked lamb with rice and green salad ($15)",img:h0},{title:"Boneless Fish with Rice",subtitle:"Flaky fish with rice and green salad ($15)",img:f0}],Sandwiches:[{title:"Falafel Sandwich",subtitle:"Crispy falafel in fresh pita bread ($7.00)",img:c0},{title:"Chicken Breast Sandwich",subtitle:"Grilled chicken on a toasted bun ($7.00)",img:GA},{title:"Homemade Burger",subtitle:"Juicy beef burger served on a toasted bun ($7.00)",img:u0}]},QA=Object.values(Ld).flat().reduce((r,t)=>(r[t.title]=t.subtitle,r),{});function YA({ModalTitle:r,ModalSubtitle:t,ModalImg:i,onClose:a}){return G.jsx("div",{className:"fixed inset-0 bg-white bg-opacity-100 flex items-center justify-center z-50",children:G.jsxs("div",{className:"bg-white p-5 rounded-xl relative max-w-lg w-full",children:[G.jsx("button",{className:"absolute top-2 right-2 text-xl text-white bg-red-500 rounded-full px-2",onClick:a,children:"X"}),G.jsx("h1",{className:"text-center text-xl font-bold my-3",children:r}),G.jsx("img",{alt:"image",className:"rounded-xl mb-3",src:i}),G.jsx("p",{className:"text-center my-3",children:t})]})})}function KA(){var nt,dt;const[r,t]=bt.useState(null),[i,a]=bt.useState("Drinks"),[o,h]=bt.useState({}),[d,g]=bt.useState(""),[y,p]=bt.useState(""),[A,R]=bt.useState(0),N=Ld[i];bt.useEffect(()=>{const tt=Object.entries(o).filter(([,x])=>x>0).map(([x,w])=>`${x} - ${w}`).join(" & ");let _t=0;Object.entries(o).forEach(([x,w])=>{const D=(QA[x]||"").match(/\$([\d.]+)/);D&&(_t+=parseFloat(D[1])*w)}),g(tt),R(_t)},[o]);const L=tt=>t(tt),H=()=>t(null),Y=tt=>tt.target===tt.currentTarget&&H(),F=tt=>h(_t=>({..._t,[tt]:(_t[tt]||0)+1})),W=tt=>h(_t=>({..._t,[tt]:Math.max((_t[tt]||0)-1,0)})),rt=`https://wa.me/15712596992?text=${encodeURIComponent(`Order: ${d} ${y?"Note: "+y:""}`)}`;return G.jsxs("div",{className:"bg-[#C1ADFF] m-3 rounded-xl py-5",children:[G.jsx("h1",{className:"text-center font-bold text-2xl mb-4",id:"menu",children:"Place Your Order"}),G.jsx("div",{className:"flex flex-wrap justify-center gap-3 mb-6",children:Object.keys(Ld).map(tt=>G.jsx("button",{onClick:()=>a(tt),className:`w-40 px-4 py-2 rounded-lg text-white font-semibold ${i===tt?"bg-[#784390]":"bg-[#784390] opacity-70"}`,children:tt},tt))}),G.jsx("ul",{children:N.map(tt=>G.jsxs("li",{className:"flex items-center justify-between p-4 mb-2",children:[G.jsx("span",{className:"cursor-pointer text-lg font-semibold",onClick:()=>L(tt.title),children:tt.title}),G.jsxs("div",{className:"flex items-center",children:[G.jsx("button",{onClick:()=>W(tt.title),className:"px-3 py-1 text-xl text-[#784390]  font-semibold",children:"-"}),G.jsx("span",{className:"px-6",children:o[tt.title]||0}),G.jsx("button",{onClick:()=>F(tt.title),className:"px-3 py-1 text-xl text-[#784390] font-semibold",children:"+"})]})]},tt.title))}),G.jsx("input",{type:"text",value:y,onChange:tt=>p(tt.target.value),placeholder:"Write a note for your order (e.g., sugar-free)",className:"w-full p-2 mt-4 border border-gray-300 rounded-lg"}),d&&G.jsxs("div",{className:"text-center mt-4",children:[G.jsxs("p",{className:"text-lg font-semibold",children:["Order: ",d]}),G.jsxs("p",{className:"text-lg font-bold text-green-700",children:["Total: $",A.toFixed(2)]})]}),G.jsx("a",{href:rt,target:"_blank",rel:"noopener noreferrer",children:G.jsx("button",{className:"block mx-auto my-4 bg-green-500 text-white p-2 rounded-lg",children:"Send Order via WhatsApp"})}),G.jsx("div",{className:"flex",children:G.jsxs("a",{href:"tel:+15712596992",className:"bg-green-500 text-white p-2  rounded-2xl inline-flex justify-center items-center mx-auto",children:["or call us ",G.jsx(l0,{className:"ml-2",size:25})]})}),G.jsxs("button",{onClick:()=>{h({}),p("")},className:"mx-auto my-4 bg-[#784390] text-white p-2 rounded-lg flex items-center hover:bg-gray-300 transition",children:[G.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6 mr-1",children:G.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})}),"Reset Menu"]}),r&&G.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50",onClick:Y,children:G.jsx(YA,{ModalTitle:r,ModalSubtitle:((nt=N.find(tt=>tt.title===r))==null?void 0:nt.subtitle)||"",ModalImg:((dt=N.find(tt=>tt.title===r))==null?void 0:dt.img)||"",onClose:H})})]})}function XA(){return G.jsxs("div",{className:"navbar text-[#784390] bg-white",children:[G.jsx("div",{className:"navbar-start",children:G.jsxs("div",{className:"dropdown",children:[G.jsx("div",{tabIndex:0,role:"button",className:"btn btn-ghost btn-circle",children:G.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:G.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h7"})})}),G.jsx("div",{children:G.jsxs("ul",{tabIndex:0,className:"menu dropdown-content bg-green-50 rounded-box w-80 p-10 shadow",children:[G.jsx("li",{children:G.jsx("a",{href:"#Explore",children:"Explore"})}),G.jsx("li",{children:G.jsx("a",{href:"#menu",children:"Place Order"})}),G.jsx("li",{children:G.jsx("a",{href:"#Location",children:"Where are we?"})}),G.jsx("li",{children:G.jsx("a",{href:"#Contact",children:"Contact"})})]})})]})}),G.jsx("div",{className:"navbar-center",children:G.jsx("a",{href:"#footer",className:"btn-ghost text-3xl mr-38 md:m-0 font-extrabold",children:"DMV"})})]})}const $A=()=>{};var R_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},ZA=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const h=r[i++];t[a++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=r[i++],d=r[i++],g=r[i++],y=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const h=r[i++],d=r[i++];t[a++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return t.join("")},m0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const h=r[o],d=o+1<r.length,g=d?r[o+1]:0,y=o+2<r.length,p=y?r[o+2]:0,A=h>>2,R=(h&3)<<4|g>>4;let N=(g&15)<<2|p>>6,L=p&63;y||(L=64,d||(N=64)),a.push(i[A],i[R],i[N],i[L])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(d0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):ZA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const h=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const p=o<r.length?i[r.charAt(o)]:64;++o;const R=o<r.length?i[r.charAt(o)]:64;if(++o,h==null||g==null||p==null||R==null)throw new JA;const N=h<<2|g>>4;if(a.push(N),p!==64){const L=g<<4&240|p>>2;if(a.push(L),R!==64){const H=p<<6&192|R;a.push(H)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class JA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WA=function(r){const t=d0(r);return m0.encodeByteArray(t,!0)},Nc=function(r){return WA(r).replace(/\./g,"")},tb=function(r){try{return m0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb=()=>eb().__FIREBASE_DEFAULTS__,ib=()=>{if(typeof process>"u"||typeof R_>"u")return;const r=R_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},rb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&tb(r[1]);return t&&JSON.parse(t)},ym=()=>{try{return $A()||nb()||ib()||rb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},sb=r=>{var t,i;return(i=(t=ym())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[r]},ab=r=>{const t=sb(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},g0=()=>{var r;return(r=ym())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Nc(JSON.stringify(i)),Nc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cb(){var r;const t=(r=ym())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hb(){return!cb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fb(){try{return typeof indexedDB=="object"}catch{return!1}}function db(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;t(((h=o.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb="FirebaseError";class Ga extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=mb,Object.setPrototypeOf(this,Ga.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,p0.prototype.create)}}class p0{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,h=this.errors[t],d=h?gb(h,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Ga(o,g,a)}}function gb(r,t){return r.replace(pb,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const pb=/\{\$([^}]+)}/g;function Oc(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const h=r[o],d=t[o];if(C_(h)&&C_(d)){if(!Oc(h,d))return!1}else if(h!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function C_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(r){return r&&r._delegate?r._delegate:r}class bo{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new lb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(h){if(o)return null;throw h}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(vb(t))try{this.getOrInitializeService({instanceIdentifier:Ss})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});a.resolve(h)}catch{}}}}clearInstance(t=Ss){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ss){return this.instances.has(t)}getOptions(t=Ss){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);a===g&&d.resolve(o)}return o}onInit(t,i){var a;const o=this.normalizeInstanceIdentifier(i),h=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;h.add(t),this.onInitCallbacks.set(o,h);const d=this.instances.get(o);return d&&t(d,o),()=>{h.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:_b(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Ss){return this.component?this.component.multipleInstances?t:Ss:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _b(r){return r===Ss?void 0:r}function vb(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new yb(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(kt||(kt={}));const Tb={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},Ab=kt.INFO,bb={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},Sb=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),o=bb[t];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class y0{constructor(t){this.name=t,this._logLevel=Ab,this._logHandler=Sb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Tb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const wb=(r,t)=>t.some(i=>r instanceof i);let D_,V_;function Rb(){return D_||(D_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Cb(){return V_||(V_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _0=new WeakMap,jd=new WeakMap,v0=new WeakMap,Sd=new WeakMap,_m=new WeakMap;function Db(r){const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(Ur(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",h),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&_0.set(i,r)}).catch(()=>{}),_m.set(t,r),t}function Vb(r){if(jd.has(r))return;const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});jd.set(r,t)}let kd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return jd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||v0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ur(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function xb(r){kd=r(kd)}function Ib(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(wd(this),t,...i);return v0.set(a,t.sort?t.sort():[t]),Ur(a)}:Cb().includes(r)?function(...t){return r.apply(wd(this),t),Ur(_0.get(this))}:function(...t){return Ur(r.apply(wd(this),t))}}function Nb(r){return typeof r=="function"?Ib(r):(r instanceof IDBTransaction&&Vb(r),wb(r,Rb())?new Proxy(r,kd):r)}function Ur(r){if(r instanceof IDBRequest)return Db(r);if(Sd.has(r))return Sd.get(r);const t=Nb(r);return t!==r&&(Sd.set(r,t),_m.set(t,r)),t}const wd=r=>_m.get(r);function Ob(r,t,{blocked:i,upgrade:a,blocking:o,terminated:h}={}){const d=indexedDB.open(r,t),g=Ur(d);return a&&d.addEventListener("upgradeneeded",y=>{a(Ur(d.result),y.oldVersion,y.newVersion,Ur(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{h&&y.addEventListener("close",()=>h()),o&&y.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const Mb=["get","getKey","getAll","getAllKeys","count"],Ub=["put","add","delete","clear"],Rd=new Map;function x_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Rd.get(t))return Rd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=Ub.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||Mb.includes(i)))return;const h=async function(d,...g){const y=this.transaction(d,o?"readwrite":"readonly");let p=y.store;return a&&(p=p.index(g.shift())),(await Promise.all([p[i](...g),o&&y.done]))[0]};return Rd.set(t,h),h}xb(r=>({...r,get:(t,i,a)=>x_(t,i)||r.get(t,i,a),has:(t,i)=>!!x_(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Pb(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function Pb(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Bd="@firebase/app",I_="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new y0("@firebase/app"),Lb="@firebase/app-compat",jb="@firebase/analytics-compat",kb="@firebase/analytics",Bb="@firebase/app-check-compat",qb="@firebase/app-check",Hb="@firebase/auth",Fb="@firebase/auth-compat",Gb="@firebase/database",Qb="@firebase/data-connect",Yb="@firebase/database-compat",Kb="@firebase/functions",Xb="@firebase/functions-compat",$b="@firebase/installations",Zb="@firebase/installations-compat",Jb="@firebase/messaging",Wb="@firebase/messaging-compat",tS="@firebase/performance",eS="@firebase/performance-compat",nS="@firebase/remote-config",iS="@firebase/remote-config-compat",rS="@firebase/storage",sS="@firebase/storage-compat",aS="@firebase/firestore",lS="@firebase/vertexai",oS="@firebase/firestore-compat",uS="firebase",cS="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd="[DEFAULT]",hS={[Bd]:"fire-core",[Lb]:"fire-core-compat",[kb]:"fire-analytics",[jb]:"fire-analytics-compat",[qb]:"fire-app-check",[Bb]:"fire-app-check-compat",[Hb]:"fire-auth",[Fb]:"fire-auth-compat",[Gb]:"fire-rtdb",[Qb]:"fire-data-connect",[Yb]:"fire-rtdb-compat",[Kb]:"fire-fn",[Xb]:"fire-fn-compat",[$b]:"fire-iid",[Zb]:"fire-iid-compat",[Jb]:"fire-fcm",[Wb]:"fire-fcm-compat",[tS]:"fire-perf",[eS]:"fire-perf-compat",[nS]:"fire-rc",[iS]:"fire-rc-compat",[rS]:"fire-gcs",[sS]:"fire-gcs-compat",[aS]:"fire-fst",[oS]:"fire-fst-compat",[lS]:"fire-vertex","fire-js":"fire-js",[uS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=new Map,fS=new Map,Hd=new Map;function N_(r,t){try{r.container.addComponent(t)}catch(i){Gi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Uc(r){const t=r.name;if(Hd.has(t))return Gi.debug(`There were multiple attempts to register component ${t}.`),!1;Hd.set(t,r);for(const i of Mc.values())N_(i,r);for(const i of fS.values())N_(i,r);return!0}function dS(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function mS(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zr=new p0("app","Firebase",gS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(t,i,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new bo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS=cS;function E0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a=Object.assign({name:qd,automaticDataCollectionEnabled:!1},t),o=a.name;if(typeof o!="string"||!o)throw zr.create("bad-app-name",{appName:String(o)});if(i||(i=g0()),!i)throw zr.create("no-options");const h=Mc.get(o);if(h){if(Oc(i,h.options)&&Oc(a,h.config))return h;throw zr.create("duplicate-app",{appName:o})}const d=new Eb(o);for(const y of Hd.values())d.addComponent(y);const g=new pS(i,a,d);return Mc.set(o,g),g}function _S(r=qd){const t=Mc.get(r);if(!t&&r===qd&&g0())return E0();if(!t)throw zr.create("no-app",{appName:r});return t}function Oa(r,t,i){var a;let o=(a=hS[r])!==null&&a!==void 0?a:r;i&&(o+=`-${i}`);const h=o.match(/\s|\//),d=t.match(/\s|\//);if(h||d){const g=[`Unable to register library "${o}" with version "${t}":`];h&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Gi.warn(g.join(" "));return}Uc(new bo(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="firebase-heartbeat-database",ES=1,So="firebase-heartbeat-store";let Cd=null;function T0(){return Cd||(Cd=Ob(vS,ES,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(So)}catch(i){console.warn(i)}}}}).catch(r=>{throw zr.create("idb-open",{originalErrorMessage:r.message})})),Cd}async function TS(r){try{const i=(await T0()).transaction(So),a=await i.objectStore(So).get(A0(r));return await i.done,a}catch(t){if(t instanceof Ga)Gi.warn(t.message);else{const i=zr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Gi.warn(i.message)}}}async function O_(r,t){try{const a=(await T0()).transaction(So,"readwrite");await a.objectStore(So).put(t,A0(r)),await a.done}catch(i){if(i instanceof Ga)Gi.warn(i.message);else{const a=zr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Gi.warn(a.message)}}}function A0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=1024,bS=30;class SS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new RS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=M_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>bS){const d=CS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Gi.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=M_(),{heartbeatsToSend:a,unsentEntries:o}=wS(this._heartbeatsCache.heartbeats),h=Nc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Gi.warn(i),""}}}function M_(){return new Date().toISOString().substring(0,10)}function wS(r,t=AS){const i=[];let a=r.slice();for(const o of r){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),U_(i)>t){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),U_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class RS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fb()?db().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await TS(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return O_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return O_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function U_(r){return Nc(JSON.stringify({version:2,heartbeats:r})).length}function CS(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(r){Uc(new bo("platform-logger",t=>new zb(t),"PRIVATE")),Uc(new bo("heartbeat",t=>new SS(t),"PRIVATE")),Oa(Bd,I_,r),Oa(Bd,I_,"esm2017"),Oa("fire-js","")}DS("");var VS="firebase",xS="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oa(VS,xS,"app");var z_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pr,b0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(x,w){function b(){}b.prototype=w.prototype,x.D=w.prototype,x.prototype=new b,x.prototype.constructor=x,x.C=function(D,I,U){for(var C=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)C[ce-2]=arguments[ce];return w.prototype[I].apply(D,C)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,w,b){b||(b=0);var D=Array(16);if(typeof w=="string")for(var I=0;16>I;++I)D[I]=w.charCodeAt(b++)|w.charCodeAt(b++)<<8|w.charCodeAt(b++)<<16|w.charCodeAt(b++)<<24;else for(I=0;16>I;++I)D[I]=w[b++]|w[b++]<<8|w[b++]<<16|w[b++]<<24;w=x.g[0],b=x.g[1],I=x.g[2];var U=x.g[3],C=w+(U^b&(I^U))+D[0]+3614090360&4294967295;w=b+(C<<7&4294967295|C>>>25),C=U+(I^w&(b^I))+D[1]+3905402710&4294967295,U=w+(C<<12&4294967295|C>>>20),C=I+(b^U&(w^b))+D[2]+606105819&4294967295,I=U+(C<<17&4294967295|C>>>15),C=b+(w^I&(U^w))+D[3]+3250441966&4294967295,b=I+(C<<22&4294967295|C>>>10),C=w+(U^b&(I^U))+D[4]+4118548399&4294967295,w=b+(C<<7&4294967295|C>>>25),C=U+(I^w&(b^I))+D[5]+1200080426&4294967295,U=w+(C<<12&4294967295|C>>>20),C=I+(b^U&(w^b))+D[6]+2821735955&4294967295,I=U+(C<<17&4294967295|C>>>15),C=b+(w^I&(U^w))+D[7]+4249261313&4294967295,b=I+(C<<22&4294967295|C>>>10),C=w+(U^b&(I^U))+D[8]+1770035416&4294967295,w=b+(C<<7&4294967295|C>>>25),C=U+(I^w&(b^I))+D[9]+2336552879&4294967295,U=w+(C<<12&4294967295|C>>>20),C=I+(b^U&(w^b))+D[10]+4294925233&4294967295,I=U+(C<<17&4294967295|C>>>15),C=b+(w^I&(U^w))+D[11]+2304563134&4294967295,b=I+(C<<22&4294967295|C>>>10),C=w+(U^b&(I^U))+D[12]+1804603682&4294967295,w=b+(C<<7&4294967295|C>>>25),C=U+(I^w&(b^I))+D[13]+4254626195&4294967295,U=w+(C<<12&4294967295|C>>>20),C=I+(b^U&(w^b))+D[14]+2792965006&4294967295,I=U+(C<<17&4294967295|C>>>15),C=b+(w^I&(U^w))+D[15]+1236535329&4294967295,b=I+(C<<22&4294967295|C>>>10),C=w+(I^U&(b^I))+D[1]+4129170786&4294967295,w=b+(C<<5&4294967295|C>>>27),C=U+(b^I&(w^b))+D[6]+3225465664&4294967295,U=w+(C<<9&4294967295|C>>>23),C=I+(w^b&(U^w))+D[11]+643717713&4294967295,I=U+(C<<14&4294967295|C>>>18),C=b+(U^w&(I^U))+D[0]+3921069994&4294967295,b=I+(C<<20&4294967295|C>>>12),C=w+(I^U&(b^I))+D[5]+3593408605&4294967295,w=b+(C<<5&4294967295|C>>>27),C=U+(b^I&(w^b))+D[10]+38016083&4294967295,U=w+(C<<9&4294967295|C>>>23),C=I+(w^b&(U^w))+D[15]+3634488961&4294967295,I=U+(C<<14&4294967295|C>>>18),C=b+(U^w&(I^U))+D[4]+3889429448&4294967295,b=I+(C<<20&4294967295|C>>>12),C=w+(I^U&(b^I))+D[9]+568446438&4294967295,w=b+(C<<5&4294967295|C>>>27),C=U+(b^I&(w^b))+D[14]+3275163606&4294967295,U=w+(C<<9&4294967295|C>>>23),C=I+(w^b&(U^w))+D[3]+4107603335&4294967295,I=U+(C<<14&4294967295|C>>>18),C=b+(U^w&(I^U))+D[8]+1163531501&4294967295,b=I+(C<<20&4294967295|C>>>12),C=w+(I^U&(b^I))+D[13]+2850285829&4294967295,w=b+(C<<5&4294967295|C>>>27),C=U+(b^I&(w^b))+D[2]+4243563512&4294967295,U=w+(C<<9&4294967295|C>>>23),C=I+(w^b&(U^w))+D[7]+1735328473&4294967295,I=U+(C<<14&4294967295|C>>>18),C=b+(U^w&(I^U))+D[12]+2368359562&4294967295,b=I+(C<<20&4294967295|C>>>12),C=w+(b^I^U)+D[5]+4294588738&4294967295,w=b+(C<<4&4294967295|C>>>28),C=U+(w^b^I)+D[8]+2272392833&4294967295,U=w+(C<<11&4294967295|C>>>21),C=I+(U^w^b)+D[11]+1839030562&4294967295,I=U+(C<<16&4294967295|C>>>16),C=b+(I^U^w)+D[14]+4259657740&4294967295,b=I+(C<<23&4294967295|C>>>9),C=w+(b^I^U)+D[1]+2763975236&4294967295,w=b+(C<<4&4294967295|C>>>28),C=U+(w^b^I)+D[4]+1272893353&4294967295,U=w+(C<<11&4294967295|C>>>21),C=I+(U^w^b)+D[7]+4139469664&4294967295,I=U+(C<<16&4294967295|C>>>16),C=b+(I^U^w)+D[10]+3200236656&4294967295,b=I+(C<<23&4294967295|C>>>9),C=w+(b^I^U)+D[13]+681279174&4294967295,w=b+(C<<4&4294967295|C>>>28),C=U+(w^b^I)+D[0]+3936430074&4294967295,U=w+(C<<11&4294967295|C>>>21),C=I+(U^w^b)+D[3]+3572445317&4294967295,I=U+(C<<16&4294967295|C>>>16),C=b+(I^U^w)+D[6]+76029189&4294967295,b=I+(C<<23&4294967295|C>>>9),C=w+(b^I^U)+D[9]+3654602809&4294967295,w=b+(C<<4&4294967295|C>>>28),C=U+(w^b^I)+D[12]+3873151461&4294967295,U=w+(C<<11&4294967295|C>>>21),C=I+(U^w^b)+D[15]+530742520&4294967295,I=U+(C<<16&4294967295|C>>>16),C=b+(I^U^w)+D[2]+3299628645&4294967295,b=I+(C<<23&4294967295|C>>>9),C=w+(I^(b|~U))+D[0]+4096336452&4294967295,w=b+(C<<6&4294967295|C>>>26),C=U+(b^(w|~I))+D[7]+1126891415&4294967295,U=w+(C<<10&4294967295|C>>>22),C=I+(w^(U|~b))+D[14]+2878612391&4294967295,I=U+(C<<15&4294967295|C>>>17),C=b+(U^(I|~w))+D[5]+4237533241&4294967295,b=I+(C<<21&4294967295|C>>>11),C=w+(I^(b|~U))+D[12]+1700485571&4294967295,w=b+(C<<6&4294967295|C>>>26),C=U+(b^(w|~I))+D[3]+2399980690&4294967295,U=w+(C<<10&4294967295|C>>>22),C=I+(w^(U|~b))+D[10]+4293915773&4294967295,I=U+(C<<15&4294967295|C>>>17),C=b+(U^(I|~w))+D[1]+2240044497&4294967295,b=I+(C<<21&4294967295|C>>>11),C=w+(I^(b|~U))+D[8]+1873313359&4294967295,w=b+(C<<6&4294967295|C>>>26),C=U+(b^(w|~I))+D[15]+4264355552&4294967295,U=w+(C<<10&4294967295|C>>>22),C=I+(w^(U|~b))+D[6]+2734768916&4294967295,I=U+(C<<15&4294967295|C>>>17),C=b+(U^(I|~w))+D[13]+1309151649&4294967295,b=I+(C<<21&4294967295|C>>>11),C=w+(I^(b|~U))+D[4]+4149444226&4294967295,w=b+(C<<6&4294967295|C>>>26),C=U+(b^(w|~I))+D[11]+3174756917&4294967295,U=w+(C<<10&4294967295|C>>>22),C=I+(w^(U|~b))+D[2]+718787259&4294967295,I=U+(C<<15&4294967295|C>>>17),C=b+(U^(I|~w))+D[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(I+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+I&4294967295,x.g[3]=x.g[3]+U&4294967295}a.prototype.u=function(x,w){w===void 0&&(w=x.length);for(var b=w-this.blockSize,D=this.B,I=this.h,U=0;U<w;){if(I==0)for(;U<=b;)o(this,x,U),U+=this.blockSize;if(typeof x=="string"){for(;U<w;)if(D[I++]=x.charCodeAt(U++),I==this.blockSize){o(this,D),I=0;break}}else for(;U<w;)if(D[I++]=x[U++],I==this.blockSize){o(this,D),I=0;break}}this.h=I,this.o+=w},a.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;var b=8*this.o;for(w=x.length-8;w<x.length;++w)x[w]=b&255,b/=256;for(this.u(x),x=Array(16),w=b=0;4>w;++w)for(var D=0;32>D;D+=8)x[b++]=this.g[w]>>>D&255;return x};function h(x,w){var b=g;return Object.prototype.hasOwnProperty.call(b,x)?b[x]:b[x]=w(x)}function d(x,w){this.h=w;for(var b=[],D=!0,I=x.length-1;0<=I;I--){var U=x[I]|0;D&&U==w||(b[I]=U,D=!1)}this.g=b}var g={};function y(x){return-128<=x&&128>x?h(x,function(w){return new d([w|0],0>w?-1:0)}):new d([x|0],0>x?-1:0)}function p(x){if(isNaN(x)||!isFinite(x))return R;if(0>x)return F(p(-x));for(var w=[],b=1,D=0;x>=b;D++)w[D]=x/b|0,b*=4294967296;return new d(w,0)}function A(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return F(A(x.substring(1),w));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=p(Math.pow(w,8)),D=R,I=0;I<x.length;I+=8){var U=Math.min(8,x.length-I),C=parseInt(x.substring(I,I+U),w);8>U?(U=p(Math.pow(w,U)),D=D.j(U).add(p(C))):(D=D.j(b),D=D.add(p(C)))}return D}var R=y(0),N=y(1),L=y(16777216);r=d.prototype,r.m=function(){if(Y(this))return-F(this).m();for(var x=0,w=1,b=0;b<this.g.length;b++){var D=this.i(b);x+=(0<=D?D:4294967296+D)*w,w*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(H(this))return"0";if(Y(this))return"-"+F(this).toString(x);for(var w=p(Math.pow(x,6)),b=this,D="";;){var I=dt(b,w).g;b=W(b,I.j(w));var U=((0<b.g.length?b.g[0]:b.h)>>>0).toString(x);if(b=I,H(b))return U+D;for(;6>U.length;)U="0"+U;D=U+D}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function H(x){if(x.h!=0)return!1;for(var w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function Y(x){return x.h==-1}r.l=function(x){return x=W(this,x),Y(x)?-1:H(x)?0:1};function F(x){for(var w=x.g.length,b=[],D=0;D<w;D++)b[D]=~x.g[D];return new d(b,~x.h).add(N)}r.abs=function(){return Y(this)?F(this):this},r.add=function(x){for(var w=Math.max(this.g.length,x.g.length),b=[],D=0,I=0;I<=w;I++){var U=D+(this.i(I)&65535)+(x.i(I)&65535),C=(U>>>16)+(this.i(I)>>>16)+(x.i(I)>>>16);D=C>>>16,U&=65535,C&=65535,b[I]=C<<16|U}return new d(b,b[b.length-1]&-2147483648?-1:0)};function W(x,w){return x.add(F(w))}r.j=function(x){if(H(this)||H(x))return R;if(Y(this))return Y(x)?F(this).j(F(x)):F(F(this).j(x));if(Y(x))return F(this.j(F(x)));if(0>this.l(L)&&0>x.l(L))return p(this.m()*x.m());for(var w=this.g.length+x.g.length,b=[],D=0;D<2*w;D++)b[D]=0;for(D=0;D<this.g.length;D++)for(var I=0;I<x.g.length;I++){var U=this.i(D)>>>16,C=this.i(D)&65535,ce=x.i(I)>>>16,me=x.i(I)&65535;b[2*D+2*I]+=C*me,rt(b,2*D+2*I),b[2*D+2*I+1]+=U*me,rt(b,2*D+2*I+1),b[2*D+2*I+1]+=C*ce,rt(b,2*D+2*I+1),b[2*D+2*I+2]+=U*ce,rt(b,2*D+2*I+2)}for(D=0;D<w;D++)b[D]=b[2*D+1]<<16|b[2*D];for(D=w;D<2*w;D++)b[D]=0;return new d(b,0)};function rt(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function nt(x,w){this.g=x,this.h=w}function dt(x,w){if(H(w))throw Error("division by zero");if(H(x))return new nt(R,R);if(Y(x))return w=dt(F(x),w),new nt(F(w.g),F(w.h));if(Y(w))return w=dt(x,F(w)),new nt(F(w.g),w.h);if(30<x.g.length){if(Y(x)||Y(w))throw Error("slowDivide_ only works with positive integers.");for(var b=N,D=w;0>=D.l(x);)b=tt(b),D=tt(D);var I=_t(b,1),U=_t(D,1);for(D=_t(D,2),b=_t(b,2);!H(D);){var C=U.add(D);0>=C.l(x)&&(I=I.add(b),U=C),D=_t(D,1),b=_t(b,1)}return w=W(x,I.j(w)),new nt(I,w)}for(I=R;0<=x.l(w);){for(b=Math.max(1,Math.floor(x.m()/w.m())),D=Math.ceil(Math.log(b)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),U=p(b),C=U.j(w);Y(C)||0<C.l(x);)b-=D,U=p(b),C=U.j(w);H(U)&&(U=N),I=I.add(U),x=W(x,C)}return new nt(I,x)}r.A=function(x){return dt(this,x).h},r.and=function(x){for(var w=Math.max(this.g.length,x.g.length),b=[],D=0;D<w;D++)b[D]=this.i(D)&x.i(D);return new d(b,this.h&x.h)},r.or=function(x){for(var w=Math.max(this.g.length,x.g.length),b=[],D=0;D<w;D++)b[D]=this.i(D)|x.i(D);return new d(b,this.h|x.h)},r.xor=function(x){for(var w=Math.max(this.g.length,x.g.length),b=[],D=0;D<w;D++)b[D]=this.i(D)^x.i(D);return new d(b,this.h^x.h)};function tt(x){for(var w=x.g.length+1,b=[],D=0;D<w;D++)b[D]=x.i(D)<<1|x.i(D-1)>>>31;return new d(b,x.h)}function _t(x,w){var b=w>>5;w%=32;for(var D=x.g.length-b,I=[],U=0;U<D;U++)I[U]=0<w?x.i(U+b)>>>w|x.i(U+b+1)<<32-w:x.i(U+b);return new d(I,x.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,b0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=A,Pr=d}).apply(typeof z_<"u"?z_:typeof self<"u"?self:typeof window<"u"?window:{});var pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var S0,oo,w0,Ac,Fd,R0,C0,D0;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof pc=="object"&&pc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var _=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in _))break t;_=_[P]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var _=0,T=!1,P={next:function(){if(!T&&_<u.length){var B=_++;return{value:m(B,u[B]),done:!1}}return T=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function y(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,_){return u.call.apply(u.bind,arguments)}function R(u,m,_){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,T),u.apply(m,P)}}return function(){return u.apply(m,arguments)}}function N(u,m,_){return N=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:R,N.apply(null,arguments)}function L(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function H(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(T,P,B){for(var it=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)it[zt-2]=arguments[zt];return m.prototype[P].apply(T,it)}}function Y(u){const m=u.length;if(0<m){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function F(u,m){for(let _=1;_<arguments.length;_++){const T=arguments[_];if(y(T)){const P=u.length||0,B=T.length||0;u.length=P+B;for(let it=0;it<B;it++)u[P+it]=T[it]}else u.push(T)}}class W{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function rt(u){return/^[\s\xa0]*$/.test(u)}function nt(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function dt(u){return dt[" "](u),u}dt[" "]=function(){};var tt=nt().indexOf("Gecko")!=-1&&!(nt().toLowerCase().indexOf("webkit")!=-1&&nt().indexOf("Edge")==-1)&&!(nt().indexOf("Trident")!=-1||nt().indexOf("MSIE")!=-1)&&nt().indexOf("Edge")==-1;function _t(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function x(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function w(u){const m={};for(const _ in u)m[_]=u[_];return m}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,m){let _,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(_ in T)u[_]=T[_];for(let B=0;B<b.length;B++)_=b[B],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function I(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function U(u){g.setTimeout(()=>{throw u},0)}function C(){var u=Gt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ce{constructor(){this.h=this.g=null}add(m,_){const T=me.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var me=new W(()=>new st,u=>u.reset());class st{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let vt,gt=!1,Gt=new ce,V=()=>{const u=g.Promise.resolve(void 0);vt=()=>{u.then(J)}};var J=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(_){U(_)}var m=me;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}gt=!1};function ft(){this.s=this.s,this.C=this.C}ft.prototype.s=!1,ft.prototype.ma=function(){this.s||(this.s=!0,this.N())},ft.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var lt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return u}();function Dt(u,m){if(at.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(tt){t:{try{dt(m.nodeName);var P=!0;break t}catch{}P=!1}P||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Rt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Dt.aa.h.call(this)}}H(Dt,at);var Rt={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),Bt=0;function se(u,m,_,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=P,this.key=++Bt,this.da=this.fa=!1}function Kt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function $e(u){this.src=u,this.g={},this.h=0}$e.prototype.add=function(u,m,_,T,P){var B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);var it=yn(u,m,T,P);return-1<it?(m=u[it],_||(m.fa=!1)):(m=new se(m,this.src,B,!!T,P),m.fa=_,u.push(m)),m};function pi(u,m){var _=m.type;if(_ in u.g){var T=u.g[_],P=Array.prototype.indexOf.call(T,m,void 0),B;(B=0<=P)&&Array.prototype.splice.call(T,P,1),B&&(Kt(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function yn(u,m,_,T){for(var P=0;P<u.length;++P){var B=u[P];if(!B.da&&B.listener==m&&B.capture==!!_&&B.ha==T)return P}return-1}var Ki="closure_lm_"+(1e6*Math.random()|0),Xi={};function yi(u,m,_,T,P){if(Array.isArray(m)){for(var B=0;B<m.length;B++)yi(u,m[B],_,T,P);return null}return _=Ko(_),u&&u[ge]?u.K(m,_,p(T)?!!T.capture:!1,P):Ja(u,m,_,!1,T,P)}function Ja(u,m,_,T,P,B){if(!m)throw Error("Invalid event type");var it=p(P)?!!P.capture:!!P,zt=Wa(u);if(zt||(u[Ki]=zt=new $e(u)),_=zt.add(m,_,T,it,B),_.proxy)return _;if(T=Ls(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)lt||(P=it),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(ks(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ls(){function u(_){return m.call(u.src,u.listener,_)}const m=vh;return u}function js(u,m,_,T,P){if(Array.isArray(m))for(var B=0;B<m.length;B++)js(u,m[B],_,T,P);else T=p(T)?!!T.capture:!!T,_=Ko(_),u&&u[ge]?(u=u.i,m=String(m).toString(),m in u.g&&(B=u.g[m],_=yn(B,_,T,P),-1<_&&(Kt(B[_]),Array.prototype.splice.call(B,_,1),B.length==0&&(delete u.g[m],u.h--)))):u&&(u=Wa(u))&&(m=u.g[m.toString()],u=-1,m&&(u=yn(m,_,T,P)),(_=-1<u?m[u]:null)&&Qr(_))}function Qr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ge])pi(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(ks(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=Wa(m))?(pi(_,u),_.h==0&&(_.src=null,m[Ki]=null)):Kt(u)}}}function ks(u){return u in Xi?Xi[u]:Xi[u]="on"+u}function vh(u,m){if(u.da)u=!0;else{m=new Dt(m,this);var _=u.listener,T=u.ha||u.src;u.fa&&Qr(u),u=_.call(T,m)}return u}function Wa(u){return u=u[Ki],u instanceof $e?u:null}var nn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ko(u){return typeof u=="function"?u:(u[nn]||(u[nn]=function(m){return u.handleEvent(m)}),u[nn])}function Ae(){ft.call(this),this.i=new $e(this),this.M=this,this.F=null}H(Ae,ft),Ae.prototype[ge]=!0,Ae.prototype.removeEventListener=function(u,m,_,T){js(this,u,m,_,T)};function Ve(u,m){var _,T=u.F;if(T)for(_=[];T;T=T.F)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new at(m,u);else if(m instanceof at)m.target=m.target||u;else{var P=m;m=new at(T,u),D(m,P)}if(P=!0,_)for(var B=_.length-1;0<=B;B--){var it=m.g=_[B];P=_i(it,T,!0,m)&&P}if(it=m.g=u,P=_i(it,T,!0,m)&&P,P=_i(it,T,!1,m)&&P,_)for(B=0;B<_.length;B++)it=m.g=_[B],P=_i(it,T,!1,m)&&P}Ae.prototype.N=function(){if(Ae.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],T=0;T<_.length;T++)Kt(_[T]);delete u.g[m],u.h--}}this.F=null},Ae.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},Ae.prototype.L=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function _i(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var P=!0,B=0;B<m.length;++B){var it=m[B];if(it&&!it.da&&it.capture==_){var zt=it.listener,Se=it.ha||it.src;it.fa&&pi(u.i,it),P=zt.call(Se,T)!==!1&&P}}return P&&!T.defaultPrevented}function Xo(u,m,_){if(typeof u=="function")_&&(u=N(u,_));else if(u&&typeof u.handleEvent=="function")u=N(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function tl(u){u.g=Xo(()=>{u.g=null,u.i&&(u.i=!1,tl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Eh extends ft{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:tl(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yr(u){ft.call(this),this.h=u,this.g={}}H(Yr,ft);var $i=[];function Fe(u){_t(u.g,function(m,_){this.g.hasOwnProperty(_)&&Qr(m)},u),u.g={}}Yr.prototype.N=function(){Yr.aa.N.call(this),Fe(this)},Yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var el=g.JSON.stringify,Kn=g.JSON.parse,Ze=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function nl(){}nl.prototype.h=null;function $o(u){return u.h||(u.h=u.i())}function Zo(){}var Xn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zi(){at.call(this,"d")}H(Zi,at);function Pn(){at.call(this,"c")}H(Pn,at);var _n={},Ji=null;function Bs(){return Ji=Ji||new Ae}_n.La="serverreachability";function il(u){at.call(this,_n.La,u)}H(il,at);function Wi(u){const m=Bs();Ve(m,new il(m))}_n.STAT_EVENT="statevent";function qs(u,m){at.call(this,_n.STAT_EVENT,u),this.stat=m}H(qs,at);function he(u){const m=Bs();Ve(m,new qs(m,u))}_n.Ma="timingevent";function Jo(u,m){at.call(this,_n.Ma,u),this.size=m}H(Jo,at);function tr(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function er(){this.g=!0}er.prototype.xa=function(){this.g=!1};function Wo(u,m,_,T,P,B){u.info(function(){if(u.g)if(B)for(var it="",zt=B.split("&"),Se=0;Se<zt.length;Se++){var Pt=zt[Se].split("=");if(1<Pt.length){var Ne=Pt[0];Pt=Pt[1];var we=Ne.split("_");it=2<=we.length&&we[1]=="type"?it+(Ne+"="+Pt+"&"):it+(Ne+"=redacted&")}}else it=null;else it=B;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+_+`
`+it})}function tu(u,m,_,T,P,B,it){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+_+`
`+B+" "+it})}function nr(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+xe(u,_)+(T?" "+T:"")})}function $n(u,m){u.info(function(){return"TIMEOUT: "+m})}er.prototype.info=function(){};function xe(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var T=_[u];if(!(2>T.length)){var P=T[1];if(Array.isArray(P)&&!(1>P.length)){var B=P[0];if(B!="noop"&&B!="stop"&&B!="close")for(var it=1;it<P.length;it++)P[it]=""}}}}return el(_)}catch{return m}}var be={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kr;function Hs(){}H(Hs,nl),Hs.prototype.g=function(){return new XMLHttpRequest},Hs.prototype.i=function(){return{}},Kr=new Hs;function Zn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.R=T||1,this.U=new Yr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new rl}function rl(){this.i=null,this.g="",this.h=!1}var ir={},Xr={};function Ln(u,m,_){u.L=1,u.v=Jr(ae(m)),u.m=_,u.P=!0,Ei(u,null)}function Ei(u,m){u.F=Date.now(),ee(u),u.A=ae(u.v);var _=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),bi(_.i,"t",T),u.C=0,_=u.j.J,u.h=new rl,u.g=mu(u.j,_?m:null,!u.m),0<u.O&&(u.M=new Eh(N(u.Y,u,u.g),u.O)),m=u.U,_=u.g,T=u.ca;var P="readystatechange";Array.isArray(P)||(P&&($i[0]=P.toString()),P=$i);for(var B=0;B<P.length;B++){var it=yi(_,P[B],T||m.handleEvent,!1,m.h||m);if(!it)break;m.g[it.key]=it}m=u.H?w(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Wi(),Wo(u.i,u.u,u.A,u.l,u.R,u.m)}Zn.prototype.ca=function(u){u=u.target;const m=this.M;m&&bn(u)==3?m.j():this.Y(u)},Zn.prototype.Y=function(u){try{if(u==this.g)t:{const we=bn(this.g);var m=this.g.Ba();const Ci=this.g.Z();if(!(3>we)&&(we!=3||this.g&&(this.h.h||this.g.oa()||au(this.g)))){this.J||we!=4||m==7||(m==8||0>=Ci?Wi(3):Wi(2)),Fs(this);var _=this.g.Z();this.X=_;e:if(rr(this)){var T=au(this.g);u="";var P=T.length,B=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rn(this),on(this);var it="";break e}this.h.i=new g.TextDecoder}for(m=0;m<P;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(B&&m==P-1)});T.length=0,this.h.g+=u,this.C=0,it=this.h.g}else it=this.g.oa();if(this.o=_==200,tu(this.i,this.u,this.A,this.l,this.R,we,_),this.o){if(this.T&&!this.K){e:{if(this.g){var zt,Se=this.g;if((zt=Se.g?Se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rt(zt)){var Pt=zt;break e}}Pt=null}if(_=Pt)nr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,un(this,_);else{this.o=!1,this.s=3,he(12),rn(this),on(this);break t}}if(this.P){_=!0;let Pe;for(;!this.J&&this.C<it.length;)if(Pe=sr(this,it),Pe==Xr){we==4&&(this.s=4,he(14),_=!1),nr(this.i,this.l,null,"[Incomplete Response]");break}else if(Pe==ir){this.s=4,he(15),nr(this.i,this.l,it,"[Invalid Chunk]"),_=!1;break}else nr(this.i,this.l,Pe,null),un(this,Pe);if(rr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||it.length!=0||this.h.h||(this.s=1,he(16),_=!1),this.o=this.o&&_,!_)nr(this.i,this.l,it,"[Invalid Chunked Response]"),rn(this),on(this);else if(0<it.length&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.ba&&!Ne.M&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+it.length),ss(Ne),Ne.M=!0,he(11))}}else nr(this.i,this.l,it,null),un(this,it);we==4&&rn(this),this.o&&!this.J&&(we==4?hu(this.j,this):(this.o=!1,ee(this)))}else Rh(this.g),_==400&&0<it.indexOf("Unknown SID")?(this.s=3,he(12)):(this.s=0,he(13)),rn(this),on(this)}}}catch{}finally{}};function rr(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function sr(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?Xr:(_=Number(m.substring(_,T)),isNaN(_)?ir:(T+=1,T+_>m.length?Xr:(m=m.slice(T,T+_),u.C=T+_,m)))}Zn.prototype.cancel=function(){this.J=!0,rn(this)};function ee(u){u.S=Date.now()+u.I,sl(u,u.I)}function sl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=tr(N(u.ba,u),m)}function Fs(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Zn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?($n(this.i,this.A),this.L!=2&&(Wi(),he(17)),rn(this),this.s=2,on(this)):sl(this,this.S-u)};function on(u){u.j.G==0||u.J||hu(u.j,u)}function rn(u){Fs(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Fe(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function un(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||ar(_.h,u))){if(!u.K&&ar(_.h,u)&&_.G==3){try{var T=_.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)ta(_),Js(_);else break t;pl(_),he(18)}}else _.za=P[1],0<_.za-_.T&&37500>P[2]&&_.F&&_.v==0&&!_.C&&(_.C=tr(N(_.Za,_),6e3));if(1>=eu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ri(_,11)}else if((u.K||_.g==u)&&ta(_),!rt(m))for(P=_.Da.g.parse(m),m=0;m<P.length;m++){let Pt=P[m];if(_.T=Pt[0],Pt=Pt[1],_.G==2)if(Pt[0]=="c"){_.K=Pt[1],_.ia=Pt[2];const Ne=Pt[3];Ne!=null&&(_.la=Ne,_.j.info("VER="+_.la));const we=Pt[4];we!=null&&(_.Aa=we,_.j.info("SVER="+_.Aa));const Ci=Pt[5];Ci!=null&&typeof Ci=="number"&&0<Ci&&(T=1.5*Ci,_.L=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Pe=u.g;if(Pe){const ri=Pe.g?Pe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ri){var B=T.h;B.g||ri.indexOf("spdy")==-1&&ri.indexOf("quic")==-1&&ri.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(lr(B,B.h),B.h=null))}if(T.D){const _l=Pe.g?Pe.g.getResponseHeader("X-HTTP-Session-Id"):null;_l&&(T.ya=_l,qt(T.I,T.D,_l))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),T=_;var it=u;if(T.qa=du(T,T.J?T.ia:null,T.W),it.K){vn(T.h,it);var zt=it,Se=T.L;Se&&(zt.I=Se),zt.B&&(Fs(zt),ee(zt)),T.g=it}else uu(T);0<_.i.length&&Ws(_)}else Pt[0]!="stop"&&Pt[0]!="close"||Ri(_,7);else _.G==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?Ri(_,7):ml(_):Pt[0]!="noop"&&_.l&&_.l.ta(Pt),_.v=0)}}Wi(4)}catch{}}var Th=class{constructor(u,m){this.g=u,this.map=m}};function al(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ll(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function eu(u){return u.h?1:u.g?u.g.size:0}function ar(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function lr(u,m){u.g?u.g.add(m):u.h=m}function vn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}al.prototype.cancel=function(){if(this.i=Je(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Je(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return Y(u.i)}function nu(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var m=[],_=u.length,T=0;T<_;T++)m.push(u[T]);return m}m=[],_=0;for(T in u)m[_++]=u[T];return m}function Ah(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const T in u)m[_++]=T;return m}}}function $r(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=Ah(u),T=nu(u),P=T.length,B=0;B<P;B++)m.call(void 0,T[B],_&&_[B],u)}var ol=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gs(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var T=u[_].indexOf("="),P=null;if(0<=T){var B=u[_].substring(0,T);P=u[_].substring(T+1)}else B=u[_];m(B,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function Ti(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ti){this.h=u.h,or(this,u.j),this.o=u.o,this.g=u.g,Zr(this,u.s),this.l=u.l;var m=u.i,_=new Jn;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Qs(this,_),this.m=u.m}else u&&(m=String(u).match(ol))?(this.h=!1,or(this,m[1]||"",!0),this.o=ur(m[2]||""),this.g=ur(m[3]||"",!0),Zr(this,m[4]),this.l=ur(m[5]||"",!0),Qs(this,m[6]||"",!0),this.m=ur(m[7]||"")):(this.h=!1,this.i=new Jn(null,this.h))}Ti.prototype.toString=function(){var u=[],m=this.j;m&&u.push(En(m,ul,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(En(m,ul,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(En(_,_.charAt(0)=="/"?cl:iu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",En(_,wh)),u.join("")};function ae(u){return new Ti(u)}function or(u,m,_){u.j=_?ur(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Zr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Qs(u,m,_){m instanceof Jn?(u.i=m,hl(u.i,u.h)):(_||(m=En(m,Sh)),u.i=new Jn(m,u.h))}function qt(u,m,_){u.i.set(m,_)}function Jr(u){return qt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ur(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function En(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,bh),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function bh(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ul=/[#\/\?@]/g,iu=/[#\?:]/g,cl=/[#\?]/g,Sh=/[#\?@]/g,wh=/#/g;function Jn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Tn(u){u.g||(u.g=new Map,u.h=0,u.i&&Gs(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=Jn.prototype,r.add=function(u,m){Tn(this),this.i=null,u=Si(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function Ys(u,m){Tn(u),m=Si(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ai(u,m){return Tn(u),m=Si(u,m),u.g.has(m)}r.forEach=function(u,m){Tn(this),this.g.forEach(function(_,T){_.forEach(function(P){u.call(m,P,T,this)},this)},this)},r.na=function(){Tn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let T=0;T<m.length;T++){const P=u[T];for(let B=0;B<P.length;B++)_.push(m[T])}return _},r.V=function(u){Tn(this);let m=[];if(typeof u=="string")Ai(this,u)&&(m=m.concat(this.g.get(Si(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},r.set=function(u,m){return Tn(this),this.i=null,u=Si(this,u),Ai(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function bi(u,m,_){Ys(u,m),0<_.length&&(u.i=null,u.g.set(Si(u,m),Y(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var T=m[_];const B=encodeURIComponent(String(T)),it=this.V(T);for(T=0;T<it.length;T++){var P=B;it[T]!==""&&(P+="="+encodeURIComponent(String(it[T]))),u.push(P)}}return this.i=u.join("&")};function Si(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function hl(u,m){m&&!u.j&&(Tn(u),u.i=null,u.g.forEach(function(_,T){var P=T.toLowerCase();T!=P&&(Ys(this,T),bi(this,P,_))},u)),u.j=m}function ru(u,m){const _=new er;if(g.Image){const T=new Image;T.onload=L(An,_,"TestLoadImage: loaded",!0,m,T),T.onerror=L(An,_,"TestLoadImage: error",!1,m,T),T.onabort=L(An,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=L(An,_,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Wr(u,m){const _=new er,T=new AbortController,P=setTimeout(()=>{T.abort(),An(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(P),B.ok?An(_,"TestPingServer: ok",!0,m):An(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),An(_,"TestPingServer: error",!1,m)})}function An(u,m,_,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(_)}catch{}}function ts(){this.g=new Ze}function Wn(u,m,_){const T=_||"";try{$r(u,function(P,B){let it=P;p(P)&&(it=el(P)),m.push(T+B+"="+encodeURIComponent(it))})}catch(P){throw m.push(T+"type="+encodeURIComponent("_badmap")),P}}function cr(u){this.l=u.Ub||null,this.j=u.eb||!1}H(cr,nl),cr.prototype.g=function(){return new wi(this.l,this.j)},cr.prototype.i=function(u){return function(){return u}}({});function wi(u,m){Ae.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}H(wi,Ae),r=wi.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,ei(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ti(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function fl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ti(this):ei(this),this.readyState==3&&fl(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,ti(this))},r.Qa=function(u){this.g&&(this.response=u,ti(this))},r.ga=function(){this.g&&ti(this)};function ti(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ei(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function ei(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(wi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function dl(u){let m="";return _t(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function Ie(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=dl(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):qt(u,m,_))}function Qt(u){Ae.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}H(Qt,Ae);var Ks=/^https?$/i,es=["POST","PUT"];r=Qt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kr.g(),this.v=this.o?$o(this.o):$o(Kr),this.g.onreadystatechange=N(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){su(this,B);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)_.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())_.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(B=>B.toLowerCase()=="content-type"),P=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(es,m,void 0))||T||P||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,it]of _)this.g.setRequestHeader(B,it);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ns(this),this.u=!0,this.g.send(u),this.u=!1}catch(B){su(this,B)}};function su(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Xs(u),ni(u)}function Xs(u){u.A||(u.A=!0,Ve(u,"complete"),Ve(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ve(this,"complete"),Ve(this,"abort"),ni(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ni(this,!0)),Qt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?$s(this):this.bb())},r.bb=function(){$s(this)};function $s(u){if(u.h&&typeof d<"u"&&(!u.v[1]||bn(u)!=4||u.Z()!=2)){if(u.u&&bn(u)==4)Xo(u.Ea,0,u);else if(Ve(u,"readystatechange"),bn(u)==4){u.h=!1;try{const it=u.Z();t:switch(it){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=it===0){var P=String(u.D).match(ol)[1]||null;!P&&g.self&&g.self.location&&(P=g.self.location.protocol.slice(0,-1)),T=!Ks.test(P?P.toLowerCase():"")}_=T}if(_)Ve(u,"complete"),Ve(u,"success");else{u.m=6;try{var B=2<bn(u)?u.g.statusText:""}catch{B=""}u.l=B+" ["+u.Z()+"]",Xs(u)}}finally{ni(u)}}}}function ni(u,m){if(u.g){ns(u);const _=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ve(u,"ready");try{_.onreadystatechange=T}catch{}}}function ns(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function bn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Kn(m)}};function au(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Rh(u){const m={};u=(u.g&&2<=bn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(rt(u[T]))continue;var _=I(u[T]);const P=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const B=m[P]||[];m[P]=B,B.push(_)}x(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function is(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Zs(u){this.Aa=0,this.i=[],this.j=new er,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=is("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=is("baseRetryDelayMs",5e3,u),this.cb=is("retryDelaySeedMs",1e4,u),this.Wa=is("forwardChannelMaxRetries",2,u),this.wa=is("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new al(u&&u.concurrentRequestLimit),this.Da=new ts,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Zs.prototype,r.la=8,r.G=1,r.connect=function(u,m,_,T){he(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.I=du(this,null,this.W),Ws(this)};function ml(u){if(lu(u),u.G==3){var m=u.U++,_=ae(u.I);if(qt(_,"SID",u.K),qt(_,"RID",m),qt(_,"TYPE","terminate"),rs(u,_),m=new Zn(u,u.j,m),m.L=2,m.v=Jr(ae(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=mu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ee(m)}fu(u)}function Js(u){u.g&&(ss(u),u.g.cancel(),u.g=null)}function lu(u){Js(u),u.u&&(g.clearTimeout(u.u),u.u=null),ta(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Ws(u){if(!ll(u.h)&&!u.s){u.s=!0;var m=u.Ga;vt||V(),gt||(vt(),gt=!0),Gt.add(m,u),u.B=0}}function Ch(u,m){return eu(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=tr(N(u.Ga,u,m),yl(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const P=new Zn(this,this.j,u);let B=this.o;if(this.S&&(B?(B=w(B),D(B,this.S)):B=this.S),this.m!==null||this.O||(P.H=B,B=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=ou(this,P,m),_=ae(this.I),qt(_,"RID",u),qt(_,"CVER",22),this.D&&qt(_,"X-HTTP-Session-Id",this.D),rs(this,_),B&&(this.O?m="headers="+encodeURIComponent(String(dl(B)))+"&"+m:this.m&&Ie(_,this.m,B)),lr(this.h,P),this.Ua&&qt(_,"TYPE","init"),this.P?(qt(_,"$req",m),qt(_,"SID","null"),P.T=!0,Ln(P,_,null)):Ln(P,_,m),this.G=2}}else this.G==3&&(u?gl(this,u):this.i.length==0||ll(this.h)||gl(this))};function gl(u,m){var _;m?_=m.l:_=u.U++;const T=ae(u.I);qt(T,"SID",u.K),qt(T,"RID",_),qt(T,"AID",u.T),rs(u,T),u.m&&u.o&&Ie(T,u.m,u.o),_=new Zn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=ou(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),lr(u.h,_),Ln(_,T,m)}function rs(u,m){u.H&&_t(u.H,function(_,T){qt(m,T,_)}),u.l&&$r({},function(_,T){qt(m,T,_)})}function ou(u,m,_){_=Math.min(u.i.length,_);var T=u.l?N(u.l.Na,u.l,u):null;t:{var P=u.i;let B=-1;for(;;){const it=["count="+_];B==-1?0<_?(B=P[0].g,it.push("ofs="+B)):B=0:it.push("ofs="+B);let zt=!0;for(let Se=0;Se<_;Se++){let Pt=P[Se].g;const Ne=P[Se].map;if(Pt-=B,0>Pt)B=Math.max(0,P[Se].g-100),zt=!1;else try{Wn(Ne,it,"req"+Pt+"_")}catch{T&&T(Ne)}}if(zt){T=it.join("&");break t}}}return u=u.i.splice(0,_),m.D=u,T}function uu(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;vt||V(),gt||(vt(),gt=!0),Gt.add(m,u),u.v=0}}function pl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=tr(N(u.Fa,u),yl(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,cu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=tr(N(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,he(10),Js(this),cu(this))};function ss(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function cu(u){u.g=new Zn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=ae(u.qa);qt(m,"RID","rpc"),qt(m,"SID",u.K),qt(m,"AID",u.T),qt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&qt(m,"TO",u.ja),qt(m,"TYPE","xmlhttp"),rs(u,m),u.m&&u.o&&Ie(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Jr(ae(m)),_.m=null,_.P=!0,Ei(_,u)}r.Za=function(){this.C!=null&&(this.C=null,Js(this),pl(this),he(19))};function ta(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function hu(u,m){var _=null;if(u.g==m){ta(u),ss(u),u.g=null;var T=2}else if(ar(u.h,m))_=m.D,vn(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var P=u.B;T=Bs(),Ve(T,new Jo(T,_)),Ws(u)}else uu(u);else if(P=m.s,P==3||P==0&&0<m.X||!(T==1&&Ch(u,m)||T==2&&pl(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),P){case 1:Ri(u,5);break;case 4:Ri(u,10);break;case 3:Ri(u,6);break;default:Ri(u,2)}}}function yl(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function Ri(u,m){if(u.j.info("Error code "+m),m==2){var _=N(u.fb,u),T=u.Xa;const P=!T;T=new Ti(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||or(T,"https"),Jr(T),P?ru(T.toString(),_):Wr(T.toString(),_)}else he(2);u.G=0,u.l&&u.l.sa(m),fu(u),lu(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),he(2)):(this.j.info("Failed to ping google.com"),he(1))};function fu(u){if(u.G=0,u.ka=[],u.l){const m=Je(u.h);(m.length!=0||u.i.length!=0)&&(F(u.ka,m),F(u.ka,u.i),u.h.i.length=0,Y(u.i),u.i.length=0),u.l.ra()}}function du(u,m,_){var T=_ instanceof Ti?ae(_):new Ti(_);if(T.g!="")m&&(T.g=m+"."+T.g),Zr(T,T.s);else{var P=g.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;var B=new Ti(null);T&&or(B,T),m&&(B.g=m),P&&Zr(B,P),_&&(B.l=_),T=B}return _=u.D,m=u.ya,_&&m&&qt(T,_,m),qt(T,"VER",u.la),rs(u,T),T}function mu(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Qt(new cr({eb:_})):new Qt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function gu(){}r=gu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ea(){}ea.prototype.g=function(u,m){return new We(u,m)};function We(u,m){Ae.call(this),this.g=new Zs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!rt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!rt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ii(this)}H(We,Ae),We.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){ml(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=el(u),u=_);m.i.push(new Th(m.Ya++,u)),m.G==3&&Ws(m)},We.prototype.N=function(){this.g.l=null,delete this.j,ml(this.g),delete this.g,We.aa.N.call(this)};function pu(u){Zi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}H(pu,Zi);function yu(){Pn.call(this),this.status=1}H(yu,Pn);function ii(u){this.g=u}H(ii,gu),ii.prototype.ua=function(){Ve(this.g,"a")},ii.prototype.ta=function(u){Ve(this.g,new pu(u))},ii.prototype.sa=function(u){Ve(this.g,new yu)},ii.prototype.ra=function(){Ve(this.g,"b")},ea.prototype.createWebChannel=ea.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,D0=function(){return new ea},C0=function(){return Bs()},R0=_n,Fd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},be.NO_ERROR=0,be.TIMEOUT=8,be.HTTP_ERROR=6,Ac=be,vi.COMPLETE="complete",w0=vi,Zo.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",Ae.prototype.listen=Ae.prototype.K,oo=Zo,Qt.prototype.listenOnce=Qt.prototype.L,Qt.prototype.getLastError=Qt.prototype.Ka,Qt.prototype.getLastErrorCode=Qt.prototype.Ba,Qt.prototype.getStatus=Qt.prototype.Z,Qt.prototype.getResponseJson=Qt.prototype.Oa,Qt.prototype.getResponseText=Qt.prototype.oa,Qt.prototype.send=Qt.prototype.ea,Qt.prototype.setWithCredentials=Qt.prototype.Ha,S0=Qt}).apply(typeof pc<"u"?pc:typeof self<"u"?self:typeof window<"u"?window:{});const P_="@firebase/firestore",L_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qa="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new y0("@firebase/firestore");function Va(){return xs.logLevel}function ot(r,...t){if(xs.logLevel<=kt.DEBUG){const i=t.map(vm);xs.debug(`Firestore (${Qa}): ${r}`,...i)}}function Qi(r,...t){if(xs.logLevel<=kt.ERROR){const i=t.map(vm);xs.error(`Firestore (${Qa}): ${r}`,...i)}}function Pa(r,...t){if(xs.logLevel<=kt.WARN){const i=t.map(vm);xs.warn(`Firestore (${Qa}): ${r}`,...i)}}function vm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(r="Unexpected state"){const t=`FIRESTORE (${Qa}) INTERNAL ASSERTION FAILED: `+r;throw Qi(t),new Error(t)}function Yt(r,t){r||Et()}function St(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends Ga{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class IS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(Ke.UNAUTHENTICATED))}shutdown(){}}class NS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class OS{constructor(t){this.t=t,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Yt(this.o===void 0);let a=this.i;const o=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let h=new Ds;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ds,t.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const y=h;t.enqueueRetryable(async()=>{await y.promise,await o(this.currentUser)})},g=y=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(y=>g(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ds)}},0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Yt(typeof a.accessToken=="string"),new V0(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string"),new Ke(t)}}class MS{constructor(t,i,a){this.l=t,this.h=i,this.P=a,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class US{constructor(t,i,a){this.l=t,this.h=i,this.P=a}getToken(){return Promise.resolve(new MS(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable(()=>i(Ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class j_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zS{constructor(t,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,mS(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,i){Yt(this.o===void 0);const a=h=>{h.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.R;return this.R=h.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable(()=>a(h))};const o=h=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?o(h):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new j_(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Yt(typeof i.token=="string"),this.R=i.token,new j_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=PS(40);for(let h=0;h<o.length;++h)a.length<20&&o[h]<i&&(a+=t.charAt(o[h]%62))}return a}}function xt(r,t){return r<t?-1:r>t?1:0}function Gd(r,t){let i=0;for(;i<r.length&&i<t.length;){const a=r.codePointAt(i),o=t.codePointAt(i);if(a!==o){if(a<128&&o<128)return xt(a,o);{const h=x0(),d=LS(h.encode(k_(r,i)),h.encode(k_(t,i)));return d!==0?d:xt(a,o)}}i+=a>65535?2:1}return xt(r.length,t.length)}function k_(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function LS(r,t){for(let i=0;i<r.length&&i<t.length;++i)if(r[i]!==t[i])return xt(r[i],t[i]);return xt(r.length,t.length)}function La(r,t,i){return r.length===t.length&&r.every((a,o)=>i(a,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=-62135596800,q_=1e6;class Te{static now(){return Te.fromMillis(Date.now())}static fromDate(t){return Te.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*q_);return new Te(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ct($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<B_)throw new ct($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/q_}_compareTo(t){return this.seconds===t.seconds?xt(this.nanoseconds,t.nanoseconds):xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-B_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new Te(0,0))}static max(){return new Tt(new Te(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="__name__";class ci{constructor(t,i,a){i===void 0?i=0:i>t.length&&Et(),a===void 0?a=t.length-i:a>t.length-i&&Et(),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return ci.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ci?t.forEach(a=>{i.push(a)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const h=ci.compareSegments(t.get(o),i.get(o));if(h!==0)return h}return xt(t.length,i.length)}static compareSegments(t,i){const a=ci.isNumericId(t),o=ci.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?ci.extractNumericId(t).compare(ci.extractNumericId(i)):Gd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Pr.fromString(t.substring(4,t.length-2))}}class te extends ci{construct(t,i,a){return new te(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ct($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(o=>o.length>0))}return new te(i)}static emptyPath(){return new te([])}}const jS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends ci{construct(t,i,a){return new qe(t,i,a)}static isValidIdentifier(t){return jS.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===H_}static keyField(){return new qe([H_])}static fromServerFormat(t){const i=[];let a="",o=0;const h=()=>{if(a.length===0)throw new ct($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new ct($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ct($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(h(),o++)}if(h(),d)throw new ct($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qe(i)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(t){this.path=t}static fromPath(t){return new pt(te.fromString(t))}static fromName(t){return new pt(te.fromString(t).popFirst(5))}static empty(){return new pt(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return te.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new te(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo=-1;function kS(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(a===1e9?new Te(i+1,0):new Te(i,a));return new kr(o,pt.empty(),t)}function BS(r){return new kr(r.readTime,r.key,wo)}class kr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new kr(Tt.min(),pt.empty(),wo)}static max(){return new kr(Tt.max(),pt.empty(),wo)}}function qS(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=pt.comparator(r.documentKey,t.documentKey),i!==0?i:xt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ya(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==HS)throw r;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X((a,o)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(a,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,o)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):X.reject(i)}static resolve(t){return new X((i,a)=>{i(t)})}static reject(t){return new X((i,a)=>{a(t)})}static waitFor(t){return new X((i,a)=>{let o=0,h=0,d=!1;t.forEach(g=>{++o,g.next(()=>{++h,d&&h===o&&i()},y=>a(y))}),d=!0,h===o&&i()})}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next(o=>o?X.resolve(o):a());return i}static forEach(t,i){const a=[];return t.forEach((o,h)=>{a.push(i.call(this,o,h))}),this.waitFor(a)}static mapArray(t,i){return new X((a,o)=>{const h=t.length,d=new Array(h);let g=0;for(let y=0;y<h;y++){const p=y;i(t[p]).next(A=>{d[p]=A,++g,g===h&&a(d)},A=>o(A))}})}static doWhile(t,i){return new X((a,o)=>{const h=()=>{t()===!0?i().next(()=>{h()},o):a()};h()})}}function GS(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ka(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.oe(a),this._e=a=>i.writeSequenceNumber(a))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Jc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em=-1;function Wc(r){return r==null}function zc(r){return r===0&&1/r==-1/0}function QS(r){return typeof r=="number"&&Number.isInteger(r)&&!zc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="";function YS(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=F_(t)),t=KS(r.get(i),t);return F_(t)}function KS(r,t){let i=t;const a=r.length;for(let o=0;o<a;o++){const h=r.charAt(o);switch(h){case"\0":i+="";break;case N0:i+="";break;default:i+=h}}return i}function F_(r){return r+N0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Os(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function O0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(t,i){this.comparator=t,this.root=i||Be.EMPTY}insert(t,i){return new re(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(t){return new re(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Be.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,a)=>(t(i,a),!1))}toString(){const t=[];return this.inorderTraversal((i,a)=>(t.push(`${i}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new yc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new yc(this.root,t,this.comparator,!1)}getReverseIterator(){return new yc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new yc(this.root,t,this.comparator,!0)}}class yc{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=i?a(t.key,i):1,i&&o&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Be{constructor(t,i,a,o,h){this.key=t,this.value=i,this.color=a??Be.RED,this.left=o??Be.EMPTY,this.right=h??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,h){return new Be(t??this.key,i??this.value,a??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const h=a(t,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(t,i,a),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return Be.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Et();const t=this.left.check();if(t!==this.right.check())throw Et();return t+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw Et()}get value(){throw Et()}get color(){throw Et()}get left(){throw Et()}get right(){throw Et()}copy(t,i,a,o,h){return this}insert(t,i,a){return new Be(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(t){this.comparator=t,this.data=new re(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,a)=>(t(i),!1))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Q_(this.data.getIterator())}getIteratorFrom(t){return new Q_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(a=>{i=i.add(a)}),i}isEqual(t){if(!(t instanceof De)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new De(this.comparator);return i.data=t,i}}class Q_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(t){this.fields=t,t.sort(qe.comparator)}static empty(){return new Fn([])}unionWith(t){let i=new De(qe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Fn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return La(this.fields,t.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new M0("Invalid base64 string: "+h):h}}(t);return new He(i)}static fromUint8Array(t){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(t);return new He(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}He.EMPTY_BYTE_STRING=new He("");const XS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Br(r){if(Yt(!!r),typeof r=="string"){let t=0;const i=XS.exec(r);if(Yt(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:de(r.seconds),nanos:de(r.nanos)}}function de(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function qr(r){return typeof r=="string"?He.fromBase64String(r):He.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="server_timestamp",z0="__type__",P0="__previous_value__",L0="__local_write_time__";function Tm(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[z0])===null||i===void 0?void 0:i.stringValue)===U0}function th(r){const t=r.mapValue.fields[P0];return Tm(t)?th(t):t}function Ro(r){const t=Br(r.mapValue.fields[L0].timestampValue);return new Te(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(t,i,a,o,h,d,g,y,p){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=p}}const Pc="(default)";class Co{constructor(t,i){this.projectId=t,this.database=i||Pc}static empty(){return new Co("","")}get isDefaultDatabase(){return this.database===Pc}isEqual(t){return t instanceof Co&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="__type__",ZS="__max__",_c={mapValue:{}},k0="__vector__",Lc="value";function Hr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Tm(r)?4:WS(r)?9007199254740991:JS(r)?10:11:Et()}function mi(r,t){if(r===t)return!0;const i=Hr(r);if(i!==Hr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Ro(r).isEqual(Ro(t));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Br(o.timestampValue),g=Br(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,h){return qr(o.bytesValue).isEqual(qr(h.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,h){return de(o.geoPointValue.latitude)===de(h.geoPointValue.latitude)&&de(o.geoPointValue.longitude)===de(h.geoPointValue.longitude)}(r,t);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return de(o.integerValue)===de(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=de(o.doubleValue),g=de(h.doubleValue);return d===g?zc(d)===zc(g):isNaN(d)&&isNaN(g)}return!1}(r,t);case 9:return La(r.arrayValue.values||[],t.arrayValue.values||[],mi);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(G_(d)!==G_(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!mi(d[y],g[y])))return!1;return!0}(r,t);default:return Et()}}function Do(r,t){return(r.values||[]).find(i=>mi(i,t))!==void 0}function ja(r,t){if(r===t)return 0;const i=Hr(r),a=Hr(t);if(i!==a)return xt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return xt(r.booleanValue,t.booleanValue);case 2:return function(h,d){const g=de(h.integerValue||h.doubleValue),y=de(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1}(r,t);case 3:return Y_(r.timestampValue,t.timestampValue);case 4:return Y_(Ro(r),Ro(t));case 5:return Gd(r.stringValue,t.stringValue);case 6:return function(h,d){const g=qr(h),y=qr(d);return g.compareTo(y)}(r.bytesValue,t.bytesValue);case 7:return function(h,d){const g=h.split("/"),y=d.split("/");for(let p=0;p<g.length&&p<y.length;p++){const A=xt(g[p],y[p]);if(A!==0)return A}return xt(g.length,y.length)}(r.referenceValue,t.referenceValue);case 8:return function(h,d){const g=xt(de(h.latitude),de(d.latitude));return g!==0?g:xt(de(h.longitude),de(d.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return K_(r.arrayValue,t.arrayValue);case 10:return function(h,d){var g,y,p,A;const R=h.fields||{},N=d.fields||{},L=(g=R[Lc])===null||g===void 0?void 0:g.arrayValue,H=(y=N[Lc])===null||y===void 0?void 0:y.arrayValue,Y=xt(((p=L==null?void 0:L.values)===null||p===void 0?void 0:p.length)||0,((A=H==null?void 0:H.values)===null||A===void 0?void 0:A.length)||0);return Y!==0?Y:K_(L,H)}(r.mapValue,t.mapValue);case 11:return function(h,d){if(h===_c.mapValue&&d===_c.mapValue)return 0;if(h===_c.mapValue)return 1;if(d===_c.mapValue)return-1;const g=h.fields||{},y=Object.keys(g),p=d.fields||{},A=Object.keys(p);y.sort(),A.sort();for(let R=0;R<y.length&&R<A.length;++R){const N=Gd(y[R],A[R]);if(N!==0)return N;const L=ja(g[y[R]],p[A[R]]);if(L!==0)return L}return xt(y.length,A.length)}(r.mapValue,t.mapValue);default:throw Et()}}function Y_(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return xt(r,t);const i=Br(r),a=Br(t),o=xt(i.seconds,a.seconds);return o!==0?o:xt(i.nanos,a.nanos)}function K_(r,t){const i=r.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const h=ja(i[o],a[o]);if(h)return h}return xt(i.length,a.length)}function ka(r){return Qd(r)}function Qd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const a=Br(i);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return qr(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return pt.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let a="[",o=!0;for(const h of i.values||[])o?o=!1:a+=",",a+=Qd(h);return a+"]"}(r.arrayValue):"mapValue"in r?function(i){const a=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of a)h?h=!1:o+=",",o+=`${d}:${Qd(i.fields[d])}`;return o+"}"}(r.mapValue):Et()}function bc(r){switch(Hr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=th(r);return t?16+bc(t):16;case 5:return 2*r.stringValue.length;case 6:return qr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,h)=>o+bc(h),0)}(r.arrayValue);case 10:case 11:return function(a){let o=0;return Os(a.fields,(h,d)=>{o+=h.length+bc(d)}),o}(r.mapValue);default:throw Et()}}function X_(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Yd(r){return!!r&&"integerValue"in r}function Am(r){return!!r&&"arrayValue"in r}function $_(r){return!!r&&"nullValue"in r}function Z_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Sc(r){return!!r&&"mapValue"in r}function JS(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[j0])===null||i===void 0?void 0:i.stringValue)===k0}function mo(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Os(r.mapValue.fields,(i,a)=>t.mapValue.fields[i]=mo(a)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=mo(r.arrayValue.values[i]);return t}return Object.assign({},r)}function WS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===ZS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t){this.value=t}static empty(){return new Un({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Sc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=mo(i)}setAll(t){let i=qe.emptyPath(),a={},o=[];t.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=mo(d):o.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,o)}delete(t){const i=this.field(t.popLast());Sc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return mi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];Sc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){Os(i,(o,h)=>t[o]=h);for(const o of a)delete t[o]}clone(){return new Un(mo(this.value))}}function B0(r){const t=[];return Os(r.fields,(i,a)=>{const o=new qe([i]);if(Sc(a)){const h=B0(a.mapValue).fields;if(h.length===0)t.push(o);else for(const d of h)t.push(o.child(d))}else t.push(o)}),new Fn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t,i,a,o,h,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Xe(t,0,Tt.min(),Tt.min(),Tt.min(),Un.empty(),0)}static newFoundDocument(t,i,a,o){return new Xe(t,1,i,Tt.min(),a,o,0)}static newNoDocument(t,i){return new Xe(t,2,i,Tt.min(),Tt.min(),Un.empty(),0)}static newUnknownDocument(t,i){return new Xe(t,3,i,Tt.min(),Tt.min(),Un.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(t,i){this.position=t,this.inclusive=i}}function J_(r,t,i){let a=0;for(let o=0;o<r.position.length;o++){const h=t[o],d=r.position[o];if(h.field.isKeyField()?a=pt.comparator(pt.fromName(d.referenceValue),i.key):a=ja(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function W_(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!mi(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(t,i="asc"){this.field=t,this.dir=i}}function t2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{}class Ee extends q0{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new n2(t,i,a):i==="array-contains"?new s2(t,a):i==="in"?new a2(t,a):i==="not-in"?new l2(t,a):i==="array-contains-any"?new o2(t,a):new Ee(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new i2(t,a):new r2(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(ja(i,this.value)):i!==null&&Hr(this.value)===Hr(i)&&this.matchesComparison(ja(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qn extends q0{constructor(t,i){super(),this.filters=t,this.op=i,this.ce=null}static create(t,i){return new Qn(t,i)}matches(t){return H0(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function H0(r){return r.op==="and"}function F0(r){return e2(r)&&H0(r)}function e2(r){for(const t of r.filters)if(t instanceof Qn)return!1;return!0}function Kd(r){if(r instanceof Ee)return r.field.canonicalString()+r.op.toString()+ka(r.value);if(F0(r))return r.filters.map(t=>Kd(t)).join(",");{const t=r.filters.map(i=>Kd(i)).join(",");return`${r.op}(${t})`}}function G0(r,t){return r instanceof Ee?function(a,o){return o instanceof Ee&&a.op===o.op&&a.field.isEqual(o.field)&&mi(a.value,o.value)}(r,t):r instanceof Qn?function(a,o){return o instanceof Qn&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((h,d,g)=>h&&G0(d,o.filters[g]),!0):!1}(r,t):void Et()}function Q0(r){return r instanceof Ee?function(i){return`${i.field.canonicalString()} ${i.op} ${ka(i.value)}`}(r):r instanceof Qn?function(i){return i.op.toString()+" {"+i.getFilters().map(Q0).join(" ,")+"}"}(r):"Filter"}class n2 extends Ee{constructor(t,i,a){super(t,i,a),this.key=pt.fromName(a.referenceValue)}matches(t){const i=pt.comparator(t.key,this.key);return this.matchesComparison(i)}}class i2 extends Ee{constructor(t,i){super(t,"in",i),this.keys=Y0("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class r2 extends Ee{constructor(t,i){super(t,"not-in",i),this.keys=Y0("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function Y0(r,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>pt.fromName(a.referenceValue))}class s2 extends Ee{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Am(i)&&Do(i.arrayValue,this.value)}}class a2 extends Ee{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Do(this.value.arrayValue,i)}}class l2 extends Ee{constructor(t,i){super(t,"not-in",i)}matches(t){if(Do(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&!Do(this.value.arrayValue,i)}}class o2 extends Ee{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Am(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Do(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(t,i=null,a=[],o=[],h=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.le=null}}function tv(r,t=null,i=[],a=[],o=null,h=null,d=null){return new u2(r,t,i,a,o,h,d)}function bm(r){const t=St(r);if(t.le===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(a=>Kd(a)).join(","),i+="|ob:",i+=t.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),Wc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>ka(a)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>ka(a)).join(",")),t.le=i}return t.le}function Sm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!t2(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!G0(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!W_(r.startAt,t.startAt)&&W_(r.endAt,t.endAt)}function Xd(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(t,i=null,a=[],o=[],h=null,d="F",g=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=y,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function c2(r,t,i,a,o,h,d,g){return new Xa(r,t,i,a,o,h,d,g)}function wm(r){return new Xa(r)}function ev(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function K0(r){return r.collectionGroup!==null}function go(r){const t=St(r);if(t.he===null){t.he=[];const i=new Set;for(const h of t.explicitOrderBy)t.he.push(h),i.add(h.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new De(qe.comparator);return d.filters.forEach(y=>{y.getFlattenedFilters().forEach(p=>{p.isInequality()&&(g=g.add(p.field))})}),g})(t).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||t.he.push(new Vo(h,a))}),i.has(qe.keyField().canonicalString())||t.he.push(new Vo(qe.keyField(),a))}return t.he}function fi(r){const t=St(r);return t.Pe||(t.Pe=h2(t,go(r))),t.Pe}function h2(r,t){if(r.limitType==="F")return tv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new Vo(o.field,h)});const i=r.endAt?new jc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new jc(r.startAt.position,r.startAt.inclusive):null;return tv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function $d(r,t){const i=r.filters.concat([t]);return new Xa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Zd(r,t,i){return new Xa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function eh(r,t){return Sm(fi(r),fi(t))&&r.limitType===t.limitType}function X0(r){return`${bm(fi(r))}|lt:${r.limitType}`}function xa(r){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(o=>Q0(o)).join(", ")}]`),Wc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(o=>ka(o)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(o=>ka(o)).join(",")),`Target(${a})`}(fi(r))}; limitType=${r.limitType})`}function nh(r,t){return t.isFoundDocument()&&function(a,o){const h=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):pt.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(r,t)&&function(a,o){for(const h of go(a))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(r,t)&&function(a,o){for(const h of a.filters)if(!h.matches(o))return!1;return!0}(r,t)&&function(a,o){return!(a.startAt&&!function(d,g,y){const p=J_(d,g,y);return d.inclusive?p<=0:p<0}(a.startAt,go(a),o)||a.endAt&&!function(d,g,y){const p=J_(d,g,y);return d.inclusive?p>=0:p>0}(a.endAt,go(a),o))}(r,t)}function f2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function $0(r){return(t,i)=>{let a=!1;for(const o of go(r)){const h=d2(o,t,i);if(h!==0)return h;a=a||o.field.isKeyField()}return 0}}function d2(r,t,i){const a=r.field.isKeyField()?pt.comparator(t.key,i.key):function(h,d,g){const y=d.data.field(h),p=g.data.field(h);return y!==null&&p!==null?ja(y,p):Et()}(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Et()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,h]of a)if(this.equalsFn(o,t))return h}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],t))return void(o[h]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Os(this.inner,(i,a)=>{for(const[o,h]of a)t(o,h)})}isEmpty(){return O0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=new re(pt.comparator);function Yi(){return m2}const Z0=new re(pt.comparator);function uo(...r){let t=Z0;for(const i of r)t=t.insert(i.key,i);return t}function J0(r){let t=Z0;return r.forEach((i,a)=>t=t.insert(i,a.overlayedDocument)),t}function Rs(){return po()}function W0(){return po()}function po(){return new Ms(r=>r.toString(),(r,t)=>r.isEqual(t))}const g2=new re(pt.comparator),p2=new De(pt.comparator);function Ot(...r){let t=p2;for(const i of r)t=t.add(i);return t}const y2=new De(xt);function _2(){return y2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zc(t)?"-0":t}}function tE(r){return{integerValue:""+r}}function v2(r,t){return QS(t)?tE(t):Rm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(){this._=void 0}}function E2(r,t,i){return r instanceof kc?function(o,h){const d={fields:{[z0]:{stringValue:U0},[L0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Tm(h)&&(h=th(h)),h&&(d.fields[P0]=h),{mapValue:d}}(i,t):r instanceof xo?nE(r,t):r instanceof Io?iE(r,t):function(o,h){const d=eE(o,h),g=nv(d)+nv(o.Ie);return Yd(d)&&Yd(o.Ie)?tE(g):Rm(o.serializer,g)}(r,t)}function T2(r,t,i){return r instanceof xo?nE(r,t):r instanceof Io?iE(r,t):i}function eE(r,t){return r instanceof Bc?function(a){return Yd(a)||function(h){return!!h&&"doubleValue"in h}(a)}(t)?t:{integerValue:0}:null}class kc extends ih{}class xo extends ih{constructor(t){super(),this.elements=t}}function nE(r,t){const i=rE(t);for(const a of r.elements)i.some(o=>mi(o,a))||i.push(a);return{arrayValue:{values:i}}}class Io extends ih{constructor(t){super(),this.elements=t}}function iE(r,t){let i=rE(t);for(const a of r.elements)i=i.filter(o=>!mi(o,a));return{arrayValue:{values:i}}}class Bc extends ih{constructor(t,i){super(),this.serializer=t,this.Ie=i}}function nv(r){return de(r.integerValue||r.doubleValue)}function rE(r){return Am(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function A2(r,t){return r.field.isEqual(t.field)&&function(a,o){return a instanceof xo&&o instanceof xo||a instanceof Io&&o instanceof Io?La(a.elements,o.elements,mi):a instanceof Bc&&o instanceof Bc?mi(a.Ie,o.Ie):a instanceof kc&&o instanceof kc}(r.transform,t.transform)}class b2{constructor(t,i){this.version=t,this.transformResults=i}}class Fi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Fi}static exists(t){return new Fi(void 0,t)}static updateTime(t){return new Fi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function wc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class rh{}function sE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new lE(r.key,Fi.none()):new Bo(r.key,r.data,Fi.none());{const i=r.data,a=Un.empty();let o=new De(qe.comparator);for(let h of t.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),o=o.add(h)}return new Us(r.key,a,new Fn(o.toArray()),Fi.none())}}function S2(r,t,i){r instanceof Bo?function(o,h,d){const g=o.value.clone(),y=rv(o.fieldTransforms,h,d.transformResults);g.setAll(y),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,t,i):r instanceof Us?function(o,h,d){if(!wc(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=rv(o.fieldTransforms,h,d.transformResults),y=h.data;y.setAll(aE(o)),y.setAll(g),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(r,t,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,i)}function yo(r,t,i,a){return r instanceof Bo?function(h,d,g,y){if(!wc(h.precondition,d))return g;const p=h.value.clone(),A=sv(h.fieldTransforms,y,d);return p.setAll(A),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null}(r,t,i,a):r instanceof Us?function(h,d,g,y){if(!wc(h.precondition,d))return g;const p=sv(h.fieldTransforms,y,d),A=d.data;return A.setAll(aE(h)),A.setAll(p),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(R=>R.field))}(r,t,i,a):function(h,d,g){return wc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,t,i)}function w2(r,t){let i=null;for(const a of r.fieldTransforms){const o=t.data.field(a.field),h=eE(a.transform,o||null);h!=null&&(i===null&&(i=Un.empty()),i.set(a.field,h))}return i||null}function iv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&La(a,o,(h,d)=>A2(h,d))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Bo extends rh{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Us extends rh{constructor(t,i,a,o,h=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function aE(r){const t=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}}),t}function rv(r,t,i){const a=new Map;Yt(r.length===i.length);for(let o=0;o<i.length;o++){const h=r[o],d=h.transform,g=t.data.field(h.field);a.set(h.field,T2(d,g,i[o]))}return a}function sv(r,t,i){const a=new Map;for(const o of r){const h=o.transform,d=i.data.field(o.field);a.set(o.field,E2(h,d,t))}return a}class lE extends rh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class R2 extends rh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(t.key)&&S2(h,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=yo(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=yo(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=W0();return this.mutations.forEach(o=>{const h=t.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const y=sE(d,g);y!==null&&a.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(Tt.min())}),a}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Ot())}isEqual(t){return this.batchId===t.batchId&&La(this.mutations,t.mutations,(i,a)=>iv(i,a))&&La(this.baseMutations,t.baseMutations,(i,a)=>iv(i,a))}}class Cm{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){Yt(t.mutations.length===a.length);let o=function(){return g2}();const h=t.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,a[d].version);return new Cm(t,i,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve,jt;function x2(r){switch(r){case $.OK:return Et();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return Et()}}function oE(r){if(r===void 0)return Qi("GRPC error has no .code"),$.UNKNOWN;switch(r){case ve.OK:return $.OK;case ve.CANCELLED:return $.CANCELLED;case ve.UNKNOWN:return $.UNKNOWN;case ve.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case ve.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case ve.INTERNAL:return $.INTERNAL;case ve.UNAVAILABLE:return $.UNAVAILABLE;case ve.UNAUTHENTICATED:return $.UNAUTHENTICATED;case ve.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case ve.NOT_FOUND:return $.NOT_FOUND;case ve.ALREADY_EXISTS:return $.ALREADY_EXISTS;case ve.PERMISSION_DENIED:return $.PERMISSION_DENIED;case ve.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case ve.ABORTED:return $.ABORTED;case ve.OUT_OF_RANGE:return $.OUT_OF_RANGE;case ve.UNIMPLEMENTED:return $.UNIMPLEMENTED;case ve.DATA_LOSS:return $.DATA_LOSS;default:return Et()}}(jt=ve||(ve={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=new Pr([4294967295,4294967295],0);function av(r){const t=x0().encode(r),i=new b0;return i.update(t),new Uint8Array(i.digest())}function lv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new Pr([i,a],0),new Pr([o,h],0)]}class Dm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new co(`Invalid padding: ${i}`);if(a<0)throw new co(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new co(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new co(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*t.length-i,this.de=Pr.fromNumber(this.Ee)}Ae(t,i,a){let o=t.add(i.multiply(Pr.fromNumber(a)));return o.compare(I2)===1&&(o=new Pr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const i=av(t),[a,o]=lv(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(a,o,h);if(!this.Re(d))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),d=new Dm(h,o,i);return a.forEach(g=>d.insert(g)),d}insert(t){if(this.Ee===0)return;const i=av(t),[a,o]=lv(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(a,o,h);this.Ve(d)}}Ve(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class co extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(t,i,a,o,h){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,qo.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new sh(Tt.min(),o,new re(xt),Yi(),Ot())}}class qo{constructor(t,i,a,o,h){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new qo(a,i,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(t,i,a,o){this.me=t,this.removedTargetIds=i,this.key=a,this.fe=o}}class uE{constructor(t,i){this.targetId=t,this.ge=i}}class cE{constructor(t,i,a=He.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class ov{constructor(){this.pe=0,this.ye=uv(),this.we=He.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Ot(),i=Ot(),a=Ot();return this.ye.forEach((o,h)=>{switch(h){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:Et()}}),new qo(this.we,this.Se,t,i,a)}Me(){this.be=!1,this.ye=uv()}xe(t,i){this.be=!0,this.ye=this.ye.insert(t,i)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Yt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class N2{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Yi(),this.$e=vc(),this.Ue=vc(),this.Ke=new re(xt)}We(t){for(const i of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(i,t.fe):this.ze(i,t.key,t.fe);for(const i of t.removedTargetIds)this.ze(i,t.key,t.fe)}je(t){this.forEachTarget(t,i=>{const a=this.He(i);switch(t.state){case 0:this.Je(i)&&a.Ce(t.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(t.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(i);break;case 3:this.Je(i)&&(a.Le(),a.Ce(t.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),a.Ce(t.resumeToken));break;default:Et()}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.qe.forEach((a,o)=>{this.Je(o)&&i(o)})}Ze(t){const i=t.targetId,a=t.ge.count,o=this.Xe(i);if(o){const h=o.target;if(Xd(h))if(a===0){const d=new pt(h.path);this.ze(i,d,Xe.newNoDocument(d,Tt.min()))}else Yt(a===1);else{const d=this.et(i);if(d!==a){const g=this.tt(t),y=g?this.nt(g,t,d):1;if(y!==0){this.Ye(i);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,p)}}}}}tt(t){const i=t.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=qr(a).toUint8Array()}catch(y){if(y instanceof M0)return Pa("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Dm(d,o,h)}catch(y){return Pa(y instanceof co?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.Ee===0?null:g}nt(t,i,a){return i.ge.count===a-this.st(t,i.targetId)?0:2}st(t,i){const a=this.ke.getRemoteKeysForTarget(i);let o=0;return a.forEach(h=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;t.mightContain(g)||(this.ze(i,h,null),o++)}),o}ot(t){const i=new Map;this.qe.forEach((h,d)=>{const g=this.Xe(d);if(g){if(h.current&&Xd(g.target)){const y=new pt(g.target.path);this._t(y).has(d)||this.ut(d,y)||this.ze(d,y,Xe.newNoDocument(y,t))}h.ve&&(i.set(d,h.Fe()),h.Me())}});let a=Ot();this.Ue.forEach((h,d)=>{let g=!0;d.forEachWhile(y=>{const p=this.Xe(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(a=a.add(h))}),this.Qe.forEach((h,d)=>d.setReadTime(t));const o=new sh(t,i,this.Ke,this.Qe,a);return this.Qe=Yi(),this.$e=vc(),this.Ue=vc(),this.Ke=new re(xt),o}Ge(t,i){if(!this.Je(t))return;const a=this.ut(t,i.key)?2:0;this.He(t).xe(i.key,a),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(t)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(t))}ze(t,i,a){if(!this.Je(t))return;const o=this.He(t);this.ut(t,i)?o.xe(i,1):o.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(t)),this.Ue=this.Ue.insert(i,this.ct(i).add(t)),a&&(this.Qe=this.Qe.insert(i,a))}removeTarget(t){this.qe.delete(t)}et(t){const i=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let i=this.qe.get(t);return i||(i=new ov,this.qe.set(t,i)),i}ct(t){let i=this.Ue.get(t);return i||(i=new De(xt),this.Ue=this.Ue.insert(t,i)),i}_t(t){let i=this.$e.get(t);return i||(i=new De(xt),this.$e=this.$e.insert(t,i)),i}Je(t){const i=this.Xe(t)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",t),i}Xe(t){const i=this.qe.get(t);return i&&i.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new ov),this.ke.getRemoteKeysForTarget(t).forEach(i=>{this.ze(t,i,null)})}ut(t,i){return this.ke.getRemoteKeysForTarget(t).has(i)}}function vc(){return new re(pt.comparator)}function uv(){return new re(pt.comparator)}const O2={asc:"ASCENDING",desc:"DESCENDING"},M2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},U2={and:"AND",or:"OR"};class z2{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Jd(r,t){return r.useProto3Json||Wc(t)?t:{value:t}}function qc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function hE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function P2(r,t){return qc(r,t.toTimestamp())}function di(r){return Yt(!!r),Tt.fromTimestamp(function(i){const a=Br(i);return new Te(a.seconds,a.nanos)}(r))}function Vm(r,t){return Wd(r,t).canonicalString()}function Wd(r,t){const i=function(o){return new te(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?i:i.child(t)}function fE(r){const t=te.fromString(r);return Yt(yE(t)),t}function tm(r,t){return Vm(r.databaseId,t.path)}function Dd(r,t){const i=fE(t);if(i.get(1)!==r.databaseId.projectId)throw new ct($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ct($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new pt(mE(i))}function dE(r,t){return Vm(r.databaseId,t)}function L2(r){const t=fE(r);return t.length===4?te.emptyPath():mE(t)}function em(r){return new te(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function mE(r){return Yt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function cv(r,t,i){return{name:tm(r,t),fields:i.value.mapValue.fields}}function j2(r,t){let i;if("targetChange"in t){t.targetChange;const a=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Et()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],h=function(p,A){return p.useProto3Json?(Yt(A===void 0||typeof A=="string"),He.fromBase64String(A||"")):(Yt(A===void 0||A instanceof Buffer||A instanceof Uint8Array),He.fromUint8Array(A||new Uint8Array))}(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&function(p){const A=p.code===void 0?$.UNKNOWN:oE(p.code);return new ct(A,p.message||"")}(d);i=new cE(a,o,h,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=Dd(r,a.document.name),h=di(a.document.updateTime),d=a.document.createTime?di(a.document.createTime):Tt.min(),g=new Un({mapValue:{fields:a.document.fields}}),y=Xe.newFoundDocument(o,h,d,g),p=a.targetIds||[],A=a.removedTargetIds||[];i=new Rc(p,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=Dd(r,a.document),h=a.readTime?di(a.readTime):Tt.min(),d=Xe.newNoDocument(o,h),g=a.removedTargetIds||[];i=new Rc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=Dd(r,a.document),h=a.removedTargetIds||[];i=new Rc([],h,o,null)}else{if(!("filter"in t))return Et();{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:h}=a,d=new V2(o,h),g=a.targetId;i=new uE(g,d)}}return i}function k2(r,t){let i;if(t instanceof Bo)i={update:cv(r,t.key,t.value)};else if(t instanceof lE)i={delete:tm(r,t.key)};else if(t instanceof Us)i={update:cv(r,t.key,t.data),updateMask:X2(t.fieldMask)};else{if(!(t instanceof R2))return Et();i={verify:tm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(a=>function(h,d){const g=d.transform;if(g instanceof kc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof xo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Io)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Bc)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw Et()}(0,a))),t.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:P2(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Et()}(r,t.precondition)),i}function B2(r,t){return r&&r.length>0?(Yt(t!==void 0),r.map(i=>function(o,h){let d=o.updateTime?di(o.updateTime):di(h);return d.isEqual(Tt.min())&&(d=di(h)),new b2(d,o.transformResults||[])}(i,t))):[]}function q2(r,t){return{documents:[dE(r,t.path)]}}function H2(r,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=dE(r,o);const h=function(p){if(p.length!==0)return pE(Qn.create(p,"and"))}(t.filters);h&&(i.structuredQuery.where=h);const d=function(p){if(p.length!==0)return p.map(A=>function(N){return{field:Ia(N.field),direction:Q2(N.dir)}}(A))}(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Jd(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(t.endAt)),{ht:i,parent:o}}function F2(r){let t=L2(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Yt(a===1);const A=i.from[0];A.allDescendants?o=A.collectionId:t=t.child(A.collectionId)}let h=[];i.where&&(h=function(R){const N=gE(R);return N instanceof Qn&&F0(N)?N.getFilters():[N]}(i.where));let d=[];i.orderBy&&(d=function(R){return R.map(N=>function(H){return new Vo(Na(H.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(H.direction))}(N))}(i.orderBy));let g=null;i.limit&&(g=function(R){let N;return N=typeof R=="object"?R.value:R,Wc(N)?null:N}(i.limit));let y=null;i.startAt&&(y=function(R){const N=!!R.before,L=R.values||[];return new jc(L,N)}(i.startAt));let p=null;return i.endAt&&(p=function(R){const N=!R.before,L=R.values||[];return new jc(L,N)}(i.endAt)),c2(t,o,d,h,g,"F",y,p)}function G2(r,t){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et()}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function gE(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Na(i.unaryFilter.field);return Ee.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Na(i.unaryFilter.field);return Ee.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Na(i.unaryFilter.field);return Ee.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Na(i.unaryFilter.field);return Ee.create(d,"!=",{nullValue:"NULL_VALUE"});default:return Et()}}(r):r.fieldFilter!==void 0?function(i){return Ee.create(Na(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Et()}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return Qn.create(i.compositeFilter.filters.map(a=>gE(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Et()}}(i.compositeFilter.op))}(r):Et()}function Q2(r){return O2[r]}function Y2(r){return M2[r]}function K2(r){return U2[r]}function Ia(r){return{fieldPath:r.canonicalString()}}function Na(r){return qe.fromServerFormat(r.fieldPath)}function pE(r){return r instanceof Ee?function(i){if(i.op==="=="){if(Z_(i.value))return{unaryFilter:{field:Ia(i.field),op:"IS_NAN"}};if($_(i.value))return{unaryFilter:{field:Ia(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Z_(i.value))return{unaryFilter:{field:Ia(i.field),op:"IS_NOT_NAN"}};if($_(i.value))return{unaryFilter:{field:Ia(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ia(i.field),op:Y2(i.op),value:i.value}}}(r):r instanceof Qn?function(i){const a=i.getFilters().map(o=>pE(o));return a.length===1?a[0]:{compositeFilter:{op:K2(i.op),filters:a}}}(r):Et()}function X2(r){const t=[];return r.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function yE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(t,i,a,o,h=Tt.min(),d=Tt.min(),g=He.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new Nr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(t){this.Tt=t}}function Z2(r){const t=F2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Zd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(){this.Tn=new W2}addToCollectionParentIndex(t,i){return this.Tn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Tn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(kr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(kr.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class W2{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new De(te.comparator),h=!o.has(a);return this.index[i]=o.add(a),h}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new De(te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_E=41943040;class an{static withCacheSize(t){return new an(t,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(_E,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new Ba(0)}static Kn(){return new Ba(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="LruGarbageCollector",tw=1048576;function dv([r,t],[i,a]){const o=xt(r,i);return o===0?xt(t,a):o}class ew{constructor(t){this.Hn=t,this.buffer=new De(dv),this.Jn=0}Yn(){return++this.Jn}Zn(t){const i=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();dv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class nw{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){ot(fv,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ka(i)?ot(fv,"Ignoring IndexedDB error during garbage collection: ",i):await Ya(i)}await this.er(3e5)})}}class iw{constructor(t,i){this.tr=t,this.params=i}calculateTargetCount(t,i){return this.tr.nr(t).next(a=>Math.floor(i/100*a))}nthSequenceNumber(t,i){if(i===0)return X.resolve(Jc.ae);const a=new ew(i);return this.tr.forEachTarget(t,o=>a.Zn(o.sequenceNumber)).next(()=>this.tr.rr(t,o=>a.Zn(o))).next(()=>a.maxValue)}removeTargets(t,i,a){return this.tr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.tr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(hv)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hv):this.ir(t,i))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,i){let a,o,h,d,g,y,p;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,d=Date.now(),this.nthSequenceNumber(t,o))).next(R=>(a=R,g=Date.now(),this.removeTargets(t,a,i))).next(R=>(h=R,y=Date.now(),this.removeOrphanedDocuments(t,a))).next(R=>(p=Date.now(),Va()<=kt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(y-g)+`ms
	Removed ${R} documents in `+(p-y)+`ms
Total Duration: ${p-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:R})))}}function rw(r,t){return new iw(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(){this.changes=new Ms(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Xe.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next(o=>(a=o,this.remoteDocumentCache.getEntry(t,i))).next(o=>(a!==null&&yo(a.mutation,o,Fn.empty(),Te.now()),o))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(a=>this.getLocalViewOfDocuments(t,a,Ot()).next(()=>a))}getLocalViewOfDocuments(t,i,a=Ot()){const o=Rs();return this.populateOverlays(t,o,i).next(()=>this.computeViews(t,i,o,a).next(h=>{let d=uo();return h.forEach((g,y)=>{d=d.insert(g,y.overlayedDocument)}),d}))}getOverlayedDocuments(t,i){const a=Rs();return this.populateOverlays(t,a,i).next(()=>this.computeViews(t,i,a,Ot()))}populateOverlays(t,i,a){const o=[];return a.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(t,o).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(t,i,a,o){let h=Yi();const d=po(),g=function(){return po()}();return i.forEach((y,p)=>{const A=a.get(p.key);o.has(p.key)&&(A===void 0||A.mutation instanceof Us)?h=h.insert(p.key,p):A!==void 0?(d.set(p.key,A.mutation.getFieldMask()),yo(A.mutation,p,A.mutation.getFieldMask(),Te.now())):d.set(p.key,Fn.empty())}),this.recalculateAndSaveOverlays(t,h).next(y=>(y.forEach((p,A)=>d.set(p,A)),i.forEach((p,A)=>{var R;return g.set(p,new aw(A,(R=d.get(p))!==null&&R!==void 0?R:null))}),g))}recalculateAndSaveOverlays(t,i){const a=po();let o=new re((d,g)=>d-g),h=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(d=>{for(const g of d)g.keys().forEach(y=>{const p=i.get(y);if(p===null)return;let A=a.get(y)||Fn.empty();A=g.applyToLocalView(p,A),a.set(y,A);const R=(o.get(g.batchId)||Ot()).add(y);o=o.insert(g.batchId,R)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),p=y.key,A=y.value,R=W0();A.forEach(N=>{if(!h.has(N)){const L=sE(i.get(N),a.get(N));L!==null&&R.set(N,L),h=h.add(N)}}),d.push(this.documentOverlayCache.saveOverlays(t,p,R))}return X.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,i,a,o){return function(d){return pt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):K0(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-h.size):X.resolve(Rs());let g=wo,y=h;return d.next(p=>X.forEach(p,(A,R)=>(g<R.largestBatchId&&(g=R.largestBatchId),h.get(A)?X.resolve():this.remoteDocumentCache.getEntry(t,A).next(N=>{y=y.insert(A,N)}))).next(()=>this.populateOverlays(t,p,h)).next(()=>this.computeViews(t,y,p,Ot())).next(A=>({batchId:g,changes:J0(A)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new pt(i)).next(a=>{let o=uo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const h=i.collectionGroup;let d=uo();return this.indexManager.getCollectionParents(t,h).next(g=>X.forEach(g,y=>{const p=function(R,N){return new Xa(N,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(i,y.child(h));return this.getDocumentsMatchingCollectionQuery(t,p,a,o).next(A=>{A.forEach((R,N)=>{d=d.insert(R,N)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,i,a,o){let h;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,h,o))).next(d=>{h.forEach((y,p)=>{const A=p.getKey();d.get(A)===null&&(d=d.insert(A,Xe.newInvalidDocument(A)))});let g=uo();return d.forEach((y,p)=>{const A=h.get(y);A!==void 0&&yo(A.mutation,p,Fn.empty(),Te.now()),nh(i,p)&&(g=g.insert(y,p))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,i){return X.resolve(this.dr.get(i))}saveBundleMetadata(t,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:di(o.createTime)}}(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.Ar.get(i))}saveNamedQuery(t,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:Z2(o.bundledQuery),readTime:di(o.readTime)}}(i)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(){this.overlays=new re(pt.comparator),this.Rr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Rs();return X.forEach(i,o=>this.getOverlay(t,o).next(h=>{h!==null&&a.set(o,h)})).next(()=>a)}saveOverlays(t,i,a){return a.forEach((o,h)=>{this.Et(t,i,h)}),X.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.Rr.get(a);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.Rr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const o=Rs(),h=i.length+1,d=new pt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,p=y.getKey();if(!i.isPrefixOf(p.path))break;p.path.length===h&&y.largestBatchId>a&&o.set(y.getKey(),y)}return X.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let h=new re((p,A)=>p-A);const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===i&&p.largestBatchId>a){let A=h.get(p.largestBatchId);A===null&&(A=Rs(),h=h.insert(p.largestBatchId,A)),A.set(p.getKey(),p)}}const g=Rs(),y=h.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((p,A)=>g.set(p,A)),!(g.size()>=o)););return X.resolve(g)}Et(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Rr.get(o.largestBatchId).delete(a.key);this.Rr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new D2(i,a));let h=this.Rr.get(i);h===void 0&&(h=Ot(),this.Rr.set(i,h)),this.Rr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(){this.sessionToken=He.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(){this.Vr=new De(ze.mr),this.gr=new De(ze.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,i){const a=new ze(t,i);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(t,i){t.forEach(a=>this.addReference(a,i))}removeReference(t,i){this.wr(new ze(t,i))}Sr(t,i){t.forEach(a=>this.removeReference(a,i))}br(t){const i=new pt(new te([])),a=new ze(i,t),o=new ze(i,t+1),h=[];return this.gr.forEachInRange([a,o],d=>{this.wr(d),h.push(d.key)}),h}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const i=new pt(new te([])),a=new ze(i,t),o=new ze(i,t+1);let h=Ot();return this.gr.forEachInRange([a,o],d=>{h=h.add(d.key)}),h}containsKey(t){const i=new ze(t,0),a=this.Vr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class ze{constructor(t,i){this.key=t,this.Cr=i}static mr(t,i){return pt.comparator(t.key,i.key)||xt(t.Cr,i.Cr)}static pr(t,i){return xt(t.Cr,i.Cr)||pt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new De(ze.mr)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const h=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new C2(h,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Mr=this.Mr.add(new ze(g.key,h)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.Nr(a),h=o<0?0:o;return X.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Em:this.Fr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new ze(i,0),o=new ze(i,Number.POSITIVE_INFINITY),h=[];return this.Mr.forEachInRange([a,o],d=>{const g=this.Or(d.Cr);h.push(g)}),X.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new De(xt);return i.forEach(o=>{const h=new ze(o,0),d=new ze(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([h,d],g=>{a=a.add(g.Cr)})}),X.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let h=a;pt.isDocumentKey(h)||(h=h.child(""));const d=new ze(new pt(h),0);let g=new De(xt);return this.Mr.forEachWhile(y=>{const p=y.key.path;return!!a.isPrefixOf(p)&&(p.length===o&&(g=g.add(y.Cr)),!0)},d),X.resolve(this.Br(g))}Br(t){const i=[];return t.forEach(a=>{const o=this.Or(a);o!==null&&i.push(o)}),i}removeMutationBatch(t,i){Yt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return X.forEach(i.mutations,o=>{const h=new ze(o.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Mr=a})}qn(t){}containsKey(t,i){const a=new ze(i,0),o=this.Mr.firstAfterOrEqual(a);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}Lr(t,i){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const i=this.Nr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(t){this.kr=t,this.docs=function(){return new re(pt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),h=o?o.size:0,d=this.kr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(t,i){let a=Yi();return i.forEach(o=>{const h=this.docs.get(o);a=a.insert(o,h?h.document.mutableCopy():Xe.newInvalidDocument(o))}),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let h=Yi();const d=i.path,g=new pt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:p,value:{document:A}}=y.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||qS(BS(A),a)<=0||(o.has(A.key)||nh(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return X.resolve(h)}getAllFromCollectionGroup(t,i,a,o){Et()}qr(t,i){return X.forEach(this.docs,a=>i(a))}newChangeBuffer(t){return new dw(this)}getSize(t){return X.resolve(this.size)}}class dw extends sw{constructor(t){super(),this.Ir=t}applyChanges(t){const i=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(t,o)):this.Ir.removeEntry(a)}),X.waitFor(i)}getFromCache(t,i){return this.Ir.getEntry(t,i)}getAllFromCache(t,i){return this.Ir.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(t){this.persistence=t,this.Qr=new Ms(i=>bm(i),Sm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new xm,this.targetCount=0,this.Kr=Ba.Un()}forEachTarget(t,i){return this.Qr.forEach((a,o)=>i(o)),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.$r&&(this.$r=i),X.resolve()}zn(t){this.Qr.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.Kr=new Ba(i),this.highestTargetId=i),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,i){return this.zn(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.zn(i),X.resolve()}removeTargetData(t,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let o=0;const h=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.Qr.delete(d),h.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)}),X.waitFor(h).next(()=>o)}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.Qr.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this.Ur.yr(i,a),X.resolve()}removeMatchingKeys(t,i,a){this.Ur.Sr(i,a);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(t,d))}),X.waitFor(h)}removeMatchingKeysForTargetId(t,i){return this.Ur.br(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this.Ur.vr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(t,i){this.Wr={},this.overlays={},this.Gr=new Jc(0),this.zr=!1,this.zr=!0,this.jr=new cw,this.referenceDelegate=t(this),this.Hr=new mw(this),this.indexManager=new J2,this.remoteDocumentCache=function(o){return new fw(o)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new $2(i),this.Yr=new ow(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new uw,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.Wr[t.toKey()];return a||(a=new hw(i,this.referenceDelegate),this.Wr[t.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,i,a){ot("MemoryPersistence","Starting transaction:",t);const o=new gw(this.Gr.next());return this.referenceDelegate.Zr(),a(o).next(h=>this.referenceDelegate.Xr(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}ei(t,i){return X.or(Object.values(this.Wr).map(a=>()=>a.containsKey(t,i)))}}class gw extends FS{constructor(t){super(),this.currentSequenceNumber=t}}class Im{constructor(t){this.persistence=t,this.ti=new xm,this.ni=null}static ri(t){return new Im(t)}get ii(){if(this.ni)return this.ni;throw Et()}addReference(t,i,a){return this.ti.addReference(a,i),this.ii.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.ti.removeReference(a,i),this.ii.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.ii.add(i.toString()),X.resolve()}removeTarget(t,i){this.ti.br(i.targetId).forEach(o=>this.ii.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next(o=>{o.forEach(h=>this.ii.add(h.toString()))}).next(()=>a.removeTargetData(t,i))}Zr(){this.ni=new Set}Xr(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.ii,a=>{const o=pt.fromPath(a);return this.si(t,o).next(h=>{h||i.removeEntry(o,Tt.min())})}).next(()=>(this.ni=null,i.apply(t)))}updateLimboDocument(t,i){return this.si(t,i).next(a=>{a?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(t){return 0}si(t,i){return X.or([()=>X.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.ei(t,i)])}}class Hc{constructor(t,i){this.persistence=t,this.oi=new Ms(a=>YS(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=rw(this,i)}static ri(t,i){return new Hc(t,i)}Zr(){}Xr(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}nr(t){const i=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(a=>i.next(o=>a+o))}sr(t){let i=0;return this.rr(t,a=>{i++}).next(()=>i)}rr(t,i){return X.forEach(this.oi,(a,o)=>this.ar(t,a,o).next(h=>h?X.resolve():i(o)))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.qr(t,d=>this.ar(t,d,i).next(g=>{g||(a++,h.removeEntry(d,Tt.min()))})).next(()=>h.apply(t)).next(()=>a)}markPotentiallyOrphaned(t,i){return this.oi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.oi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.oi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.oi.set(i,t.currentSequenceNumber),X.resolve()}Jr(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=bc(t.data.value)),i}ar(t,i,a){return X.or([()=>this.persistence.ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.oi.get(i);return X.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Hi=a,this.Ji=o}static Yi(t,i){let a=Ot(),o=Ot();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Nm(t,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return hb()?8:GS(ub())>0?6:4}()}initialize(t,i){this.ns=t,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(t,i,a,o){const h={result:null};return this.rs(t,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ss(t,i,o,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new pw;return this._s(t,i,d).next(g=>{if(h.result=g,this.Xi)return this.us(t,i,d,g.size)})}).next(()=>h.result)}us(t,i,a,o){return a.documentReadCount<this.es?(Va()<=kt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",xa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),X.resolve()):(Va()<=kt.DEBUG&&ot("QueryEngine","Query:",xa(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ts*o?(Va()<=kt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",xa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,fi(i))):X.resolve())}rs(t,i){if(ev(i))return X.resolve(null);let a=fi(i);return this.indexManager.getIndexType(t,a).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Zd(i,null,"F"),a=fi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next(h=>{const d=Ot(...h);return this.ns.getDocuments(t,d).next(g=>this.indexManager.getMinOffset(t,a).next(y=>{const p=this.cs(i,g);return this.ls(i,p,d,y.readTime)?this.rs(t,Zd(i,null,"F")):this.hs(t,p,i,y)}))})))}ss(t,i,a,o){return ev(i)||o.isEqual(Tt.min())?X.resolve(null):this.ns.getDocuments(t,a).next(h=>{const d=this.cs(i,h);return this.ls(i,d,a,o)?X.resolve(null):(Va()<=kt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),xa(i)),this.hs(t,d,i,kS(o,wo)).next(g=>g))})}cs(t,i){let a=new De($0(t));return i.forEach((o,h)=>{nh(t,h)&&(a=a.add(h))}),a}ls(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const h=t.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}_s(t,i,a){return Va()<=kt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",xa(i)),this.ns.getDocumentsMatchingQuery(t,i,kr.min(),a)}hs(t,i,a,o){return this.ns.getDocumentsMatchingQuery(t,a,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="LocalStore",_w=3e8;class vw{constructor(t,i,a,o){this.persistence=t,this.Ps=i,this.serializer=o,this.Ts=new re(xt),this.Is=new Ms(h=>bm(h),Sm),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(a)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new lw(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ts))}}function Ew(r,t,i,a){return new vw(r,t,i,a)}async function EE(r,t){const i=St(r);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next(h=>(o=h,i.As(t),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],g=[];let y=Ot();for(const p of o){d.push(p.batchId);for(const A of p.mutations)y=y.add(A.key)}for(const p of h){g.push(p.batchId);for(const A of p.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(a,y).next(p=>({Rs:p,removedBatchIds:d,addedBatchIds:g}))})})}function Tw(r,t){const i=St(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=t.batch.keys(),h=i.ds.newChangeBuffer({trackRemovals:!0});return function(g,y,p,A){const R=p.batch,N=R.keys();let L=X.resolve();return N.forEach(H=>{L=L.next(()=>A.getEntry(y,H)).next(Y=>{const F=p.docVersions.get(H);Yt(F!==null),Y.version.compareTo(F)<0&&(R.applyToRemoteDocument(Y,p),Y.isValidDocument()&&(Y.setReadTime(p.commitVersion),A.addEntry(Y)))})}),L.next(()=>g.mutationQueue.removeMutationBatch(y,R))}(i,a,t,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(g){let y=Ot();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(y=y.add(g.batch.mutations[p].key));return y}(t))).next(()=>i.localDocuments.getDocuments(a,o))})}function TE(r){const t=St(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Hr.getLastRemoteSnapshotVersion(i))}function Aw(r,t){const i=St(r),a=t.snapshotVersion;let o=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});o=i.Ts;const g=[];t.targetChanges.forEach((A,R)=>{const N=o.get(R);if(!N)return;g.push(i.Hr.removeMatchingKeys(h,A.removedDocuments,R).next(()=>i.Hr.addMatchingKeys(h,A.addedDocuments,R)));let L=N.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(R)!==null?L=L.withResumeToken(He.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):A.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(A.resumeToken,a)),o=o.insert(R,L),function(Y,F,W){return Y.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=_w?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(N,L,A)&&g.push(i.Hr.updateTargetData(h,L))});let y=Yi(),p=Ot();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push(bw(h,d,t.documentUpdates).next(A=>{y=A.Vs,p=A.fs})),!a.isEqual(Tt.min())){const A=i.Hr.getLastRemoteSnapshotVersion(h).next(R=>i.Hr.setTargetsMetadata(h,h.currentSequenceNumber,a));g.push(A)}return X.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,y,p)).next(()=>y)}).then(h=>(i.Ts=o,h))}function bw(r,t,i){let a=Ot(),o=Ot();return i.forEach(h=>a=a.add(h)),t.getEntries(r,a).next(h=>{let d=Yi();return i.forEach((g,y)=>{const p=h.get(g);y.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(Tt.min())?(t.removeEntry(g,y.readTime),d=d.insert(g,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(y),d=d.insert(g,y)):ot(Om,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",y.version)}),{Vs:d,fs:o}})}function Sw(r,t){const i=St(r);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(t===void 0&&(t=Em),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function ww(r,t){const i=St(r);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return i.Hr.getTargetData(a,t).next(h=>h?(o=h,X.resolve(o)):i.Hr.allocateTargetId(a).next(d=>(o=new Nr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Hr.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=i.Ts.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(a.targetId,a),i.Is.set(t,a.targetId)),a})}async function nm(r,t,i){const a=St(r),o=a.Ts.get(t),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,d=>a.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Ka(d))throw d;ot(Om,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ts=a.Ts.remove(t),a.Is.delete(o.target)}function mv(r,t,i){const a=St(r);let o=Tt.min(),h=Ot();return a.persistence.runTransaction("Execute query","readwrite",d=>function(y,p,A){const R=St(y),N=R.Is.get(A);return N!==void 0?X.resolve(R.Ts.get(N)):R.Hr.getTargetData(p,A)}(a,d,fi(t)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(d,g.targetId).next(y=>{h=y})}).next(()=>a.Ps.getDocumentsMatchingQuery(d,t,i?o:Tt.min(),i?h:Ot())).next(g=>(Rw(a,f2(t),g),{documents:g,gs:h})))}function Rw(r,t,i){let a=r.Es.get(t)||Tt.min();i.forEach((o,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),r.Es.set(t,a)}class gv{constructor(){this.activeTargetIds=_2()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Cw{constructor(){this.ho=new gv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,i,a){this.Po[t]=i}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new gv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="ConnectivityMonitor";class yv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ot(pv,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){ot(pv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ec=null;function im(){return Ec===null?Ec=function(){return 268435456+Math.round(2147483648*Math.random())}():Ec++,"0x"+Ec.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="RestConnection",Vw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xw{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+t.host,this.yo=`projects/${a}/databases/${o}`,this.wo=this.databaseId.database===Pc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}So(t,i,a,o,h){const d=im(),g=this.bo(t,i.toUriEncodedString());ot(Vd,`Sending RPC '${t}' ${d}:`,g,a);const y={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(y,o,h),this.vo(t,g,y,a).then(p=>(ot(Vd,`Received RPC '${t}' ${d}: `,p),p),p=>{throw Pa(Vd,`RPC '${t}' ${d} failed with error: `,p,"url: ",g,"request:",a),p})}Co(t,i,a,o,h,d){return this.So(t,i,a,o,h)}Do(t,i,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>t[h]=o),a&&a.headers.forEach((o,h)=>t[h]=o)}bo(t,i){const a=Vw[t];return`${this.po}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class Nw extends xw{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,i,a,o){const h=im();return new Promise((d,g)=>{const y=new S0;y.setWithCredentials(!0),y.listenOnce(w0.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Ac.NO_ERROR:const A=y.getResponseJson();ot(Ye,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(A)),d(A);break;case Ac.TIMEOUT:ot(Ye,`RPC '${t}' ${h} timed out`),g(new ct($.DEADLINE_EXCEEDED,"Request time out"));break;case Ac.HTTP_ERROR:const R=y.getStatus();if(ot(Ye,`RPC '${t}' ${h} failed with status:`,R,"response text:",y.getResponseText()),R>0){let N=y.getResponseJson();Array.isArray(N)&&(N=N[0]);const L=N==null?void 0:N.error;if(L&&L.status&&L.message){const H=function(F){const W=F.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(W)>=0?W:$.UNKNOWN}(L.status);g(new ct(H,L.message))}else g(new ct($.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ct($.UNAVAILABLE,"Connection failed."));break;default:Et()}}finally{ot(Ye,`RPC '${t}' ${h} completed.`)}});const p=JSON.stringify(o);ot(Ye,`RPC '${t}' ${h} sending request:`,o),y.send(i,"POST",p,a,15)})}Wo(t,i,a){const o=im(),h=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=D0(),g=C0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Do(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const A=h.join("");ot(Ye,`Creating RPC '${t}' stream ${o}: ${A}`,y);const R=d.createWebChannel(A,y);let N=!1,L=!1;const H=new Iw({Fo:F=>{L?ot(Ye,`Not sending because RPC '${t}' stream ${o} is closed:`,F):(N||(ot(Ye,`Opening RPC '${t}' stream ${o} transport.`),R.open(),N=!0),ot(Ye,`RPC '${t}' stream ${o} sending:`,F),R.send(F))},Mo:()=>R.close()}),Y=(F,W,rt)=>{F.listen(W,nt=>{try{rt(nt)}catch(dt){setTimeout(()=>{throw dt},0)}})};return Y(R,oo.EventType.OPEN,()=>{L||(ot(Ye,`RPC '${t}' stream ${o} transport opened.`),H.Qo())}),Y(R,oo.EventType.CLOSE,()=>{L||(L=!0,ot(Ye,`RPC '${t}' stream ${o} transport closed`),H.Uo())}),Y(R,oo.EventType.ERROR,F=>{L||(L=!0,Pa(Ye,`RPC '${t}' stream ${o} transport errored:`,F),H.Uo(new ct($.UNAVAILABLE,"The operation could not be completed")))}),Y(R,oo.EventType.MESSAGE,F=>{var W;if(!L){const rt=F.data[0];Yt(!!rt);const nt=rt,dt=(nt==null?void 0:nt.error)||((W=nt[0])===null||W===void 0?void 0:W.error);if(dt){ot(Ye,`RPC '${t}' stream ${o} received error:`,dt);const tt=dt.status;let _t=function(b){const D=ve[b];if(D!==void 0)return oE(D)}(tt),x=dt.message;_t===void 0&&(_t=$.INTERNAL,x="Unknown error status: "+tt+" with message "+dt.message),L=!0,H.Uo(new ct(_t,x)),R.close()}else ot(Ye,`RPC '${t}' stream ${o} received:`,rt),H.Ko(rt)}}),Y(g,R0.STAT_EVENT,F=>{F.stat===Fd.PROXY?ot(Ye,`RPC '${t}' stream ${o} detected buffering proxy`):F.stat===Fd.NOPROXY&&ot(Ye,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{H.$o()},0),H}}function xd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(r){return new z2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(t,i,a=1e3,o=1.5,h=6e4){this.Ti=t,this.timerId=i,this.Go=a,this.zo=o,this.jo=h,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const i=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-a);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="PersistentStream";class bE{constructor(t,i,a,o,h,d,g,y){this.Ti=t,this.n_=a,this.r_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new AE(t,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(Qi(i.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.i_===i&&this.V_(a,o)},a=>{t(()=>{const o=new ct($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(o)})})}V_(t,i){const a=this.R_(this.i_);this.stream=this.f_(t,i),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{a(()=>this.m_(o))}),this.stream.onMessage(o=>{a(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return ot(_v,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return i=>{this.Ti.enqueueAndForget(()=>this.i_===t?i():(ot(_v,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ow extends bE{constructor(t,i,a,o,h,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}f_(t,i){return this.connection.Wo("Listen",t,i)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const i=j2(this.serializer,t),a=function(h){if(!("targetChange"in h))return Tt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?di(d.readTime):Tt.min()}(t);return this.listener.p_(i,a)}y_(t){const i={};i.database=em(this.serializer),i.addTarget=function(h,d){let g;const y=d.target;if(g=Xd(y)?{documents:q2(h,y)}:{query:H2(h,y).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=hE(h,d.resumeToken);const p=Jd(h,d.expectedCount);p!==null&&(g.expectedCount=p)}else if(d.snapshotVersion.compareTo(Tt.min())>0){g.readTime=qc(h,d.snapshotVersion.toTimestamp());const p=Jd(h,d.expectedCount);p!==null&&(g.expectedCount=p)}return g}(this.serializer,t);const a=G2(this.serializer,t);a&&(i.labels=a),this.I_(i)}w_(t){const i={};i.database=em(this.serializer),i.removeTarget=t,this.I_(i)}}class Mw extends bE{constructor(t,i,a,o,h,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,i){return this.connection.Wo("Write",t,i)}g_(t){return Yt(!!t.streamToken),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Yt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const i=B2(t.writeResults,t.commitTime),a=di(t.commitTime);return this.listener.v_(a,i)}C_(){const t={};t.database=em(this.serializer),this.I_(t)}b_(t){const i={streamToken:this.lastStreamToken,writes:t.map(a=>k2(this.serializer,a))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{}class zw extends Uw{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ct($.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,i,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.So(t,Wd(i,a),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ct($.UNKNOWN,h.toString())})}Co(t,i,a,o,h){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(t,Wd(i,a),o,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct($.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Pw{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Qi(i),this.N_=!1):ot("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="RemoteStore";class Lw{constructor(t,i,a,o,h){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=h,this.z_.To(d=>{a.enqueueAndForget(async()=>{zs(this)&&(ot(Is,"Restarting streams for network reachability change."),await async function(y){const p=St(y);p.W_.add(4),await Ho(p),p.j_.set("Unknown"),p.W_.delete(4),await lh(p)}(this))})}),this.j_=new Pw(a,o)}}async function lh(r){if(zs(r))for(const t of r.G_)await t(!0)}async function Ho(r){for(const t of r.G_)await t(!1)}function SE(r,t){const i=St(r);i.K_.has(t.targetId)||(i.K_.set(t.targetId,t),Pm(i)?zm(i):$a(i).c_()&&Um(i,t))}function Mm(r,t){const i=St(r),a=$a(i);i.K_.delete(t),a.c_()&&wE(i,t),i.K_.size===0&&(a.c_()?a.P_():zs(i)&&i.j_.set("Unknown"))}function Um(r,t){if(r.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}$a(r).y_(t)}function wE(r,t){r.H_.Ne(t),$a(r).w_(t)}function zm(r){r.H_=new N2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>r.K_.get(t)||null,it:()=>r.datastore.serializer.databaseId}),$a(r).start(),r.j_.B_()}function Pm(r){return zs(r)&&!$a(r).u_()&&r.K_.size>0}function zs(r){return St(r).W_.size===0}function RE(r){r.H_=void 0}async function jw(r){r.j_.set("Online")}async function kw(r){r.K_.forEach((t,i)=>{Um(r,t)})}async function Bw(r,t){RE(r),Pm(r)?(r.j_.q_(t),zm(r)):r.j_.set("Unknown")}async function qw(r,t,i){if(r.j_.set("Online"),t instanceof cE&&t.state===2&&t.cause)try{await async function(o,h){const d=h.cause;for(const g of h.targetIds)o.K_.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.K_.delete(g),o.H_.removeTarget(g))}(r,t)}catch(a){ot(Is,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Fc(r,a)}else if(t instanceof Rc?r.H_.We(t):t instanceof uE?r.H_.Ze(t):r.H_.je(t),!i.isEqual(Tt.min()))try{const a=await TE(r.localStore);i.compareTo(a)>=0&&await function(h,d){const g=h.H_.ot(d);return g.targetChanges.forEach((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const A=h.K_.get(p);A&&h.K_.set(p,A.withResumeToken(y.resumeToken,d))}}),g.targetMismatches.forEach((y,p)=>{const A=h.K_.get(y);if(!A)return;h.K_.set(y,A.withResumeToken(He.EMPTY_BYTE_STRING,A.snapshotVersion)),wE(h,y);const R=new Nr(A.target,y,p,A.sequenceNumber);Um(h,R)}),h.remoteSyncer.applyRemoteEvent(g)}(r,i)}catch(a){ot(Is,"Failed to raise snapshot:",a),await Fc(r,a)}}async function Fc(r,t,i){if(!Ka(t))throw t;r.W_.add(1),await Ho(r),r.j_.set("Offline"),i||(i=()=>TE(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ot(Is,"Retrying IndexedDB access"),await i(),r.W_.delete(1),await lh(r)})}function CE(r,t){return t().catch(i=>Fc(r,i,t))}async function oh(r){const t=St(r),i=Fr(t);let a=t.U_.length>0?t.U_[t.U_.length-1].batchId:Em;for(;Hw(t);)try{const o=await Sw(t.localStore,a);if(o===null){t.U_.length===0&&i.P_();break}a=o.batchId,Fw(t,o)}catch(o){await Fc(t,o)}DE(t)&&VE(t)}function Hw(r){return zs(r)&&r.U_.length<10}function Fw(r,t){r.U_.push(t);const i=Fr(r);i.c_()&&i.S_&&i.b_(t.mutations)}function DE(r){return zs(r)&&!Fr(r).u_()&&r.U_.length>0}function VE(r){Fr(r).start()}async function Gw(r){Fr(r).C_()}async function Qw(r){const t=Fr(r);for(const i of r.U_)t.b_(i.mutations)}async function Yw(r,t,i){const a=r.U_.shift(),o=Cm.from(a,t,i);await CE(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await oh(r)}async function Kw(r,t){t&&Fr(r).S_&&await async function(a,o){if(function(d){return x2(d)&&d!==$.ABORTED}(o.code)){const h=a.U_.shift();Fr(a).h_(),await CE(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,o)),await oh(a)}}(r,t),DE(r)&&VE(r)}async function vv(r,t){const i=St(r);i.asyncQueue.verifyOperationInProgress(),ot(Is,"RemoteStore received new credentials");const a=zs(i);i.W_.add(3),await Ho(i),a&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.W_.delete(3),await lh(i)}async function Xw(r,t){const i=St(r);t?(i.W_.delete(2),await lh(i)):t||(i.W_.add(2),await Ho(i),i.j_.set("Unknown"))}function $a(r){return r.J_||(r.J_=function(i,a,o){const h=St(i);return h.M_(),new Ow(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(r.datastore,r.asyncQueue,{xo:jw.bind(null,r),No:kw.bind(null,r),Lo:Bw.bind(null,r),p_:qw.bind(null,r)}),r.G_.push(async t=>{t?(r.J_.h_(),Pm(r)?zm(r):r.j_.set("Unknown")):(await r.J_.stop(),RE(r))})),r.J_}function Fr(r){return r.Y_||(r.Y_=function(i,a,o){const h=St(i);return h.M_(),new Mw(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:Gw.bind(null,r),Lo:Kw.bind(null,r),D_:Qw.bind(null,r),v_:Yw.bind(null,r)}),r.G_.push(async t=>{t?(r.Y_.h_(),await oh(r)):(await r.Y_.stop(),r.U_.length>0&&(ot(Is,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(t,i,a,o,h){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=h,this.deferred=new Ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,h){const d=Date.now()+a,g=new Lm(t,i,d,o,h);return g.start(a),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jm(r,t){if(Qi("AsyncQueue",`${t}: ${r}`),Ka(r))return new ct($.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{static emptySet(t){return new Ma(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||pt.comparator(i.key,a.key):(i,a)=>pt.comparator(i.key,a.key),this.keyedMap=uo(),this.sortedSet=new re(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,a)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ma)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ma;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(){this.Z_=new re(pt.comparator)}track(t){const i=t.doc.key,a=this.Z_.get(i);a?t.type!==0&&a.type===3?this.Z_=this.Z_.insert(i,t):t.type===3&&a.type!==1?this.Z_=this.Z_.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.Z_=this.Z_.remove(i):t.type===1&&a.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:t.doc}):Et():this.Z_=this.Z_.insert(i,t)}X_(){const t=[];return this.Z_.inorderTraversal((i,a)=>{t.push(a)}),t}}class qa{constructor(t,i,a,o,h,d,g,y,p){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(t,i,a,o,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new qa(t,i,Ma.emptySet(i),d,a,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&eh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class Zw{constructor(){this.queries=Tv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,a){const o=St(i),h=o.queries;o.queries=Tv(),h.forEach((d,g)=>{for(const y of g.ta)y.onError(a)})})(this,new ct($.ABORTED,"Firestore shutting down"))}}function Tv(){return new Ms(r=>X0(r),eh)}async function Jw(r,t){const i=St(r);let a=3;const o=t.query;let h=i.queries.get(o);h?!h.na()&&t.ra()&&(a=2):(h=new $w,a=t.ra()?0:1);try{switch(a){case 0:h.ea=await i.onListen(o,!0);break;case 1:h.ea=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=jm(d,`Initialization of query '${xa(t.query)}' failed`);return void t.onError(g)}i.queries.set(o,h),h.ta.push(t),t.sa(i.onlineState),h.ea&&t.oa(h.ea)&&km(i)}async function Ww(r,t){const i=St(r),a=t.query;let o=3;const h=i.queries.get(a);if(h){const d=h.ta.indexOf(t);d>=0&&(h.ta.splice(d,1),h.ta.length===0?o=t.ra()?0:1:!h.na()&&t.ra()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function tR(r,t){const i=St(r);let a=!1;for(const o of t){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.ta)g.oa(o)&&(a=!0);d.ea=o}}a&&km(i)}function eR(r,t,i){const a=St(r),o=a.queries.get(t);if(o)for(const h of o.ta)h.onError(i);a.queries.delete(t)}function km(r){r.ia.forEach(t=>{t.next()})}var rm,Av;(Av=rm||(rm={}))._a="default",Av.Cache="cache";class nR{constructor(t,i,a){this.query=t,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new qa(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.ua?this.la(t)&&(this.aa.next(t),i=!0):this.ha(t,this.onlineState)&&(this.Pa(t),i=!0),this.ca=t,i}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),i=!0),i}ha(t,i){if(!t.fromCache||!this.ra())return!0;const a=i!=="Offline";return(!this.options.Ta||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}la(t){if(t.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(t){t=qa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==rm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(t){this.key=t}}class IE{constructor(t){this.key=t}}class iR{constructor(t,i){this.query=t,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ot(),this.mutatedKeys=Ot(),this.ya=$0(t),this.wa=new Ma(this.ya)}get Sa(){return this.fa}ba(t,i){const a=i?i.Da:new Ev,o=i?i.wa:this.wa;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((A,R)=>{const N=o.get(A),L=nh(this.query,R)?R:null,H=!!N&&this.mutatedKeys.has(N.key),Y=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let F=!1;N&&L?N.data.isEqual(L.data)?H!==Y&&(a.track({type:3,doc:L}),F=!0):this.va(N,L)||(a.track({type:2,doc:L}),F=!0,(y&&this.ya(L,y)>0||p&&this.ya(L,p)<0)&&(g=!0)):!N&&L?(a.track({type:0,doc:L}),F=!0):N&&!L&&(a.track({type:1,doc:N}),F=!0,(y||p)&&(g=!0)),F&&(L?(d=d.add(L),h=Y?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{wa:d,Da:a,ls:g,mutatedKeys:h}}va(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const h=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const d=t.Da.X_();d.sort((A,R)=>function(L,H){const Y=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et()}};return Y(L)-Y(H)}(A.type,R.type)||this.ya(A.doc,R.doc)),this.Ca(a),o=o!=null&&o;const g=i&&!o?this.Fa():[],y=this.pa.size===0&&this.current&&!o?1:0,p=y!==this.ga;return this.ga=y,d.length!==0||p?{snapshot:new qa(this.query,t.wa,h,d,t.mutatedKeys,y===0,p,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Ev,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Ot(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const i=[];return t.forEach(a=>{this.pa.has(a)||i.push(new IE(a))}),this.pa.forEach(a=>{t.has(a)||i.push(new xE(a))}),i}Oa(t){this.fa=t.gs,this.pa=Ot();const i=this.ba(t.documents);return this.applyChanges(i,!0)}Na(){return qa.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Bm="SyncEngine";class rR{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class sR{constructor(t){this.key=t,this.Ba=!1}}class aR{constructor(t,i,a,o,h,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new Ms(g=>X0(g),eh),this.qa=new Map,this.Qa=new Set,this.$a=new re(pt.comparator),this.Ua=new Map,this.Ka=new xm,this.Wa={},this.Ga=new Map,this.za=Ba.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function lR(r,t,i=!0){const a=PE(r);let o;const h=a.ka.get(t);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.Na()):o=await NE(a,t,i,!0),o}async function oR(r,t){const i=PE(r);await NE(i,t,!0,!1)}async function NE(r,t,i,a){const o=await ww(r.localStore,fi(t)),h=o.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let g;return a&&(g=await uR(r,t,h,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&SE(r.remoteStore,o),g}async function uR(r,t,i,a,o){r.Ha=(R,N,L)=>async function(Y,F,W,rt){let nt=F.view.ba(W);nt.ls&&(nt=await mv(Y.localStore,F.query,!1).then(({documents:x})=>F.view.ba(x,nt)));const dt=rt&&rt.targetChanges.get(F.targetId),tt=rt&&rt.targetMismatches.get(F.targetId)!=null,_t=F.view.applyChanges(nt,Y.isPrimaryClient,dt,tt);return Sv(Y,F.targetId,_t.Ma),_t.snapshot}(r,R,N,L);const h=await mv(r.localStore,t,!0),d=new iR(t,h.gs),g=d.ba(h.documents),y=qo.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),p=d.applyChanges(g,r.isPrimaryClient,y);Sv(r,i,p.Ma);const A=new rR(t,i,d);return r.ka.set(t,A),r.qa.has(i)?r.qa.get(i).push(t):r.qa.set(i,[t]),p.snapshot}async function cR(r,t,i){const a=St(r),o=a.ka.get(t),h=a.qa.get(o.targetId);if(h.length>1)return a.qa.set(o.targetId,h.filter(d=>!eh(d,t))),void a.ka.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await nm(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Mm(a.remoteStore,o.targetId),sm(a,o.targetId)}).catch(Ya)):(sm(a,o.targetId),await nm(a.localStore,o.targetId,!0))}async function hR(r,t){const i=St(r),a=i.ka.get(t),o=i.qa.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Mm(i.remoteStore,a.targetId))}async function fR(r,t,i){const a=vR(r);try{const o=await function(d,g){const y=St(d),p=Te.now(),A=g.reduce((L,H)=>L.add(H.key),Ot());let R,N;return y.persistence.runTransaction("Locally write mutations","readwrite",L=>{let H=Yi(),Y=Ot();return y.ds.getEntries(L,A).next(F=>{H=F,H.forEach((W,rt)=>{rt.isValidDocument()||(Y=Y.add(W))})}).next(()=>y.localDocuments.getOverlayedDocuments(L,H)).next(F=>{R=F;const W=[];for(const rt of g){const nt=w2(rt,R.get(rt.key).overlayedDocument);nt!=null&&W.push(new Us(rt.key,nt,B0(nt.value.mapValue),Fi.exists(!0)))}return y.mutationQueue.addMutationBatch(L,p,W,g)}).next(F=>{N=F;const W=F.applyToLocalDocumentSet(R,Y);return y.documentOverlayCache.saveOverlays(L,F.batchId,W)})}).then(()=>({batchId:N.batchId,changes:J0(R)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),function(d,g,y){let p=d.Wa[d.currentUser.toKey()];p||(p=new re(xt)),p=p.insert(g,y),d.Wa[d.currentUser.toKey()]=p}(a,o.batchId,i),await Fo(a,o.changes),await oh(a.remoteStore)}catch(o){const h=jm(o,"Failed to persist write");i.reject(h)}}async function OE(r,t){const i=St(r);try{const a=await Aw(i.localStore,t);t.targetChanges.forEach((o,h)=>{const d=i.Ua.get(h);d&&(Yt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Ba=!0:o.modifiedDocuments.size>0?Yt(d.Ba):o.removedDocuments.size>0&&(Yt(d.Ba),d.Ba=!1))}),await Fo(i,a,t)}catch(a){await Ya(a)}}function bv(r,t,i){const a=St(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.ka.forEach((h,d)=>{const g=d.view.sa(t);g.snapshot&&o.push(g.snapshot)}),function(d,g){const y=St(d);y.onlineState=g;let p=!1;y.queries.forEach((A,R)=>{for(const N of R.ta)N.sa(g)&&(p=!0)}),p&&km(y)}(a.eventManager,t),o.length&&a.La.p_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function dR(r,t,i){const a=St(r);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a.Ua.get(t),h=o&&o.key;if(h){let d=new re(pt.comparator);d=d.insert(h,Xe.newNoDocument(h,Tt.min()));const g=Ot().add(h),y=new sh(Tt.min(),new Map,new re(xt),d,g);await OE(a,y),a.$a=a.$a.remove(h),a.Ua.delete(t),qm(a)}else await nm(a.localStore,t,!1).then(()=>sm(a,t,i)).catch(Ya)}async function mR(r,t){const i=St(r),a=t.batch.batchId;try{const o=await Tw(i.localStore,t);UE(i,a,null),ME(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Fo(i,o)}catch(o){await Ya(o)}}async function gR(r,t,i){const a=St(r);try{const o=await function(d,g){const y=St(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let A;return y.mutationQueue.lookupMutationBatch(p,g).next(R=>(Yt(R!==null),A=R.keys(),y.mutationQueue.removeMutationBatch(p,R))).next(()=>y.mutationQueue.performConsistencyCheck(p)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(p,A,g)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,A)).next(()=>y.localDocuments.getDocuments(p,A))})}(a.localStore,t);UE(a,t,i),ME(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Fo(a,o)}catch(o){await Ya(o)}}function ME(r,t){(r.Ga.get(t)||[]).forEach(i=>{i.resolve()}),r.Ga.delete(t)}function UE(r,t,i){const a=St(r);let o=a.Wa[a.currentUser.toKey()];if(o){const h=o.get(t);h&&(i?h.reject(i):h.resolve(),o=o.remove(t)),a.Wa[a.currentUser.toKey()]=o}}function sm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.qa.get(t))r.ka.delete(a),i&&r.La.Ja(a,i);r.qa.delete(t),r.isPrimaryClient&&r.Ka.br(t).forEach(a=>{r.Ka.containsKey(a)||zE(r,a)})}function zE(r,t){r.Qa.delete(t.path.canonicalString());const i=r.$a.get(t);i!==null&&(Mm(r.remoteStore,i),r.$a=r.$a.remove(t),r.Ua.delete(i),qm(r))}function Sv(r,t,i){for(const a of i)a instanceof xE?(r.Ka.addReference(a.key,t),pR(r,a)):a instanceof IE?(ot(Bm,"Document no longer in limbo: "+a.key),r.Ka.removeReference(a.key,t),r.Ka.containsKey(a.key)||zE(r,a.key)):Et()}function pR(r,t){const i=t.key,a=i.path.canonicalString();r.$a.get(i)||r.Qa.has(a)||(ot(Bm,"New document in limbo: "+i),r.Qa.add(a),qm(r))}function qm(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const t=r.Qa.values().next().value;r.Qa.delete(t);const i=new pt(te.fromString(t)),a=r.za.next();r.Ua.set(a,new sR(i)),r.$a=r.$a.insert(i,a),SE(r.remoteStore,new Nr(fi(wm(i.path)),a,"TargetPurposeLimboResolution",Jc.ae))}}async function Fo(r,t,i){const a=St(r),o=[],h=[],d=[];a.ka.isEmpty()||(a.ka.forEach((g,y)=>{d.push(a.Ha(y,t,i).then(p=>{var A;if((p||i)&&a.isPrimaryClient){const R=p?!p.fromCache:(A=i==null?void 0:i.targetChanges.get(y.targetId))===null||A===void 0?void 0:A.current;a.sharedClientState.updateQueryState(y.targetId,R?"current":"not-current")}if(p){o.push(p);const R=Nm.Yi(y.targetId,p);h.push(R)}}))}),await Promise.all(d),a.La.p_(o),await async function(y,p){const A=St(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>X.forEach(p,N=>X.forEach(N.Hi,L=>A.persistence.referenceDelegate.addReference(R,N.targetId,L)).next(()=>X.forEach(N.Ji,L=>A.persistence.referenceDelegate.removeReference(R,N.targetId,L)))))}catch(R){if(!Ka(R))throw R;ot(Om,"Failed to update sequence numbers: "+R)}for(const R of p){const N=R.targetId;if(!R.fromCache){const L=A.Ts.get(N),H=L.snapshotVersion,Y=L.withLastLimboFreeSnapshotVersion(H);A.Ts=A.Ts.insert(N,Y)}}}(a.localStore,h))}async function yR(r,t){const i=St(r);if(!i.currentUser.isEqual(t)){ot(Bm,"User change. New user:",t.toKey());const a=await EE(i.localStore,t);i.currentUser=t,function(h,d){h.Ga.forEach(g=>{g.forEach(y=>{y.reject(new ct($.CANCELLED,d))})}),h.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Fo(i,a.Rs)}}function _R(r,t){const i=St(r),a=i.Ua.get(t);if(a&&a.Ba)return Ot().add(a.key);{let o=Ot();const h=i.qa.get(t);if(!h)return o;for(const d of h){const g=i.ka.get(d);o=o.unionWith(g.view.Sa)}return o}}function PE(r){const t=St(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=OE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_R.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=dR.bind(null,t),t.La.p_=tR.bind(null,t.eventManager),t.La.Ja=eR.bind(null,t.eventManager),t}function vR(r){const t=St(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=mR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=gR.bind(null,t),t}class Gc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ah(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,i){return null}nu(t,i){return null}eu(t){return Ew(this.persistence,new yw,t.initialUser,this.serializer)}Xa(t){return new vE(Im.ri,this.serializer)}Za(t){return new Cw}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gc.provider={build:()=>new Gc};class ER extends Gc{constructor(t){super(),this.cacheSizeBytes=t}tu(t,i){Yt(this.persistence.referenceDelegate instanceof Hc);const a=this.persistence.referenceDelegate.garbageCollector;return new nw(a,t.asyncQueue,i)}Xa(t){const i=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new vE(a=>Hc.ri(a,i),this.serializer)}}class am{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>bv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=yR.bind(null,this.syncEngine),await Xw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Zw}()}createDatastore(t){const i=ah(t.databaseInfo.databaseId),a=function(h){return new Nw(h)}(t.databaseInfo);return function(h,d,g,y){return new zw(h,d,g,y)}(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return function(a,o,h,d,g){return new Lw(a,o,h,d,g)}(this.localStore,this.datastore,t.asyncQueue,i=>bv(this.syncEngine,i,0),function(){return yv.D()?new yv:new Dw}())}createSyncEngine(t,i){return function(o,h,d,g,y,p,A){const R=new aR(o,h,d,g,y,p);return A&&(R.ja=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(o){const h=St(o);ot(Is,"RemoteStore shutting down."),h.W_.add(5),await Ho(h),h.z_.shutdown(),h.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}am.provider={build:()=>new am};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Qi("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr="FirestoreClient";class AR{constructor(t,i,a,o,h){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=Ke.UNAUTHENTICATED,this.clientId=I0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{ot(Gr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(ot(Gr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=jm(i,"Failed to shutdown persistence");t.reject(a)}}),t.promise}}async function Id(r,t){r.asyncQueue.verifyOperationInProgress(),ot(Gr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener(async o=>{a.isEqual(o)||(await EE(t.localStore,o),a=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function wv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await bR(r);ot(Gr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener(a=>vv(t.remoteStore,a)),r.setAppCheckTokenChangeListener((a,o)=>vv(t.remoteStore,o)),r._onlineComponents=t}async function bR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(Gr,"Using user provided OfflineComponentProvider");try{await Id(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Pa("Error using user provided cache. Falling back to memory cache: "+i),await Id(r,new Gc)}}else ot(Gr,"Using default OfflineComponentProvider"),await Id(r,new ER(void 0));return r._offlineComponents}async function LE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(Gr,"Using user provided OnlineComponentProvider"),await wv(r,r._uninitializedComponentsProvider._online)):(ot(Gr,"Using default OnlineComponentProvider"),await wv(r,new am))),r._onlineComponents}function SR(r){return LE(r).then(t=>t.syncEngine)}async function Rv(r){const t=await LE(r),i=t.eventManager;return i.onListen=lR.bind(null,t.syncEngine),i.onUnlisten=cR.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=oR.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=hR.bind(null,t.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(r,t,i){if(!i)throw new ct($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function wR(r,t,i,a){if(t===!0&&a===!0)throw new ct($.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Dv(r){if(!pt.isDocumentKey(r))throw new ct($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Vv(r){if(pt.isDocumentKey(r))throw new ct($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function uh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(a){return a.constructor?a.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Et()}function _o(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ct($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=uh(r);throw new ct($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="firestore.googleapis.com",xv=!0;class Iv{constructor(t){var i,a;if(t.host===void 0){if(t.ssl!==void 0)throw new ct($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BE,this.ssl=xv}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:xv;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=_E;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<tw)throw new ct($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}wR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jE((a=t.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new ct($.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ct($.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ct($.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ch{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Iv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Iv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new IS;switch(a.type){case"firstParty":return new US(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ct($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=Cv.get(i);a&&(ot("ComponentProvider","Removing Datastore"),Cv.delete(i),a.terminate())}(this),Promise.resolve()}}function RR(r,t,i,a={}){var o;const h=(r=_o(r,ch))._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:r._getEmulatorOptions()}),g=`${t}:${i}`;h.host!==BE&&h.host!==g&&Pa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},h),{host:g,ssl:!1,emulatorOptions:a});if(!Oc(y,d)&&(r._setSettings(y),a.mockUserToken)){let p,A;if(typeof a.mockUserToken=="string")p=a.mockUserToken,A=Ke.MOCK_USER;else{p=ob(a.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const R=a.mockUserToken.sub||a.mockUserToken.user_id;if(!R)throw new ct($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ke(R)}r._authCredentials=new NS(new V0(p,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Ps(this.firestore,t,this._query)}}class pn{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new pn(this.firestore,t,this._key)}}class Lr extends Ps{constructor(t,i,a){super(t,i,wm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new pn(this.firestore,null,new pt(t))}withConverter(t){return new Lr(this.firestore,t,this._path)}}function qE(r,t,...i){if(r=Vs(r),kE("collection","path",t),r instanceof ch){const a=te.fromString(t,...i);return Vv(a),new Lr(r,null,a)}{if(!(r instanceof pn||r instanceof Lr))throw new ct($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(te.fromString(t,...i));return Vv(a),new Lr(r.firestore,null,a)}}function CR(r,t,...i){if(r=Vs(r),arguments.length===1&&(t=I0.newId()),kE("doc","path",t),r instanceof ch){const a=te.fromString(t,...i);return Dv(a),new pn(r,null,new pt(a))}{if(!(r instanceof pn||r instanceof Lr))throw new ct($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(te.fromString(t,...i));return Dv(a),new pn(r.firestore,r instanceof Lr?r.converter:null,new pt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="AsyncQueue";class Ov{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new AE(this,"async_queue_retry"),this.Su=()=>{const a=xd();a&&ot(Nv,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.bu=t;const i=xd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const i=xd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Ds;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Ka(t))throw t;ot(Nv,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const i=this.bu.then(()=>(this.pu=!0,t().catch(a=>{this.gu=a,this.pu=!1;const o=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(a);throw Qi("INTERNAL UNHANDLED ERROR: ",o),a}).then(a=>(this.pu=!1,a))));return this.bu=i,i}enqueueAfterDelay(t,i,a){this.Du(),this.wu.indexOf(t)>-1&&(i=0);const o=Lm.createAndSchedule(this,t,i,a,h=>this.Fu(h));return this.fu.push(o),o}Du(){this.gu&&Et()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const i of this.fu)if(i.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const i=this.fu.indexOf(t);this.fu.splice(i,1)}}function Mv(r){return function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of a)if(h in o&&typeof o[h]=="function")return!0;return!1}(r,["next","error","complete"])}class Qc extends ch{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new Ov,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Ov(t),this._firestoreClient=void 0,await t}}}function DR(r,t){const i=typeof r=="object"?r:_S(),a=typeof r=="string"?r:Pc,o=dS(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const h=ab("firestore");h&&RR(o,...h)}return o}function HE(r){if(r._terminated)throw new ct($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||VR(r),r._firestoreClient}function VR(r){var t,i,a;const o=r._freezeSettings(),h=function(g,y,p,A){return new $S(g,y,p,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,jE(A.experimentalLongPollingOptions),A.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new AR(r._authCredentials,r._appCheckCredentials,r._queue,h,r._componentsProvider&&function(g){const y=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(y),_online:y}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ha(He.fromBase64String(t))}catch(i){throw new ct($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Ha(He.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ct($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ct($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ct($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return xt(this._lat,t._lat)||xt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(a,o){if(a.length!==o.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==o[h])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=/^__.*__$/;class IR{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Us(t,this.data,this.fieldMask,i,this.fieldTransforms):new Bo(t,this.data,i,this.fieldTransforms)}}function GE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et()}}class Qm{constructor(t,i,a,o,h,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,h===void 0&&this.Bu(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Qm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.ku({path:a,Qu:!1});return o.$u(t),o}Uu(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.ku({path:a,Qu:!1});return o.Bu(),o}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return Yc(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(GE(this.Lu)&&xR.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class NR{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||ah(t)}ju(t,i,a,o=!1){return new Qm({Lu:t,methodName:i,zu:a,path:qe.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function QE(r){const t=r._freezeSettings(),i=ah(r._databaseId);return new NR(r._databaseId,!!t.ignoreUndefinedProperties,i)}function OR(r,t,i,a,o,h={}){const d=r.ju(h.merge||h.mergeFields?2:0,t,i,o);XE("Data must be an object, but it was:",d,a);const g=YE(a,d);let y,p;if(h.merge)y=new Fn(d.fieldMask),p=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const R of h.mergeFields){const N=UR(t,R,i);if(!d.contains(N))throw new ct($.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);PR(A,N)||A.push(N)}y=new Fn(A),p=d.fieldTransforms.filter(R=>y.covers(R.field))}else y=null,p=d.fieldTransforms;return new IR(new Un(g),y,p)}function MR(r,t,i,a=!1){return Ym(i,r.ju(a?4:3,t))}function Ym(r,t){if(KE(r=Vs(r)))return XE("Unsupported field value:",t,r),YE(r,t);if(r instanceof FE)return function(a,o){if(!GE(o.Lu))throw o.Wu(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(a,o){const h=[];let d=0;for(const g of a){let y=Ym(g,o.Ku(d));y==null&&(y={nullValue:"NULL_VALUE"}),h.push(y),d++}return{arrayValue:{values:h}}}(r,t)}return function(a,o){if((a=Vs(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return v2(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=Te.fromDate(a);return{timestampValue:qc(o.serializer,h)}}if(a instanceof Te){const h=new Te(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:qc(o.serializer,h)}}if(a instanceof Fm)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Ha)return{bytesValue:hE(o.serializer,a._byteString)};if(a instanceof pn){const h=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw o.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Vm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Gm)return function(d,g){return{mapValue:{fields:{[j0]:{stringValue:k0},[Lc]:{arrayValue:{values:d.toArray().map(p=>{if(typeof p!="number")throw g.Wu("VectorValues must only contain numeric values.");return Rm(g.serializer,p)})}}}}}}(a,o);throw o.Wu(`Unsupported field value: ${uh(a)}`)}(r,t)}function YE(r,t){const i={};return O0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Os(r,(a,o)=>{const h=Ym(o,t.qu(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function KE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Te||r instanceof Fm||r instanceof Ha||r instanceof pn||r instanceof FE||r instanceof Gm)}function XE(r,t,i){if(!KE(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const a=uh(i);throw a==="an object"?t.Wu(r+" a custom object"):t.Wu(r+" "+a)}}function UR(r,t,i){if((t=Vs(t))instanceof Hm)return t._internalPath;if(typeof t=="string")return $E(r,t);throw Yc("Field path arguments must be of type string or ",r,!1,void 0,i)}const zR=new RegExp("[~\\*/\\[\\]]");function $E(r,t,i){if(t.search(zR)>=0)throw Yc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Hm(...t.split("."))._internalPath}catch{throw Yc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Yc(r,t,i,a,o){const h=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(h||d)&&(y+=" (found",h&&(y+=` in field ${a}`),d&&(y+=` in document ${o}`),y+=")"),new ct($.INVALID_ARGUMENT,g+r+y)}function PR(r,t){return r.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(t,i,a,o,h){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new LR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Km("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class LR extends ZE{data(){return super.data()}}function Km(r,t){return typeof t=="string"?$E(r,t):t instanceof Hm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ct($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xm{}class JE extends Xm{}function kR(r,t,...i){let a=[];t instanceof Xm&&a.push(t),a=a.concat(i),function(h){const d=h.filter(y=>y instanceof Zm).length,g=h.filter(y=>y instanceof $m).length;if(d>1||d>0&&g>0)throw new ct($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)r=o._apply(r);return r}class $m extends JE{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new $m(t,i,a)}_apply(t){const i=this._parse(t);return WE(t._query,i),new Ps(t.firestore,t.converter,$d(t._query,i))}_parse(t){const i=QE(t.firestore);return function(h,d,g,y,p,A,R){let N;if(p.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new ct($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){zv(R,A);const H=[];for(const Y of R)H.push(Uv(y,h,Y));N={arrayValue:{values:H}}}else N=Uv(y,h,R)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||zv(R,A),N=MR(g,d,R,A==="in"||A==="not-in");return Ee.create(p,A,N)}(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class Zm extends Xm{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Zm(t,i)}_parse(t){const i=this._queryConstraints.map(a=>a._parse(t)).filter(a=>a.getFilters().length>0);return i.length===1?i[0]:Qn.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:(function(o,h){let d=o;const g=h.getFlattenedFilters();for(const y of g)WE(d,y),d=$d(d,y)}(t._query,i),new Ps(t.firestore,t.converter,$d(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Jm extends JE{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new Jm(t,i)}_apply(t){const i=function(o,h,d){if(o.startAt!==null)throw new ct($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ct($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Vo(h,d)}(t._query,this._field,this._direction);return new Ps(t.firestore,t.converter,function(o,h){const d=o.explicitOrderBy.concat([h]);return new Xa(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(t._query,i))}}function BR(r,t="asc"){const i=t,a=Km("orderBy",r);return Jm._create(a,i)}function Uv(r,t,i){if(typeof(i=Vs(i))=="string"){if(i==="")throw new ct($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!K0(t)&&i.indexOf("/")!==-1)throw new ct($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(te.fromString(i));if(!pt.isDocumentKey(a))throw new ct($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return X_(r,new pt(a))}if(i instanceof pn)return X_(r,i._key);throw new ct($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uh(i)}.`)}function zv(r,t){if(!Array.isArray(r)||r.length===0)throw new ct($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function WE(r,t){const i=function(o,h){for(const d of o)for(const g of d.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(i!==null)throw i===t.op?new ct($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ct($.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class qR{convertValue(t,i="none"){switch(Hr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return de(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(qr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Et()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Os(t,(o,h)=>{a[o]=this.convertValue(h,i)}),a}convertVectorValue(t){var i,a,o;const h=(o=(a=(i=t.fields)===null||i===void 0?void 0:i[Lc].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(d=>de(d.doubleValue));return new Gm(h)}convertGeoPoint(t){return new Fm(de(t.latitude),de(t.longitude))}convertArray(t,i){return(t.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(t,i){switch(i){case"previous":const a=th(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ro(t));default:return null}}convertTimestamp(t){const i=Br(t);return new Te(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=te.fromString(t);Yt(yE(a));const o=new Co(a.get(1),a.get(3)),h=new pt(a.popFirst(5));return o.isEqual(i)||Qi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(r,t,i){let a;return a=r?r.toFirestore(t):t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class tT extends ZE{constructor(t,i,a,o,h,d){super(t,i,a,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Cc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(Km("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class Cc extends tT{data(t={}){return super.data(t)}}class FR{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new ho(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(a=>{t.call(i,new Cc(this._firestore,this._userDataWriter,a.key,a,new ho(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const y=new Cc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new ho(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const y=new Cc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new ho(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,A=-1;return g.type!==0&&(p=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:GR(g.type),doc:y,oldIndex:p,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function GR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et()}}class eT extends qR{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ha(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new pn(this.firestore,null,i)}}function QR(r,t){const i=_o(r.firestore,Qc),a=CR(r),o=HR(r.converter,t);return KR(i,[OR(QE(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,Fi.exists(!1))]).then(()=>a)}function YR(r,...t){var i,a,o;r=Vs(r);let h={includeMetadataChanges:!1,source:"default"},d=0;typeof t[d]!="object"||Mv(t[d])||(h=t[d],d++);const g={includeMetadataChanges:h.includeMetadataChanges,source:h.source};if(Mv(t[d])){const R=t[d];t[d]=(i=R.next)===null||i===void 0?void 0:i.bind(R),t[d+1]=(a=R.error)===null||a===void 0?void 0:a.bind(R),t[d+2]=(o=R.complete)===null||o===void 0?void 0:o.bind(R)}let y,p,A;if(r instanceof pn)p=_o(r.firestore,Qc),A=wm(r._key.path),y={next:R=>{t[d]&&t[d](XR(p,r,R))},error:t[d+1],complete:t[d+2]};else{const R=_o(r,Ps);p=_o(R.firestore,Qc),A=R._query;const N=new eT(p);y={next:L=>{t[d]&&t[d](new FR(p,N,R,L))},error:t[d+1],complete:t[d+2]},jR(r._query)}return function(N,L,H,Y){const F=new TR(Y),W=new nR(L,F,H);return N.asyncQueue.enqueueAndForget(async()=>Jw(await Rv(N),W)),()=>{F.su(),N.asyncQueue.enqueueAndForget(async()=>Ww(await Rv(N),W))}}(HE(p),A,g,y)}function KR(r,t){return function(a,o){const h=new Ds;return a.asyncQueue.enqueueAndForget(async()=>fR(await SR(a),o,h)),h.promise}(HE(r),t)}function XR(r,t,i){const a=i.docs.get(t._key),o=new eT(r);return new tT(r,o,t._key,a,new ho(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(o){Qa=o})(yS),Uc(new bo("firestore",(a,{instanceIdentifier:o,options:h})=>{const d=a.getProvider("app").getImmediate(),g=new Qc(new OS(a.getProvider("auth-internal")),new zS(d,a.getProvider("app-check-internal")),function(p,A){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ct($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Co(p.options.projectId,A)}(d,o),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),Oa(P_,L_,t),Oa(P_,L_,"esm2017")})();const $R={apiKey:"AIzaSyC7tw8UWIsoWP2v4iTU1NbvJpamXD_xEU0",authDomain:"dmvfood-1f61e.firebaseapp.com",projectId:"dmvfood-1f61e",storageBucket:"dmvfood-1f61e.firebasestorage.app",messagingSenderId:"104536917794",appId:"1:104536917794:web:355e0069c73aa14b2d877b",measurementId:"G-QXMF6CSBMQ"},ZR=E0($R),nT=DR(ZR);function JR(){const[r,t]=bt.useState(""),[i,a]=bt.useState(""),[o,h]=bt.useState(0),d=async g=>{if(g.preventDefault(),!r||!i||o===0)return alert("Please fill out all fields and give a rating.");try{await QR(qE(nT,"reviews"),{name:r,text:i,rating:o,createdAt:Te.now()}),t(""),a(""),h(0),alert("Thanks for your review!")}catch(y){console.error("Error adding review:",y),alert("Something went wrong.")}};return G.jsxs("form",{className:"bg-[#C1ADFF] p-6 rounded-lg max-w-lg mx-auto",onSubmit:d,children:[G.jsx("h2",{className:"text-xl text-center font-bold text-[#784390] mb-6",children:"Leave a Review"}),G.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[G.jsx("input",{type:"text",placeholder:"Your name",value:r,onChange:g=>t(g.target.value),className:"p-3 rounded-lg bg-white bg-opacity-10 text-center font-mono placeholder-black focus:outline-none focus:ring-2 focus:ring-[#784390] w-full"}),G.jsx("textarea",{placeholder:"Your review",value:i,onChange:g=>a(g.target.value),className:"p-3 rounded-lg bg-white bg-opacity-10 placeholder-black font-mono focus:outline-none focus:ring-2 focus:ring-[#784390] w-full"})]}),G.jsxs("div",{className:"flex items-center justify-center mt-4",children:[G.jsx("span",{className:"mr-2 text-black font-mono",children:"How many stars would you give us?"}),[1,2,3,4,5].map(g=>G.jsx("svg",{onClick:()=>h(g),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:o>=g?"#FBBF24":"#D1D5DB",className:"w-8 h-8 cursor-pointer",children:G.jsx("path",{fillRule:"evenodd",d:"M12 17.29l-5.447 3.216 1.04-6.095-4.44-4.324 6.14-.9L12 2.5l2.707 5.896 6.14.9-4.44 4.324 1.04 6.095L12 17.29z",clipRule:"evenodd"})},g))]}),G.jsx("button",{type:"submit",className:"w-full mt-6 p-3 bg-[#784390] text-white rounded-lg hover:bg-[#6a3e89] transition",children:"Submit"})]})}var Wm=Qo(),wt=r=>Go(r,Wm),tg=Qo();wt.write=r=>Go(r,tg);var hh=Qo();wt.onStart=r=>Go(r,hh);var eg=Qo();wt.onFrame=r=>Go(r,eg);var ng=Qo();wt.onFinish=r=>Go(r,ng);var Ua=[];wt.setTimeout=(r,t)=>{const i=wt.now()+t,a=()=>{const h=Ua.findIndex(d=>d.cancel==a);~h&&Ua.splice(h,1),Mr-=~h?1:0},o={time:i,handler:r,cancel:a};return Ua.splice(iT(i),0,o),Mr+=1,rT(),o};var iT=r=>~(~Ua.findIndex(t=>t.time>r)||~Ua.length);wt.cancel=r=>{hh.delete(r),eg.delete(r),ng.delete(r),Wm.delete(r),tg.delete(r)};wt.sync=r=>{lm=!0,wt.batchedUpdates(r),lm=!1};wt.throttle=r=>{let t;function i(){try{r(...t)}finally{t=null}}function a(...o){t=o,wt.onStart(i)}return a.handler=r,a.cancel=()=>{hh.delete(i),t=null},a};var ig=typeof window<"u"?window.requestAnimationFrame:()=>{};wt.use=r=>ig=r;wt.now=typeof performance<"u"?()=>performance.now():Date.now;wt.batchedUpdates=r=>r();wt.catch=console.error;wt.frameLoop="always";wt.advance=()=>{wt.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):aT()};var Or=-1,Mr=0,lm=!1;function Go(r,t){lm?(t.delete(r),r(0)):(t.add(r),rT())}function rT(){Or<0&&(Or=0,wt.frameLoop!=="demand"&&ig(sT))}function WR(){Or=-1}function sT(){~Or&&(ig(sT),wt.batchedUpdates(aT))}function aT(){const r=Or;Or=wt.now();const t=iT(Or);if(t&&(lT(Ua.splice(0,t),i=>i.handler()),Mr-=t),!Mr){WR();return}hh.flush(),Wm.flush(r?Math.min(64,Or-r):16.667),eg.flush(),tg.flush(),ng.flush()}function Qo(){let r=new Set,t=r;return{add(i){Mr+=t==r&&!r.has(i)?1:0,r.add(i)},delete(i){return Mr-=t==r&&r.has(i)?1:0,r.delete(i)},flush(i){t.size&&(r=new Set,Mr-=t.size,lT(t,a=>a(i)&&r.add(a)),Mr+=r.size,t=r)}}}function lT(r,t){r.forEach(i=>{try{t(i)}catch(a){wt.catch(a)}})}var t4=Object.defineProperty,e4=(r,t)=>{for(var i in t)t4(r,i,{get:t[i],enumerable:!0})},Yn={};e4(Yn,{assign:()=>i4,colors:()=>jr,createStringInterpolator:()=>sg,skipAnimation:()=>uT,to:()=>oT,willAdvance:()=>ag});function om(){}var n4=(r,t,i)=>Object.defineProperty(r,t,{value:i,writable:!0,configurable:!0}),et={arr:Array.isArray,obj:r=>!!r&&r.constructor.name==="Object",fun:r=>typeof r=="function",str:r=>typeof r=="string",num:r=>typeof r=="number",und:r=>r===void 0};function Hi(r,t){if(et.arr(r)){if(!et.arr(t)||r.length!==t.length)return!1;for(let i=0;i<r.length;i++)if(r[i]!==t[i])return!1;return!0}return r===t}var Ut=(r,t)=>r.forEach(t);function gi(r,t,i){if(et.arr(r)){for(let a=0;a<r.length;a++)t.call(i,r[a],`${a}`);return}for(const a in r)r.hasOwnProperty(a)&&t.call(i,r[a],a)}var gn=r=>et.und(r)?[]:et.arr(r)?r:[r];function vo(r,t){if(r.size){const i=Array.from(r);r.clear(),Ut(i,t)}}var fo=(r,...t)=>vo(r,i=>i(...t)),rg=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),sg,oT,jr=null,uT=!1,ag=om,i4=r=>{r.to&&(oT=r.to),r.now&&(wt.now=r.now),r.colors!==void 0&&(jr=r.colors),r.skipAnimation!=null&&(uT=r.skipAnimation),r.createStringInterpolator&&(sg=r.createStringInterpolator),r.requestAnimationFrame&&wt.use(r.requestAnimationFrame),r.batchedUpdates&&(wt.batchedUpdates=r.batchedUpdates),r.willAdvance&&(ag=r.willAdvance),r.frameLoop&&(wt.frameLoop=r.frameLoop)},Eo=new Set,zn=[],Nd=[],Kc=0,fh={get idle(){return!Eo.size&&!zn.length},start(r){Kc>r.priority?(Eo.add(r),wt.onStart(r4)):(cT(r),wt(um))},advance:um,sort(r){if(Kc)wt.onFrame(()=>fh.sort(r));else{const t=zn.indexOf(r);~t&&(zn.splice(t,1),hT(r))}},clear(){zn=[],Eo.clear()}};function r4(){Eo.forEach(cT),Eo.clear(),wt(um)}function cT(r){zn.includes(r)||hT(r)}function hT(r){zn.splice(s4(zn,t=>t.priority>r.priority),0,r)}function um(r){const t=Nd;for(let i=0;i<zn.length;i++){const a=zn[i];Kc=a.priority,a.idle||(ag(a),a.advance(r),a.idle||t.push(a))}return Kc=0,Nd=zn,Nd.length=0,zn=t,zn.length>0}function s4(r,t){const i=r.findIndex(t);return i<0?r.length:i}var a4={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Gn="[-+]?\\d*\\.?\\d+",Xc=Gn+"%";function dh(...r){return"\\(\\s*("+r.join(")\\s*,\\s*(")+")\\s*\\)"}var l4=new RegExp("rgb"+dh(Gn,Gn,Gn)),o4=new RegExp("rgba"+dh(Gn,Gn,Gn,Gn)),u4=new RegExp("hsl"+dh(Gn,Xc,Xc)),c4=new RegExp("hsla"+dh(Gn,Xc,Xc,Gn)),h4=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,f4=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,d4=/^#([0-9a-fA-F]{6})$/,m4=/^#([0-9a-fA-F]{8})$/;function g4(r){let t;return typeof r=="number"?r>>>0===r&&r>=0&&r<=4294967295?r:null:(t=d4.exec(r))?parseInt(t[1]+"ff",16)>>>0:jr&&jr[r]!==void 0?jr[r]:(t=l4.exec(r))?(Da(t[1])<<24|Da(t[2])<<16|Da(t[3])<<8|255)>>>0:(t=o4.exec(r))?(Da(t[1])<<24|Da(t[2])<<16|Da(t[3])<<8|jv(t[4]))>>>0:(t=h4.exec(r))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=m4.exec(r))?parseInt(t[1],16)>>>0:(t=f4.exec(r))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=u4.exec(r))?(Pv(Lv(t[1]),Tc(t[2]),Tc(t[3]))|255)>>>0:(t=c4.exec(r))?(Pv(Lv(t[1]),Tc(t[2]),Tc(t[3]))|jv(t[4]))>>>0:null}function Od(r,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?r+(t-r)*6*i:i<1/2?t:i<2/3?r+(t-r)*(2/3-i)*6:r}function Pv(r,t,i){const a=i<.5?i*(1+t):i+t-i*t,o=2*i-a,h=Od(o,a,r+1/3),d=Od(o,a,r),g=Od(o,a,r-1/3);return Math.round(h*255)<<24|Math.round(d*255)<<16|Math.round(g*255)<<8}function Da(r){const t=parseInt(r,10);return t<0?0:t>255?255:t}function Lv(r){return(parseFloat(r)%360+360)%360/360}function jv(r){const t=parseFloat(r);return t<0?0:t>1?255:Math.round(t*255)}function Tc(r){const t=parseFloat(r);return t<0?0:t>100?1:t/100}function kv(r){let t=g4(r);if(t===null)return r;t=t||0;const i=(t&4278190080)>>>24,a=(t&16711680)>>>16,o=(t&65280)>>>8,h=(t&255)/255;return`rgba(${i}, ${a}, ${o}, ${h})`}var No=(r,t,i)=>{if(et.fun(r))return r;if(et.arr(r))return No({range:r,output:t,extrapolate:i});if(et.str(r.output[0]))return sg(r);const a=r,o=a.output,h=a.range||[0,1],d=a.extrapolateLeft||a.extrapolate||"extend",g=a.extrapolateRight||a.extrapolate||"extend",y=a.easing||(p=>p);return p=>{const A=y4(p,h);return p4(p,h[A],h[A+1],o[A],o[A+1],y,d,g,a.map)}};function p4(r,t,i,a,o,h,d,g,y){let p=y?y(r):r;if(p<t){if(d==="identity")return p;d==="clamp"&&(p=t)}if(p>i){if(g==="identity")return p;g==="clamp"&&(p=i)}return a===o?a:t===i?r<=t?a:o:(t===-1/0?p=-p:i===1/0?p=p-t:p=(p-t)/(i-t),p=h(p),a===-1/0?p=-p:o===1/0?p=p+a:p=p*(o-a)+a,p)}function y4(r,t){for(var i=1;i<t.length-1&&!(t[i]>=r);++i);return i-1}var _4={linear:r=>r},Oo=Symbol.for("FluidValue.get"),Fa=Symbol.for("FluidValue.observers"),Mn=r=>!!(r&&r[Oo]),ln=r=>r&&r[Oo]?r[Oo]():r,Bv=r=>r[Fa]||null;function v4(r,t){r.eventObserved?r.eventObserved(t):r(t)}function Mo(r,t){const i=r[Fa];i&&i.forEach(a=>{v4(a,t)})}var fT=class{constructor(r){if(!r&&!(r=this.get))throw Error("Unknown getter");E4(this,r)}},E4=(r,t)=>dT(r,Oo,t);function Za(r,t){if(r[Oo]){let i=r[Fa];i||dT(r,Fa,i=new Set),i.has(t)||(i.add(t),r.observerAdded&&r.observerAdded(i.size,t))}return t}function Uo(r,t){const i=r[Fa];if(i&&i.has(t)){const a=i.size-1;a?i.delete(t):r[Fa]=null,r.observerRemoved&&r.observerRemoved(a,t)}}var dT=(r,t,i)=>Object.defineProperty(r,t,{value:i,writable:!0,configurable:!0}),Dc=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,T4=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,qv=new RegExp(`(${Dc.source})(%|[a-z]+)`,"i"),A4=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,mh=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,mT=r=>{const[t,i]=b4(r);if(!t||rg())return r;const a=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(a)return a.trim();if(i&&i.startsWith("--")){const o=window.getComputedStyle(document.documentElement).getPropertyValue(i);return o||r}else{if(i&&mh.test(i))return mT(i);if(i)return i}return r},b4=r=>{const t=mh.exec(r);if(!t)return[,];const[,i,a]=t;return[i,a]},Md,S4=(r,t,i,a,o)=>`rgba(${Math.round(t)}, ${Math.round(i)}, ${Math.round(a)}, ${o})`,gT=r=>{Md||(Md=jr?new RegExp(`(${Object.keys(jr).join("|")})(?!\\w)`,"g"):/^\b$/);const t=r.output.map(h=>ln(h).replace(mh,mT).replace(T4,kv).replace(Md,kv)),i=t.map(h=>h.match(Dc).map(Number)),o=i[0].map((h,d)=>i.map(g=>{if(!(d in g))throw Error('The arity of each "output" value must be equal');return g[d]})).map(h=>No({...r,output:h}));return h=>{var y;const d=!qv.test(t[0])&&((y=t.find(p=>qv.test(p)))==null?void 0:y.replace(Dc,""));let g=0;return t[0].replace(Dc,()=>`${o[g++](h)}${d||""}`).replace(A4,S4)}},lg="react-spring: ",pT=r=>{const t=r;let i=!1;if(typeof t!="function")throw new TypeError(`${lg}once requires a function parameter`);return(...a)=>{i||(t(...a),i=!0)}},w4=pT(console.warn);function R4(){w4(`${lg}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var C4=pT(console.warn);function D4(){C4(`${lg}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function gh(r){return et.str(r)&&(r[0]=="#"||/\d/.test(r)||!rg()&&mh.test(r)||r in(jr||{}))}var og=rg()?bt.useEffect:bt.useLayoutEffect,V4=()=>{const r=bt.useRef(!1);return og(()=>(r.current=!0,()=>{r.current=!1}),[]),r};function yT(){const r=bt.useState()[1],t=V4();return()=>{t.current&&r(Math.random())}}function x4(r,t){const[i]=bt.useState(()=>({inputs:t,result:r()})),a=bt.useRef(),o=a.current;let h=o;return h?t&&h.inputs&&I4(t,h.inputs)||(h={inputs:t,result:r()}):h=i,bt.useEffect(()=>{a.current=h,o==i&&(i.inputs=i.result=void 0)},[h]),h.result}function I4(r,t){if(r.length!==t.length)return!1;for(let i=0;i<r.length;i++)if(r[i]!==t[i])return!1;return!0}var _T=r=>bt.useEffect(r,N4),N4=[];function Hv(r){const t=bt.useRef();return bt.useEffect(()=>{t.current=r}),t.current}var zo=Symbol.for("Animated:node"),O4=r=>!!r&&r[zo]===r,hi=r=>r&&r[zo],ug=(r,t)=>n4(r,zo,t),ph=r=>r&&r[zo]&&r[zo].getPayload(),vT=class{constructor(){ug(this,this)}getPayload(){return this.payload||[]}},Yo=class extends vT{constructor(r){super(),this._value=r,this.done=!0,this.durationProgress=0,et.num(this._value)&&(this.lastPosition=this._value)}static create(r){return new Yo(r)}getPayload(){return[this]}getValue(){return this._value}setValue(r,t){return et.num(r)&&(this.lastPosition=r,t&&(r=Math.round(r/t)*t,this.done&&(this.lastPosition=r))),this._value===r?!1:(this._value=r,!0)}reset(){const{done:r}=this;this.done=!1,et.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,r&&(this.lastVelocity=null),this.v0=null)}},Po=class extends Yo{constructor(r){super(0),this._string=null,this._toString=No({output:[r,r]})}static create(r){return new Po(r)}getValue(){const r=this._string;return r??(this._string=this._toString(this._value))}setValue(r){if(et.str(r)){if(r==this._string)return!1;this._string=r,this._value=1}else if(super.setValue(r))this._string=null;else return!1;return!0}reset(r){r&&(this._toString=No({output:[this.getValue(),r]})),this._value=0,super.reset()}},$c={dependencies:null},yh=class extends vT{constructor(r){super(),this.source=r,this.setValue(r)}getValue(r){const t={};return gi(this.source,(i,a)=>{O4(i)?t[a]=i.getValue(r):Mn(i)?t[a]=ln(i):r||(t[a]=i)}),t}setValue(r){this.source=r,this.payload=this._makePayload(r)}reset(){this.payload&&Ut(this.payload,r=>r.reset())}_makePayload(r){if(r){const t=new Set;return gi(r,this._addToPayload,t),Array.from(t)}}_addToPayload(r){$c.dependencies&&Mn(r)&&$c.dependencies.add(r);const t=ph(r);t&&Ut(t,i=>this.add(i))}},ET=class extends yh{constructor(r){super(r)}static create(r){return new ET(r)}getValue(){return this.source.map(r=>r.getValue())}setValue(r){const t=this.getPayload();return r.length==t.length?t.map((i,a)=>i.setValue(r[a])).some(Boolean):(super.setValue(r.map(M4)),!0)}};function M4(r){return(gh(r)?Po:Yo).create(r)}function cm(r){const t=hi(r);return t?t.constructor:et.arr(r)?ET:gh(r)?Po:Yo}var Fv=(r,t)=>{const i=!et.fun(r)||r.prototype&&r.prototype.isReactComponent;return bt.forwardRef((a,o)=>{const h=bt.useRef(null),d=i&&bt.useCallback(H=>{h.current=P4(o,H)},[o]),[g,y]=z4(a,t),p=yT(),A=()=>{const H=h.current;if(i&&!H)return;(H?t.applyAnimatedValues(H,g.getValue(!0)):!1)===!1&&p()},R=new U4(A,y),N=bt.useRef();og(()=>(N.current=R,Ut(y,H=>Za(H,R)),()=>{N.current&&(Ut(N.current.deps,H=>Uo(H,N.current)),wt.cancel(N.current.update))})),bt.useEffect(A,[]),_T(()=>()=>{const H=N.current;Ut(H.deps,Y=>Uo(Y,H))});const L=t.getComponentProps(g.getValue());return bt.createElement(r,{...L,ref:d})})},U4=class{constructor(r,t){this.update=r,this.deps=t}eventObserved(r){r.type=="change"&&wt.write(this.update)}};function z4(r,t){const i=new Set;return $c.dependencies=i,r.style&&(r={...r,style:t.createAnimatedStyle(r.style)}),r=new yh(r),$c.dependencies=null,[r,i]}function P4(r,t){return r&&(et.fun(r)?r(t):r.current=t),t}var Gv=Symbol.for("AnimatedComponent"),L4=(r,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:i=o=>new yh(o),getComponentProps:a=o=>o}={})=>{const o={applyAnimatedValues:t,createAnimatedStyle:i,getComponentProps:a},h=d=>{const g=Qv(d)||"Anonymous";return et.str(d)?d=h[d]||(h[d]=Fv(d,o)):d=d[Gv]||(d[Gv]=Fv(d,o)),d.displayName=`Animated(${g})`,d};return gi(r,(d,g)=>{et.arr(r)&&(g=Qv(d)),h[g]=h(d)}),{animated:h}},Qv=r=>et.str(r)?r:r&&et.str(r.displayName)?r.displayName:et.fun(r)&&r.name||null;function ws(r,...t){return et.fun(r)?r(...t):r}var To=(r,t)=>r===!0||!!(t&&r&&(et.fun(r)?r(t):gn(r).includes(t))),TT=(r,t)=>et.obj(r)?t&&r[t]:r,AT=(r,t)=>r.default===!0?r[t]:r.default?r.default[t]:void 0,j4=r=>r,cg=(r,t=j4)=>{let i=k4;r.default&&r.default!==!0&&(r=r.default,i=Object.keys(r));const a={};for(const o of i){const h=t(r[o],o);et.und(h)||(a[o]=h)}return a},k4=["config","onProps","onStart","onChange","onPause","onResume","onRest"],B4={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function q4(r){const t={};let i=0;if(gi(r,(a,o)=>{B4[o]||(t[o]=a,i++)}),i)return t}function bT(r){const t=q4(r);if(t){const i={to:t};return gi(r,(a,o)=>o in t||(i[o]=a)),i}return{...r}}function Lo(r){return r=ln(r),et.arr(r)?r.map(Lo):gh(r)?Yn.createStringInterpolator({range:[0,1],output:[r,r]})(1):r}function H4(r){for(const t in r)return!0;return!1}function hm(r){return et.fun(r)||et.arr(r)&&et.obj(r[0])}function F4(r,t){var i;(i=r.ref)==null||i.delete(r),t==null||t.delete(r)}function G4(r,t){var i;t&&r.ref!==t&&((i=r.ref)==null||i.delete(r),t.add(r),r.ref=t)}var Q4={default:{tension:170,friction:26}},fm={...Q4.default,mass:1,damping:1,easing:_4.linear,clamp:!1},Y4=class{constructor(){this.velocity=0,Object.assign(this,fm)}};function K4(r,t,i){i&&(i={...i},Yv(i,t),t={...i,...t}),Yv(r,t),Object.assign(r,t);for(const d in fm)r[d]==null&&(r[d]=fm[d]);let{frequency:a,damping:o}=r;const{mass:h}=r;return et.und(a)||(a<.01&&(a=.01),o<0&&(o=0),r.tension=Math.pow(2*Math.PI/a,2)*h,r.friction=4*Math.PI*o*h/a),r}function Yv(r,t){if(!et.und(t.decay))r.duration=void 0;else{const i=!et.und(t.tension)||!et.und(t.friction);(i||!et.und(t.frequency)||!et.und(t.damping)||!et.und(t.mass))&&(r.duration=void 0,r.decay=void 0),i&&(r.frequency=void 0)}}var Kv=[],X4=class{constructor(){this.changed=!1,this.values=Kv,this.toValues=null,this.fromValues=Kv,this.config=new Y4,this.immediate=!1}};function ST(r,{key:t,props:i,defaultProps:a,state:o,actions:h}){return new Promise((d,g)=>{let y,p,A=To(i.cancel??(a==null?void 0:a.cancel),t);if(A)L();else{et.und(i.pause)||(o.paused=To(i.pause,t));let H=a==null?void 0:a.pause;H!==!0&&(H=o.paused||To(H,t)),y=ws(i.delay||0,t),H?(o.resumeQueue.add(N),h.pause()):(h.resume(),N())}function R(){o.resumeQueue.add(N),o.timeouts.delete(p),p.cancel(),y=p.time-wt.now()}function N(){y>0&&!Yn.skipAnimation?(o.delayed=!0,p=wt.setTimeout(L,y),o.pauseQueue.add(R),o.timeouts.add(p)):L()}function L(){o.delayed&&(o.delayed=!1),o.pauseQueue.delete(R),o.timeouts.delete(p),r<=(o.cancelId||0)&&(A=!0);try{h.start({...i,callId:r,cancel:A},d)}catch(H){g(H)}}})}var hg=(r,t)=>t.length==1?t[0]:t.some(i=>i.cancelled)?za(r.get()):t.every(i=>i.noop)?wT(r.get()):Hn(r.get(),t.every(i=>i.finished)),wT=r=>({value:r,noop:!0,finished:!0,cancelled:!1}),Hn=(r,t,i=!1)=>({value:r,finished:t,cancelled:i}),za=r=>({value:r,cancelled:!0,finished:!1});function RT(r,t,i,a){const{callId:o,parentId:h,onRest:d}=t,{asyncTo:g,promise:y}=i;return!h&&r===g&&!t.reset?y:i.promise=(async()=>{i.asyncId=o,i.asyncTo=r;const p=cg(t,(F,W)=>W==="onRest"?void 0:F);let A,R;const N=new Promise((F,W)=>(A=F,R=W)),L=F=>{const W=o<=(i.cancelId||0)&&za(a)||o!==i.asyncId&&Hn(a,!1);if(W)throw F.result=W,R(F),F},H=(F,W)=>{const rt=new Xv,nt=new $v;return(async()=>{if(Yn.skipAnimation)throw jo(i),nt.result=Hn(a,!1),R(nt),nt;L(rt);const dt=et.obj(F)?{...F}:{...W,to:F};dt.parentId=o,gi(p,(_t,x)=>{et.und(dt[x])&&(dt[x]=_t)});const tt=await a.start(dt);return L(rt),i.paused&&await new Promise(_t=>{i.resumeQueue.add(_t)}),tt})()};let Y;if(Yn.skipAnimation)return jo(i),Hn(a,!1);try{let F;et.arr(r)?F=(async W=>{for(const rt of W)await H(rt)})(r):F=Promise.resolve(r(H,a.stop.bind(a))),await Promise.all([F.then(A),N]),Y=Hn(a.get(),!0,!1)}catch(F){if(F instanceof Xv)Y=F.result;else if(F instanceof $v)Y=F.result;else throw F}finally{o==i.asyncId&&(i.asyncId=h,i.asyncTo=h?g:void 0,i.promise=h?y:void 0)}return et.fun(d)&&wt.batchedUpdates(()=>{d(Y,a,a.item)}),Y})()}function jo(r,t){vo(r.timeouts,i=>i.cancel()),r.pauseQueue.clear(),r.resumeQueue.clear(),r.asyncId=r.asyncTo=r.promise=void 0,t&&(r.cancelId=t)}var Xv=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},$v=class extends Error{constructor(){super("SkipAnimationSignal")}},dm=r=>r instanceof fg,$4=1,fg=class extends fT{constructor(){super(...arguments),this.id=$4++,this._priority=0}get priority(){return this._priority}set priority(r){this._priority!=r&&(this._priority=r,this._onPriorityChange(r))}get(){const r=hi(this);return r&&r.getValue()}to(...r){return Yn.to(this,r)}interpolate(...r){return R4(),Yn.to(this,r)}toJSON(){return this.get()}observerAdded(r){r==1&&this._attach()}observerRemoved(r){r==0&&this._detach()}_attach(){}_detach(){}_onChange(r,t=!1){Mo(this,{type:"change",parent:this,value:r,idle:t})}_onPriorityChange(r){this.idle||fh.sort(this),Mo(this,{type:"priority",parent:this,priority:r})}},Ns=Symbol.for("SpringPhase"),CT=1,DT=2,VT=4,Ud=r=>(r[Ns]&CT)>0,Ir=r=>(r[Ns]&DT)>0,so=r=>(r[Ns]&VT)>0,Zv=(r,t)=>t?r[Ns]|=DT|CT:r[Ns]&=-3,Jv=(r,t)=>t?r[Ns]|=VT:r[Ns]&=-5,Z4=class extends fg{constructor(r,t){if(super(),this.animation=new X4,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!et.und(r)||!et.und(t)){const i=et.obj(r)?{...r}:{...t,from:r};et.und(i.default)&&(i.default=!0),this.start(i)}}get idle(){return!(Ir(this)||this._state.asyncTo)||so(this)}get goal(){return ln(this.animation.to)}get velocity(){const r=hi(this);return r instanceof Yo?r.lastVelocity||0:r.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return Ud(this)}get isAnimating(){return Ir(this)}get isPaused(){return so(this)}get isDelayed(){return this._state.delayed}advance(r){let t=!0,i=!1;const a=this.animation;let{toValues:o}=a;const{config:h}=a,d=ph(a.to);!d&&Mn(a.to)&&(o=gn(ln(a.to))),a.values.forEach((p,A)=>{if(p.done)return;const R=p.constructor==Po?1:d?d[A].lastPosition:o[A];let N=a.immediate,L=R;if(!N){if(L=p.lastPosition,h.tension<=0){p.done=!0;return}let H=p.elapsedTime+=r;const Y=a.fromValues[A],F=p.v0!=null?p.v0:p.v0=et.arr(h.velocity)?h.velocity[A]:h.velocity;let W;const rt=h.precision||(Y==R?.005:Math.min(1,Math.abs(R-Y)*.001));if(et.und(h.duration))if(h.decay){const nt=h.decay===!0?.998:h.decay,dt=Math.exp(-(1-nt)*H);L=Y+F/(1-nt)*(1-dt),N=Math.abs(p.lastPosition-L)<=rt,W=F*dt}else{W=p.lastVelocity==null?F:p.lastVelocity;const nt=h.restVelocity||rt/10,dt=h.clamp?0:h.bounce,tt=!et.und(dt),_t=Y==R?p.v0>0:Y<R;let x,w=!1;const b=1,D=Math.ceil(r/b);for(let I=0;I<D&&(x=Math.abs(W)>nt,!(!x&&(N=Math.abs(R-L)<=rt,N)));++I){tt&&(w=L==R||L>R==_t,w&&(W=-W*dt,L=R));const U=-h.tension*1e-6*(L-R),C=-h.friction*.001*W,ce=(U+C)/h.mass;W=W+ce*b,L=L+W*b}}else{let nt=1;h.duration>0&&(this._memoizedDuration!==h.duration&&(this._memoizedDuration=h.duration,p.durationProgress>0&&(p.elapsedTime=h.duration*p.durationProgress,H=p.elapsedTime+=r)),nt=(h.progress||0)+H/this._memoizedDuration,nt=nt>1?1:nt<0?0:nt,p.durationProgress=nt),L=Y+h.easing(nt)*(R-Y),W=(L-p.lastPosition)/r,N=nt==1}p.lastVelocity=W,Number.isNaN(L)&&(console.warn("Got NaN while animating:",this),N=!0)}d&&!d[A].done&&(N=!1),N?p.done=!0:t=!1,p.setValue(L,h.round)&&(i=!0)});const g=hi(this),y=g.getValue();if(t){const p=ln(a.to);(y!==p||i)&&!h.decay?(g.setValue(p),this._onChange(p)):i&&h.decay&&this._onChange(y),this._stop()}else i&&this._onChange(y)}set(r){return wt.batchedUpdates(()=>{this._stop(),this._focus(r),this._set(r)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Ir(this)){const{to:r,config:t}=this.animation;wt.batchedUpdates(()=>{this._onStart(),t.decay||this._set(r,!1),this._stop()})}return this}update(r){return(this.queue||(this.queue=[])).push(r),this}start(r,t){let i;return et.und(r)?(i=this.queue||[],this.queue=[]):i=[et.obj(r)?r:{...t,to:r}],Promise.all(i.map(a=>this._update(a))).then(a=>hg(this,a))}stop(r){const{to:t}=this.animation;return this._focus(this.get()),jo(this._state,r&&this._lastCallId),wt.batchedUpdates(()=>this._stop(t,r)),this}reset(){this._update({reset:!0})}eventObserved(r){r.type=="change"?this._start():r.type=="priority"&&(this.priority=r.priority+1)}_prepareNode(r){const t=this.key||"";let{to:i,from:a}=r;i=et.obj(i)?i[t]:i,(i==null||hm(i))&&(i=void 0),a=et.obj(a)?a[t]:a,a==null&&(a=void 0);const o={to:i,from:a};return Ud(this)||(r.reverse&&([i,a]=[a,i]),a=ln(a),et.und(a)?hi(this)||this._set(i):this._set(a)),o}_update({...r},t){const{key:i,defaultProps:a}=this;r.default&&Object.assign(a,cg(r,(d,g)=>/^on/.test(g)?TT(d,i):d)),t0(this,r,"onProps"),lo(this,"onProps",r,this);const o=this._prepareNode(r);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const h=this._state;return ST(++this._lastCallId,{key:i,props:r,defaultProps:a,state:h,actions:{pause:()=>{so(this)||(Jv(this,!0),fo(h.pauseQueue),lo(this,"onPause",Hn(this,ao(this,this.animation.to)),this))},resume:()=>{so(this)&&(Jv(this,!1),Ir(this)&&this._resume(),fo(h.resumeQueue),lo(this,"onResume",Hn(this,ao(this,this.animation.to)),this))},start:this._merge.bind(this,o)}}).then(d=>{if(r.loop&&d.finished&&!(t&&d.noop)){const g=xT(r);if(g)return this._update(g,!0)}return d})}_merge(r,t,i){if(t.cancel)return this.stop(!0),i(za(this));const a=!et.und(r.to),o=!et.und(r.from);if(a||o)if(t.callId>this._lastToId)this._lastToId=t.callId;else return i(za(this));const{key:h,defaultProps:d,animation:g}=this,{to:y,from:p}=g;let{to:A=y,from:R=p}=r;o&&!a&&(!t.default||et.und(A))&&(A=R),t.reverse&&([A,R]=[R,A]);const N=!Hi(R,p);N&&(g.from=R),R=ln(R);const L=!Hi(A,y);L&&this._focus(A);const H=hm(t.to),{config:Y}=g,{decay:F,velocity:W}=Y;(a||o)&&(Y.velocity=0),t.config&&!H&&K4(Y,ws(t.config,h),t.config!==d.config?ws(d.config,h):void 0);let rt=hi(this);if(!rt||et.und(A))return i(Hn(this,!0));const nt=et.und(t.reset)?o&&!t.default:!et.und(R)&&To(t.reset,h),dt=nt?R:this.get(),tt=Lo(A),_t=et.num(tt)||et.arr(tt)||gh(tt),x=!H&&(!_t||To(d.immediate||t.immediate,h));if(L){const I=cm(A);if(I!==rt.constructor)if(x)rt=this._set(tt);else throw Error(`Cannot animate between ${rt.constructor.name} and ${I.name}, as the "to" prop suggests`)}const w=rt.constructor;let b=Mn(A),D=!1;if(!b){const I=nt||!Ud(this)&&N;(L||I)&&(D=Hi(Lo(dt),tt),b=!D),(!Hi(g.immediate,x)&&!x||!Hi(Y.decay,F)||!Hi(Y.velocity,W))&&(b=!0)}if(D&&Ir(this)&&(g.changed&&!nt?b=!0:b||this._stop(y)),!H&&((b||Mn(y))&&(g.values=rt.getPayload(),g.toValues=Mn(A)?null:w==Po?[1]:gn(tt)),g.immediate!=x&&(g.immediate=x,!x&&!nt&&this._set(y)),b)){const{onRest:I}=g;Ut(W4,C=>t0(this,t,C));const U=Hn(this,ao(this,y));fo(this._pendingCalls,U),this._pendingCalls.add(i),g.changed&&wt.batchedUpdates(()=>{var C;g.changed=!nt,I==null||I(U,this),nt?ws(d.onRest,U):(C=g.onStart)==null||C.call(g,U,this)})}nt&&this._set(dt),H?i(RT(t.to,t,this._state,this)):b?this._start():Ir(this)&&!L?this._pendingCalls.add(i):i(wT(dt))}_focus(r){const t=this.animation;r!==t.to&&(Bv(this)&&this._detach(),t.to=r,Bv(this)&&this._attach())}_attach(){let r=0;const{to:t}=this.animation;Mn(t)&&(Za(t,this),dm(t)&&(r=t.priority+1)),this.priority=r}_detach(){const{to:r}=this.animation;Mn(r)&&Uo(r,this)}_set(r,t=!0){const i=ln(r);if(!et.und(i)){const a=hi(this);if(!a||!Hi(i,a.getValue())){const o=cm(i);!a||a.constructor!=o?ug(this,o.create(i)):a.setValue(i),a&&wt.batchedUpdates(()=>{this._onChange(i,t)})}}return hi(this)}_onStart(){const r=this.animation;r.changed||(r.changed=!0,lo(this,"onStart",Hn(this,ao(this,r.to)),this))}_onChange(r,t){t||(this._onStart(),ws(this.animation.onChange,r,this)),ws(this.defaultProps.onChange,r,this),super._onChange(r,t)}_start(){const r=this.animation;hi(this).reset(ln(r.to)),r.immediate||(r.fromValues=r.values.map(t=>t.lastPosition)),Ir(this)||(Zv(this,!0),so(this)||this._resume())}_resume(){Yn.skipAnimation?this.finish():fh.start(this)}_stop(r,t){if(Ir(this)){Zv(this,!1);const i=this.animation;Ut(i.values,o=>{o.done=!0}),i.toValues&&(i.onChange=i.onPause=i.onResume=void 0),Mo(this,{type:"idle",parent:this});const a=t?za(this.get()):Hn(this.get(),ao(this,r??i.to));fo(this._pendingCalls,a),i.changed&&(i.changed=!1,lo(this,"onRest",a,this))}}};function ao(r,t){const i=Lo(t),a=Lo(r.get());return Hi(a,i)}function xT(r,t=r.loop,i=r.to){const a=ws(t);if(a){const o=a!==!0&&bT(a),h=(o||r).reverse,d=!o||o.reset;return ko({...r,loop:t,default:!1,pause:void 0,to:!h||hm(i)?i:void 0,from:d?r.from:void 0,reset:d,...o})}}function ko(r){const{to:t,from:i}=r=bT(r),a=new Set;return et.obj(t)&&Wv(t,a),et.obj(i)&&Wv(i,a),r.keys=a.size?Array.from(a):null,r}function J4(r){const t=ko(r);return et.und(t.default)&&(t.default=cg(t)),t}function Wv(r,t){gi(r,(i,a)=>i!=null&&t.add(a))}var W4=["onStart","onRest","onChange","onPause","onResume"];function t0(r,t,i){r.animation[i]=t[i]!==AT(t,i)?TT(t[i],r.key):void 0}function lo(r,t,...i){var a,o,h,d;(o=(a=r.animation)[t])==null||o.call(a,...i),(d=(h=r.defaultProps)[t])==null||d.call(h,...i)}var tC=["onStart","onChange","onRest"],eC=1,nC=class{constructor(r,t){this.id=eC++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),r&&this.start({default:!0,...r})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(r=>r.idle&&!r.isDelayed&&!r.isPaused)}get item(){return this._item}set item(r){this._item=r}get(){const r={};return this.each((t,i)=>r[i]=t.get()),r}set(r){for(const t in r){const i=r[t];et.und(i)||this.springs[t].set(i)}}update(r){return r&&this.queue.push(ko(r)),this}start(r){let{queue:t}=this;return r?t=gn(r).map(ko):this.queue=[],this._flush?this._flush(this,t):(UT(this,t),mm(this,t))}stop(r,t){if(r!==!!r&&(t=r),t){const i=this.springs;Ut(gn(t),a=>i[a].stop(!!r))}else jo(this._state,this._lastAsyncId),this.each(i=>i.stop(!!r));return this}pause(r){if(et.und(r))this.start({pause:!0});else{const t=this.springs;Ut(gn(r),i=>t[i].pause())}return this}resume(r){if(et.und(r))this.start({pause:!1});else{const t=this.springs;Ut(gn(r),i=>t[i].resume())}return this}each(r){gi(this.springs,r)}_onFrame(){const{onStart:r,onChange:t,onRest:i}=this._events,a=this._active.size>0,o=this._changed.size>0;(a&&!this._started||o&&!this._started)&&(this._started=!0,vo(r,([g,y])=>{y.value=this.get(),g(y,this,this._item)}));const h=!a&&this._started,d=o||h&&i.size?this.get():null;o&&t.size&&vo(t,([g,y])=>{y.value=d,g(y,this,this._item)}),h&&(this._started=!1,vo(i,([g,y])=>{y.value=d,g(y,this,this._item)}))}eventObserved(r){if(r.type=="change")this._changed.add(r.parent),r.idle||this._active.add(r.parent);else if(r.type=="idle")this._active.delete(r.parent);else return;wt.onFrame(this._onFrame)}};function mm(r,t){return Promise.all(t.map(i=>IT(r,i))).then(i=>hg(r,i))}async function IT(r,t,i){const{keys:a,to:o,from:h,loop:d,onRest:g,onResolve:y}=t,p=et.obj(t.default)&&t.default;d&&(t.loop=!1),o===!1&&(t.to=null),h===!1&&(t.from=null);const A=et.arr(o)||et.fun(o)?o:void 0;A?(t.to=void 0,t.onRest=void 0,p&&(p.onRest=void 0)):Ut(tC,Y=>{const F=t[Y];if(et.fun(F)){const W=r._events[Y];t[Y]=({finished:rt,cancelled:nt})=>{const dt=W.get(F);dt?(rt||(dt.finished=!1),nt&&(dt.cancelled=!0)):W.set(F,{value:null,finished:rt||!1,cancelled:nt||!1})},p&&(p[Y]=t[Y])}});const R=r._state;t.pause===!R.paused?(R.paused=t.pause,fo(t.pause?R.pauseQueue:R.resumeQueue)):R.paused&&(t.pause=!0);const N=(a||Object.keys(r.springs)).map(Y=>r.springs[Y].start(t)),L=t.cancel===!0||AT(t,"cancel")===!0;(A||L&&R.asyncId)&&N.push(ST(++r._lastAsyncId,{props:t,state:R,actions:{pause:om,resume:om,start(Y,F){L?(jo(R,r._lastAsyncId),F(za(r))):(Y.onRest=g,F(RT(A,Y,R,r)))}}})),R.paused&&await new Promise(Y=>{R.resumeQueue.add(Y)});const H=hg(r,await Promise.all(N));if(d&&H.finished&&!(i&&H.noop)){const Y=xT(t,d,o);if(Y)return UT(r,[Y]),IT(r,Y,!0)}return y&&wt.batchedUpdates(()=>y(H,r,r.item)),H}function e0(r,t){const i={...r.springs};return t&&Ut(gn(t),a=>{et.und(a.keys)&&(a=ko(a)),et.obj(a.to)||(a={...a,to:void 0}),MT(i,a,o=>OT(o))}),NT(r,i),i}function NT(r,t){gi(t,(i,a)=>{r.springs[a]||(r.springs[a]=i,Za(i,r))})}function OT(r,t){const i=new Z4;return i.key=r,t&&Za(i,t),i}function MT(r,t,i){t.keys&&Ut(t.keys,a=>{(r[a]||(r[a]=i(a)))._prepareNode(t)})}function UT(r,t){Ut(t,i=>{MT(r.springs,i,a=>OT(a,r))})}var _h=({children:r,...t})=>{const i=bt.useContext(Zc),a=t.pause||!!i.pause,o=t.immediate||!!i.immediate;t=x4(()=>({pause:a,immediate:o}),[a,o]);const{Provider:h}=Zc;return bt.createElement(h,{value:t},r)},Zc=iC(_h,{});_h.Provider=Zc.Provider;_h.Consumer=Zc.Consumer;function iC(r,t){return Object.assign(r,bt.createContext(t)),r.Provider._context=r,r.Consumer._context=r,r}var rC=()=>{const r=[],t=function(a){D4();const o=[];return Ut(r,(h,d)=>{if(et.und(a))o.push(h.start());else{const g=i(a,h,d);g&&o.push(h.start(g))}}),o};t.current=r,t.add=function(a){r.includes(a)||r.push(a)},t.delete=function(a){const o=r.indexOf(a);~o&&r.splice(o,1)},t.pause=function(){return Ut(r,a=>a.pause(...arguments)),this},t.resume=function(){return Ut(r,a=>a.resume(...arguments)),this},t.set=function(a){Ut(r,(o,h)=>{const d=et.fun(a)?a(h,o):a;d&&o.set(d)})},t.start=function(a){const o=[];return Ut(r,(h,d)=>{if(et.und(a))o.push(h.start());else{const g=this._getProps(a,h,d);g&&o.push(h.start(g))}}),o},t.stop=function(){return Ut(r,a=>a.stop(...arguments)),this},t.update=function(a){return Ut(r,(o,h)=>o.update(this._getProps(a,o,h))),this};const i=function(a,o,h){return et.fun(a)?a(h,o):a};return t._getProps=i,t};function sC(r,t,i){const a=et.fun(t)&&t;a&&!i&&(i=[]);const o=bt.useMemo(()=>a||arguments.length==3?rC():void 0,[]),h=bt.useRef(0),d=yT(),g=bt.useMemo(()=>({ctrls:[],queue:[],flush(W,rt){const nt=e0(W,rt);return h.current>0&&!g.queue.length&&!Object.keys(nt).some(tt=>!W.springs[tt])?mm(W,rt):new Promise(tt=>{NT(W,nt),g.queue.push(()=>{tt(mm(W,rt))}),d()})}}),[]),y=bt.useRef([...g.ctrls]),p=[],A=Hv(r)||0;bt.useMemo(()=>{Ut(y.current.slice(r,A),W=>{F4(W,o),W.stop(!0)}),y.current.length=r,R(A,r)},[r]),bt.useMemo(()=>{R(0,Math.min(A,r))},i);function R(W,rt){for(let nt=W;nt<rt;nt++){const dt=y.current[nt]||(y.current[nt]=new nC(null,g.flush)),tt=a?a(nt,dt):t[nt];tt&&(p[nt]=J4(tt))}}const N=y.current.map((W,rt)=>e0(W,p[rt])),L=bt.useContext(_h),H=Hv(L),Y=L!==H&&H4(L);og(()=>{h.current++,g.ctrls=y.current;const{queue:W}=g;W.length&&(g.queue=[],Ut(W,rt=>rt())),Ut(y.current,(rt,nt)=>{o==null||o.add(rt),Y&&rt.start({default:L});const dt=p[nt];dt&&(G4(rt,dt.ref),rt.ref?rt.queue.push(dt):rt.start(dt))})}),_T(()=>()=>{Ut(g.ctrls,W=>W.stop(!0))});const F=N.map(W=>({...W}));return o?[F,o]:F}function aC(r,t){const i=et.fun(r),[[a],o]=sC(1,i?r:[r],i?[]:t);return i||arguments.length==2?[a,o]:a}var lC=class extends fg{constructor(r,t){super(),this.source=r,this.idle=!0,this._active=new Set,this.calc=No(...t);const i=this._get(),a=cm(i);ug(this,a.create(i))}advance(r){const t=this._get(),i=this.get();Hi(t,i)||(hi(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&n0(this._active)&&zd(this)}_get(){const r=et.arr(this.source)?this.source.map(ln):gn(ln(this.source));return this.calc(...r)}_start(){this.idle&&!n0(this._active)&&(this.idle=!1,Ut(ph(this),r=>{r.done=!1}),Yn.skipAnimation?(wt.batchedUpdates(()=>this.advance()),zd(this)):fh.start(this))}_attach(){let r=1;Ut(gn(this.source),t=>{Mn(t)&&Za(t,this),dm(t)&&(t.idle||this._active.add(t),r=Math.max(r,t.priority+1))}),this.priority=r,this._start()}_detach(){Ut(gn(this.source),r=>{Mn(r)&&Uo(r,this)}),this._active.clear(),zd(this)}eventObserved(r){r.type=="change"?r.idle?this.advance():(this._active.add(r.parent),this._start()):r.type=="idle"?this._active.delete(r.parent):r.type=="priority"&&(this.priority=gn(this.source).reduce((t,i)=>Math.max(t,(dm(i)?i.priority:0)+1),0))}};function oC(r){return r.idle!==!1}function n0(r){return!r.size||Array.from(r).every(oC)}function zd(r){r.idle||(r.idle=!0,Ut(ph(r),t=>{t.done=!0}),Mo(r,{type:"idle",parent:r}))}Yn.assign({createStringInterpolator:gT,to:(r,t)=>new lC(r,t)});var uC=r0(),zT=/^--/;function cC(r,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!zT.test(r)&&!(Ao.hasOwnProperty(r)&&Ao[r])?t+"px":(""+t).trim()}var i0={};function hC(r,t){if(!r.nodeType||!r.setAttribute)return!1;const i=r.nodeName==="filter"||r.parentNode&&r.parentNode.nodeName==="filter",{className:a,style:o,children:h,scrollTop:d,scrollLeft:g,viewBox:y,...p}=t,A=Object.values(p),R=Object.keys(p).map(N=>i||r.hasAttribute(N)?N:i0[N]||(i0[N]=N.replace(/([A-Z])/g,L=>"-"+L.toLowerCase())));h!==void 0&&(r.textContent=h);for(const N in o)if(o.hasOwnProperty(N)){const L=cC(N,o[N]);zT.test(N)?r.style.setProperty(N,L):r.style[N]=L}R.forEach((N,L)=>{r.setAttribute(N,A[L])}),a!==void 0&&(r.className=a),d!==void 0&&(r.scrollTop=d),g!==void 0&&(r.scrollLeft=g),y!==void 0&&r.setAttribute("viewBox",y)}var Ao={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fC=(r,t)=>r+t.charAt(0).toUpperCase()+t.substring(1),dC=["Webkit","Ms","Moz","O"];Ao=Object.keys(Ao).reduce((r,t)=>(dC.forEach(i=>r[fC(i,t)]=r[t]),r),Ao);var mC=/^(matrix|translate|scale|rotate|skew)/,gC=/^(translate)/,pC=/^(rotate|skew)/,Pd=(r,t)=>et.num(r)&&r!==0?r+t:r,Vc=(r,t)=>et.arr(r)?r.every(i=>Vc(i,t)):et.num(r)?r===t:parseFloat(r)===t,yC=class extends yh{constructor({x:r,y:t,z:i,...a}){const o=[],h=[];(r||t||i)&&(o.push([r||0,t||0,i||0]),h.push(d=>[`translate3d(${d.map(g=>Pd(g,"px")).join(",")})`,Vc(d,0)])),gi(a,(d,g)=>{if(g==="transform")o.push([d||""]),h.push(y=>[y,y===""]);else if(mC.test(g)){if(delete a[g],et.und(d))return;const y=gC.test(g)?"px":pC.test(g)?"deg":"";o.push(gn(d)),h.push(g==="rotate3d"?([p,A,R,N])=>[`rotate3d(${p},${A},${R},${Pd(N,y)})`,Vc(N,0)]:p=>[`${g}(${p.map(A=>Pd(A,y)).join(",")})`,Vc(p,g.startsWith("scale")?1:0)])}}),o.length&&(a.transform=new _C(o,h)),super(a)}},_C=class extends fT{constructor(r,t){super(),this.inputs=r,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let r="",t=!0;return Ut(this.inputs,(i,a)=>{const o=ln(i[0]),[h,d]=this.transforms[a](et.arr(o)?o:i.map(ln));r+=" "+h,t=t&&d}),t?"none":r}observerAdded(r){r==1&&Ut(this.inputs,t=>Ut(t,i=>Mn(i)&&Za(i,this)))}observerRemoved(r){r==0&&Ut(this.inputs,t=>Ut(t,i=>Mn(i)&&Uo(i,this)))}eventObserved(r){r.type=="change"&&(this._value=null),Mo(this,r)}},vC=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];Yn.assign({batchedUpdates:uC.unstable_batchedUpdates,createStringInterpolator:gT,colors:a4});L4(vC,{applyAnimatedValues:hC,createAnimatedStyle:r=>new yC(r),getComponentProps:({scrollTop:r,scrollLeft:t,...i})=>i});function EC(){const[r,t]=bt.useState([]),[i,a]=bt.useState(0);bt.useEffect(()=>{const h=kR(qE(nT,"reviews"),BR("createdAt","desc")),d=YR(h,g=>{const y=g.docs.map(p=>({id:p.id,...p.data()}));t(y)});return()=>d()},[]),bt.useEffect(()=>{const h=setInterval(()=>{a(d=>(d+3)%r.length)},1e4);return()=>clearInterval(h)},[r]);const o=aC({opacity:1,from:{opacity:0},config:{duration:1e3}});return G.jsxs("div",{className:"max-w-3xl mx-auto mt-8 bg-[#C1ADFF] p-3 rounded-xl",children:[G.jsx("h2",{className:"text-3xl font-semibold text-center mb-6",children:"Reviews"}),G.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:r.slice(i,i+3).map(h=>G.jsxs("div",{style:o,children:[" ",G.jsxs("div",{className:"bg-white p-6 mb-4 shadow-md rounded-lg",children:[G.jsx("strong",{className:"text-xl text-gray-700",children:h.name}),G.jsx("p",{className:"text-gray-600 mt-2",children:h.text}),G.jsx("div",{className:"flex mt-2",children:[1,2,3,4,5].map(d=>G.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:h.rating>=d?"#FBBF24":"#D1D5DB",className:"w-6 h-6",children:G.jsx("path",{fillRule:"evenodd",d:"M12 17.29l-5.447 3.216 1.04-6.095-4.44-4.324 6.14-.9L12 2.5l2.707 5.896 6.14.9-4.44 4.324 1.04 6.095L12 17.29z",clipRule:"evenodd"})},d))})]})]},h.id))})]})}function TC(){return G.jsxs(G.Fragment,{children:[G.jsx(XA,{}),G.jsx(UA,{}),G.jsx(IA,{}),G.jsx(KA,{}),G.jsx(OA,{}),G.jsx(JR,{}),G.jsx(EC,{}),G.jsx(RA,{}),G.jsx(MA,{})]})}pA.createRoot(document.getElementById("root")).render(G.jsx(bt.StrictMode,{children:G.jsx(TC,{})}));
